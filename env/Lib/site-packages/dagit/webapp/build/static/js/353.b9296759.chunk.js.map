{"version":3,"file":"static/js/353.b9296759.chunk.js","mappings":"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","sources":["../../core/src/hooks/useSelectionReducer.ts","../../core/src/runs/ReexecutionDialog.tsx","../../core/src/runs/RunActionsMenu.tsx","../../core/src/runs/RunTable.tsx","../../core/src/runs/useCursorPaginatedQuery.tsx","../../core/src/ui/MenuLink.tsx"],"sourcesContent":["import React from 'react';\n\ntype State = {\n  checkedIds: Set<string>;\n  lastCheckedId: string | null;\n};\n\ntype Action =\n  | {type: 'toggle-one'; payload: {checked: boolean; id: string}}\n  | {\n      type: 'toggle-slice';\n      payload: {checked: boolean; id: string; allIds: string[]};\n    }\n  | {type: 'toggle-all'; payload: {checked: boolean; allIds: string[]}};\n\nconst reducer = (state: State, action: Action): State => {\n  const copy = new Set(Array.from(state.checkedIds));\n  switch (action.type) {\n    case 'toggle-one': {\n      const {checked, id} = action.payload;\n      checked ? copy.add(id) : copy.delete(id);\n      return {lastCheckedId: id, checkedIds: copy};\n    }\n\n    case 'toggle-slice': {\n      const {checked, id, allIds} = action.payload;\n      const {lastCheckedId} = state;\n\n      const indexOfLast = lastCheckedId ? allIds.indexOf(lastCheckedId) : -1;\n      const indexOfChecked = allIds.indexOf(id);\n      if (indexOfLast === -1 || indexOfChecked === -1) {\n        return state;\n      }\n\n      const [start, end] = [indexOfLast, indexOfChecked].sort();\n      for (let ii = start; ii <= end; ii++) {\n        checked ? copy.add(allIds[ii]) : copy.delete(allIds[ii]);\n      }\n\n      return {\n        lastCheckedId: id,\n        checkedIds: copy,\n      };\n    }\n\n    case 'toggle-all': {\n      const {checked, allIds} = action.payload;\n      return {\n        lastCheckedId: null,\n        checkedIds: checked ? new Set(allIds) : new Set(),\n      };\n    }\n  }\n};\n\nconst initialState: State = {\n  checkedIds: new Set(),\n  lastCheckedId: null,\n};\n\nexport function useSelectionReducer(allIds: string[]) {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const onToggleFactory = (id: string) => (values: {checked: boolean; shiftKey: boolean}) => {\n    const {checked, shiftKey} = values;\n    if (shiftKey && state.lastCheckedId) {\n      dispatch({type: 'toggle-slice', payload: {checked, id, allIds}});\n    } else {\n      dispatch({type: 'toggle-one', payload: {checked, id}});\n    }\n  };\n\n  const onToggleAll = (checked: boolean) => {\n    dispatch({type: 'toggle-all', payload: {checked, allIds}});\n  };\n\n  return [state, {onToggleFactory, onToggleAll}] as const;\n}\n","import {useMutation} from '@apollo/client';\n// eslint-disable-next-line no-restricted-imports\nimport {ProgressBar} from '@blueprintjs/core';\nimport {Button, Colors, DialogBody, DialogFooter, Dialog, Group, Icon, Mono} from '@dagster-io/ui';\nimport * as React from 'react';\n\nimport {ReexecutionStrategy} from '../graphql/types';\n\nimport {NavigationBlock} from './NavitationBlock';\nimport {LAUNCH_PIPELINE_REEXECUTION_MUTATION} from './RunUtils';\nimport {\n  LaunchPipelineReexecutionMutation,\n  LaunchPipelineReexecutionMutationVariables,\n} from './types/RunUtils.types';\n\ninterface Props {\n  isOpen: boolean;\n  onClose: () => void;\n  onComplete: (reexecutionState: ReexecutionState) => void;\n  selectedRuns: {[id: string]: string};\n  reexecutionStrategy: ReexecutionStrategy;\n}\n\nconst refineToError = (data: LaunchPipelineReexecutionMutation | null | undefined) => {\n  if (data?.launchPipelineReexecution.__typename === 'LaunchRunSuccess') {\n    throw new Error('Not an error!');\n  }\n  return data?.launchPipelineReexecution;\n};\n\ntype Error = ReturnType<typeof refineToError>;\n\nconst errorText = (error: Error) => {\n  if (!error) {\n    return 'Unknown error';\n  }\n  switch (error.__typename) {\n    case 'ConflictingExecutionParamsError':\n      return 'Conflicting execution parameters';\n    case 'InvalidOutputError':\n      return 'Invalid output';\n    case 'InvalidStepError':\n      return 'Invalid step';\n    case 'NoModeProvidedError':\n      return 'No mode provided';\n    case 'PipelineNotFoundError':\n      return 'Job not found in workspace';\n    case 'PresetNotFoundError':\n      return 'Preset not found';\n    case 'PythonError':\n      return error.message;\n    case 'RunConfigValidationInvalid':\n      return 'Run config invalid';\n    case 'RunConflict':\n      return 'Run conflict';\n    case 'UnauthorizedError':\n      return 'Re-execution not authorized';\n    case 'InvalidSubsetError':\n      return 'Invalid op subset: ' + error.message;\n    default:\n      return 'Unknown error';\n  }\n};\n\ntype ReexecutionState = {completed: number; errors: {[id: string]: Error}};\n\ntype ReexecutionDialogState = {\n  frozenRuns: SelectedRuns;\n  step: 'initial' | 'reexecuting' | 'completed';\n  reexecution: ReexecutionState;\n};\n\ntype SelectedRuns = {[id: string]: string};\n\nconst initializeState = (selectedRuns: SelectedRuns): ReexecutionDialogState => {\n  return {\n    frozenRuns: selectedRuns,\n    step: 'initial',\n    reexecution: {completed: 0, errors: {}},\n  };\n};\n\ntype ReexecutionDialogAction =\n  | {type: 'reset'; frozenRuns: SelectedRuns}\n  | {type: 'start'}\n  | {type: 'reexecution-success'}\n  | {type: 'reexecution-error'; id: string; error: Error}\n  | {type: 'complete'};\n\nconst reexecutionDialogReducer = (\n  prevState: ReexecutionDialogState,\n  action: ReexecutionDialogAction,\n): ReexecutionDialogState => {\n  switch (action.type) {\n    case 'reset':\n      return initializeState(action.frozenRuns);\n    case 'start':\n      return {...prevState, step: 'reexecuting'};\n    case 'reexecution-success': {\n      const {reexecution} = prevState;\n      return {\n        ...prevState,\n        step: 'reexecuting',\n        reexecution: {...reexecution, completed: reexecution.completed + 1},\n      };\n    }\n    case 'reexecution-error': {\n      const {reexecution} = prevState;\n      return {\n        ...prevState,\n        step: 'reexecuting',\n        reexecution: {\n          ...reexecution,\n          completed: reexecution.completed + 1,\n          errors: {...reexecution.errors, [action.id]: action.error},\n        },\n      };\n    }\n    case 'complete':\n      return {...prevState, step: 'completed'};\n  }\n};\n\nexport const ReexecutionDialog = (props: Props) => {\n  const {isOpen, onClose, onComplete, reexecutionStrategy, selectedRuns} = props;\n\n  // Freeze the selected IDs, since the list may change as runs continue processing and\n  // re-executing. We want to preserve the list we're given.\n  const frozenRuns = React.useRef<SelectedRuns>(selectedRuns);\n\n  const [state, dispatch] = React.useReducer(\n    reexecutionDialogReducer,\n    frozenRuns.current,\n    initializeState,\n  );\n\n  const count = Object.keys(state.frozenRuns).length;\n\n  // If the dialog is newly open, update state to match the frozen list.\n  React.useEffect(() => {\n    if (isOpen) {\n      dispatch({type: 'reset', frozenRuns: frozenRuns.current});\n    }\n  }, [isOpen]);\n\n  // If the dialog is not open, update the ref so that the frozen list will be entered\n  // into state the next time the dialog opens.\n  React.useEffect(() => {\n    if (!isOpen) {\n      frozenRuns.current = selectedRuns;\n    }\n  }, [isOpen, selectedRuns]);\n\n  const [reexecute] = useMutation<\n    LaunchPipelineReexecutionMutation,\n    LaunchPipelineReexecutionMutationVariables\n  >(LAUNCH_PIPELINE_REEXECUTION_MUTATION);\n\n  const mutate = async () => {\n    dispatch({type: 'start'});\n\n    const runList = Object.keys(state.frozenRuns);\n    for (let ii = 0; ii < runList.length; ii++) {\n      const runId = runList[ii];\n      const {data} = await reexecute({\n        variables: {\n          reexecutionParams: {\n            parentRunId: runId,\n            strategy: reexecutionStrategy,\n          },\n        },\n      });\n\n      if (data?.launchPipelineReexecution.__typename === 'LaunchRunSuccess') {\n        dispatch({type: 'reexecution-success'});\n      } else {\n        dispatch({type: 'reexecution-error', id: runId, error: refineToError(data)});\n      }\n    }\n\n    dispatch({type: 'complete'});\n    onComplete(state.reexecution);\n  };\n\n  const progressContent = () => {\n    switch (state.step) {\n      case 'initial':\n        if (!count) {\n          return (\n            <Group direction=\"column\" spacing={16}>\n              <div>No runs selected for re-execution.</div>\n              <div>The runs you selected may already have finished executing.</div>\n            </Group>\n          );\n        }\n\n        const message = () => {\n          if (reexecutionStrategy === ReexecutionStrategy.ALL_STEPS) {\n            return (\n              <span>\n                {`${count} ${count === 1 ? 'run' : 'runs'} will be re-executed `}\n                <strong>with all steps</strong>. Do you wish to continue?\n              </span>\n            );\n          }\n          return (\n            <span>\n              {`${count} ${count === 1 ? 'run' : 'runs'} will be re-executed `}\n              <strong>from failure</strong>. Do you wish to continue?\n            </span>\n          );\n        };\n\n        return (\n          <Group direction=\"column\" spacing={16}>\n            <div>{message()}</div>\n          </Group>\n        );\n      case 'reexecuting':\n      case 'completed':\n        const value = count > 0 ? state.reexecution.completed / count : 1;\n        return (\n          <Group direction=\"column\" spacing={8}>\n            <ProgressBar intent=\"primary\" value={Math.max(0.1, value)} animate={value < 1} />\n            {state.step === 'reexecuting' ? (\n              <NavigationBlock message=\"Re-execution in progress, please do not navigate away yet.\" />\n            ) : null}\n          </Group>\n        );\n      default:\n        return null;\n    }\n  };\n\n  const buttons = () => {\n    switch (state.step) {\n      case 'initial':\n        if (!count) {\n          return (\n            <Button intent=\"none\" onClick={onClose}>\n              OK\n            </Button>\n          );\n        }\n\n        return (\n          <>\n            <Button intent=\"none\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button intent=\"primary\" onClick={mutate}>\n              {`Re-execute ${`${count} ${count === 1 ? 'run' : 'runs'}`}`}\n            </Button>\n          </>\n        );\n      case 'reexecuting':\n        return (\n          <Button intent=\"primary\" disabled>\n            {`Re-executing ${`${count} ${count === 1 ? 'run' : 'runs'}...`}`}\n          </Button>\n        );\n      case 'completed':\n        return (\n          <Button intent=\"primary\" onClick={onClose}>\n            Done\n          </Button>\n        );\n    }\n  };\n\n  const completionContent = () => {\n    if (state.step === 'initial') {\n      return null;\n    }\n\n    if (state.step === 'reexecuting') {\n      return <div>Please do not close the window or navigate away during re-execution.</div>;\n    }\n\n    const errors = state.reexecution.errors;\n    const errorCount = Object.keys(errors).length;\n    const successCount = state.reexecution.completed - errorCount;\n\n    return (\n      <Group direction=\"column\" spacing={8}>\n        {successCount ? (\n          <Group direction=\"row\" spacing={8} alignItems=\"flex-start\">\n            <Icon name=\"check_circle\" color={Colors.Green500} />\n            <div>\n              {`Successfully requested re-execution for ${successCount} ${\n                successCount === 1 ? 'run' : `runs`\n              }.`}\n            </div>\n          </Group>\n        ) : null}\n        {errorCount ? (\n          <Group direction=\"column\" spacing={8}>\n            <Group direction=\"row\" spacing={8} alignItems=\"flex-start\">\n              <Icon name=\"warning\" color={Colors.Yellow500} />\n              <div>\n                {`Could not request re-execution for ${errorCount} ${\n                  errorCount === 1 ? 'run' : 'runs'\n                }:`}\n              </div>\n            </Group>\n            <ul>\n              {Object.keys(errors).map((runId) => (\n                <li key={runId}>\n                  <Group direction=\"row\" spacing={8} alignItems=\"baseline\">\n                    <Mono>{runId.slice(0, 8)}</Mono>\n                    {errors[runId] ? <div>{errorText(errors[runId])}</div> : null}\n                  </Group>\n                </li>\n              ))}\n            </ul>\n          </Group>\n        ) : null}\n      </Group>\n    );\n  };\n\n  const canQuicklyClose = state.step !== 'reexecuting';\n\n  return (\n    <Dialog\n      isOpen={isOpen}\n      title={\n        reexecutionStrategy === ReexecutionStrategy.ALL_STEPS\n          ? 'Re-execute runs'\n          : 'Re-execute runs from failure'\n      }\n      canEscapeKeyClose={canQuicklyClose}\n      canOutsideClickClose={canQuicklyClose}\n      onClose={onClose}\n    >\n      <DialogBody>\n        <Group direction=\"column\" spacing={24}>\n          {progressContent()}\n          {completionContent()}\n        </Group>\n      </DialogBody>\n      <DialogFooter>{buttons()}</DialogFooter>\n    </Dialog>\n  );\n};\n","import {gql, useLazyQuery, useMutation} from '@apollo/client';\nimport {\n  Button,\n  Icon,\n  MenuDivider,\n  MenuExternalLink,\n  MenuItem,\n  Menu,\n  Popover,\n  Tooltip,\n  DialogFooter,\n  Dialog,\n  StyledReadOnlyCodeMirror,\n} from '@dagster-io/ui';\nimport * as React from 'react';\nimport {useHistory} from 'react-router-dom';\n\nimport {AppContext} from '../app/AppContext';\nimport {SharedToaster} from '../app/DomUtils';\nimport {DEFAULT_DISABLED_REASON} from '../app/Permissions';\nimport {useCopyToClipboard} from '../app/browser';\nimport {ReexecutionStrategy} from '../graphql/types';\nimport {NO_LAUNCH_PERMISSION_MESSAGE} from '../launchpad/LaunchRootExecutionButton';\nimport {MenuLink} from '../ui/MenuLink';\nimport {isThisThingAJob} from '../workspace/WorkspaceContext';\nimport {useRepositoryForRunWithParentSnapshot} from '../workspace/useRepositoryForRun';\nimport {workspacePathFromRunDetails} from '../workspace/workspacePath';\n\nimport {DeletionDialog} from './DeletionDialog';\nimport {ReexecutionDialog} from './ReexecutionDialog';\nimport {doneStatuses, failedStatuses} from './RunStatuses';\nimport {\n  LAUNCH_PIPELINE_REEXECUTION_MUTATION,\n  RunsQueryRefetchContext,\n  getReexecutionVariables,\n  handleLaunchResult,\n} from './RunUtils';\nimport {TerminationDialog} from './TerminationDialog';\nimport {\n  PipelineEnvironmentQuery,\n  PipelineEnvironmentQueryVariables,\n} from './types/RunActionsMenu.types';\nimport {RunTableRunFragment} from './types/RunTable.types';\nimport {\n  LaunchPipelineReexecutionMutation,\n  LaunchPipelineReexecutionMutationVariables,\n} from './types/RunUtils.types';\nimport {useJobAvailabilityErrorForRun} from './useJobAvailabilityErrorForRun';\n\nexport const RunActionsMenu: React.FC<{\n  run: RunTableRunFragment;\n}> = React.memo(({run}) => {\n  const {refetch} = React.useContext(RunsQueryRefetchContext);\n  const [visibleDialog, setVisibleDialog] = React.useState<\n    'none' | 'terminate' | 'delete' | 'config'\n  >('none');\n\n  const {rootServerURI} = React.useContext(AppContext);\n  const history = useHistory();\n\n  const copyConfig = useCopyToClipboard();\n\n  const [reexecute] = useMutation<\n    LaunchPipelineReexecutionMutation,\n    LaunchPipelineReexecutionMutationVariables\n  >(LAUNCH_PIPELINE_REEXECUTION_MUTATION, {\n    onCompleted: refetch,\n  });\n\n  const [loadEnv, {called, loading, data}] = useLazyQuery<\n    PipelineEnvironmentQuery,\n    PipelineEnvironmentQueryVariables\n  >(PIPELINE_ENVIRONMENT_QUERY, {\n    variables: {runId: run.runId},\n  });\n\n  const closeDialogs = () => {\n    setVisibleDialog('none');\n  };\n\n  const onComplete = () => {\n    refetch();\n  };\n\n  const pipelineRun =\n    data?.pipelineRunOrError?.__typename === 'Run' ? data?.pipelineRunOrError : null;\n  const runConfigYaml = pipelineRun?.runConfigYaml;\n\n  const repoMatch = useRepositoryForRunWithParentSnapshot(pipelineRun);\n  const jobError = useJobAvailabilityErrorForRun({\n    ...run,\n    parentPipelineSnapshotId: pipelineRun?.parentPipelineSnapshotId,\n  });\n\n  const isFinished = doneStatuses.has(run.status);\n  const isJob = !!(repoMatch && isThisThingAJob(repoMatch?.match, run.pipelineName));\n\n  const infoReady = called ? !loading : false;\n\n  const reexecutionDisabledState = React.useMemo(() => {\n    if (!run.hasReExecutePermission) {\n      return {disabled: true, message: DEFAULT_DISABLED_REASON};\n    }\n    if (jobError) {\n      return {disabled: jobError.disabled, message: jobError.tooltip};\n    }\n    if (!infoReady) {\n      return {disabled: true};\n    }\n    return {disabled: false};\n  }, [run.hasReExecutePermission, jobError, infoReady]);\n\n  return (\n    <>\n      <Popover\n        content={\n          <Menu>\n            <MenuItem\n              tagName=\"button\"\n              text={loading ? 'Loading configuration...' : 'View configuration...'}\n              disabled={!runConfigYaml}\n              icon=\"open_in_new\"\n              onClick={() => setVisibleDialog('config')}\n            />\n            <MenuDivider />\n            <>\n              <Tooltip\n                content={\n                  run.hasReExecutePermission ? OPEN_LAUNCHPAD_UNKNOWN : NO_LAUNCH_PERMISSION_MESSAGE\n                }\n                position=\"left\"\n                disabled={infoReady && run.hasReExecutePermission}\n                targetTagName=\"div\"\n              >\n                <MenuLink\n                  text=\"Open in Launchpad...\"\n                  disabled={!infoReady || !run.hasReExecutePermission}\n                  icon=\"edit\"\n                  to={workspacePathFromRunDetails({\n                    id: run.id,\n                    pipelineName: run.pipelineName,\n                    repositoryName: repoMatch?.match.repository.name,\n                    repositoryLocationName: repoMatch?.match.repositoryLocation.name,\n                    isJob,\n                  })}\n                />\n              </Tooltip>\n              <Tooltip\n                content={reexecutionDisabledState.message || ''}\n                position=\"left\"\n                canShow={reexecutionDisabledState.disabled}\n                targetTagName=\"div\"\n              >\n                <MenuItem\n                  tagName=\"button\"\n                  text=\"Re-execute\"\n                  disabled={reexecutionDisabledState.disabled}\n                  icon=\"refresh\"\n                  onClick={async () => {\n                    if (repoMatch && runConfigYaml) {\n                      const result = await reexecute({\n                        variables: getReexecutionVariables({\n                          run: {...run, runConfigYaml},\n                          style: {type: 'all'},\n                          repositoryLocationName: repoMatch.match.repositoryLocation.name,\n                          repositoryName: repoMatch.match.repository.name,\n                        }),\n                      });\n                      handleLaunchResult(\n                        run.pipelineName,\n                        result.data?.launchPipelineReexecution,\n                        history,\n                        {\n                          behavior: 'open',\n                        },\n                      );\n                    }\n                  }}\n                />\n              </Tooltip>\n              {isFinished || !run.hasTerminatePermission ? null : (\n                <MenuItem\n                  tagName=\"button\"\n                  icon=\"cancel\"\n                  text=\"Terminate\"\n                  onClick={() => setVisibleDialog('terminate')}\n                />\n              )}\n              <MenuDivider />\n            </>\n            <MenuExternalLink\n              text=\"Download debug file\"\n              icon=\"download_for_offline\"\n              download\n              href={`${rootServerURI}/download_debug/${run.runId}`}\n            />\n            {run.hasDeletePermission ? (\n              <MenuItem\n                tagName=\"button\"\n                icon=\"delete\"\n                text=\"Delete\"\n                intent=\"danger\"\n                onClick={() => setVisibleDialog('delete')}\n              />\n            ) : null}\n          </Menu>\n        }\n        position=\"bottom-right\"\n        onOpening={() => {\n          if (!called) {\n            loadEnv();\n          }\n        }}\n      >\n        <Button icon={<Icon name=\"expand_more\" />} />\n      </Popover>\n      {run.hasTerminatePermission ? (\n        <TerminationDialog\n          isOpen={visibleDialog === 'terminate'}\n          onClose={closeDialogs}\n          onComplete={onComplete}\n          selectedRuns={{[run.id]: run.canTerminate}}\n        />\n      ) : null}\n      {run.hasDeletePermission ? (\n        <DeletionDialog\n          isOpen={visibleDialog === 'delete'}\n          onClose={closeDialogs}\n          onComplete={onComplete}\n          onTerminateInstead={() => setVisibleDialog('terminate')}\n          selectedRuns={{[run.id]: run.canTerminate}}\n        />\n      ) : null}\n      <Dialog\n        isOpen={visibleDialog === 'config'}\n        title=\"Config\"\n        canOutsideClickClose\n        canEscapeKeyClose\n        onClose={closeDialogs}\n      >\n        <StyledReadOnlyCodeMirror\n          value={runConfigYaml || ''}\n          options={{lineNumbers: true, mode: 'yaml'}}\n        />\n        <DialogFooter topBorder>\n          <Button\n            intent=\"none\"\n            onClick={() => {\n              copyConfig(runConfigYaml || '');\n              SharedToaster.show({\n                intent: 'success',\n                icon: 'copy_to_clipboard_done',\n                message: 'Copied!',\n              });\n            }}\n          >\n            Copy config\n          </Button>\n          <Button intent=\"primary\" onClick={closeDialogs}>\n            OK\n          </Button>\n        </DialogFooter>\n      </Dialog>\n    </>\n  );\n});\n\nexport const RunBulkActionsMenu: React.FC<{\n  selected: RunTableRunFragment[];\n  clearSelection: () => void;\n}> = React.memo(({selected, clearSelection}) => {\n  const {refetch} = React.useContext(RunsQueryRefetchContext);\n\n  const [visibleDialog, setVisibleDialog] = React.useState<\n    'none' | 'terminate' | 'delete' | 'reexecute-from-failure' | 'reexecute'\n  >('none');\n\n  const canTerminateAny = React.useMemo(() => {\n    return selected.some((run) => run.hasTerminatePermission);\n  }, [selected]);\n\n  const canDeleteAny = React.useMemo(() => {\n    return selected.some((run) => run.hasTerminatePermission);\n  }, [selected]);\n\n  const canReexecuteAny = React.useMemo(() => {\n    return selected.some((run) => run.hasReExecutePermission);\n  }, [selected]);\n\n  const disabled = !canTerminateAny && !canDeleteAny;\n\n  const terminatableRuns = selected.filter(\n    (r) => !doneStatuses.has(r?.status) && r.hasTerminatePermission,\n  );\n  const terminateableIDs = terminatableRuns.map((r) => r.id);\n  const terminateableMap = terminatableRuns.reduce(\n    (accum, run) => ({...accum, [run.id]: run.canTerminate}),\n    {},\n  );\n\n  const deleteableIDs = selected.map((run) => run.runId);\n  const deletionMap = selected.reduce((accum, run) => ({...accum, [run.id]: run.canTerminate}), {});\n\n  const reexecuteFromFailureRuns = selected.filter(\n    (r) => failedStatuses.has(r?.status) && r.hasReExecutePermission,\n  );\n  const reexecuteFromFailureMap = reexecuteFromFailureRuns.reduce(\n    (accum, run) => ({...accum, [run.id]: run.id}),\n    {},\n  );\n\n  const reexecutableRuns = selected.filter(\n    (r) => doneStatuses.has(r?.status) && r.hasReExecutePermission,\n  );\n  const reexecutableMap = reexecutableRuns.reduce(\n    (accum, run) => ({...accum, [run.id]: run.id}),\n    {},\n  );\n\n  const closeDialogs = () => {\n    setVisibleDialog('none');\n  };\n\n  const onComplete = () => {\n    clearSelection();\n    refetch();\n  };\n\n  return (\n    <>\n      <Popover\n        content={\n          <Menu>\n            {canTerminateAny ? (\n              <MenuItem\n                icon=\"cancel\"\n                text={`Terminate ${terminateableIDs.length} ${\n                  terminateableIDs.length === 1 ? 'run' : 'runs'\n                }`}\n                disabled={terminateableIDs.length === 0}\n                onClick={() => {\n                  setVisibleDialog('terminate');\n                }}\n              />\n            ) : null}\n            {canDeleteAny ? (\n              <MenuItem\n                icon=\"delete\"\n                intent=\"danger\"\n                text={`Delete ${deleteableIDs.length} ${\n                  deleteableIDs.length === 1 ? 'run' : 'runs'\n                }`}\n                disabled={deleteableIDs.length === 0}\n                onClick={() => {\n                  setVisibleDialog('delete');\n                }}\n              />\n            ) : null}\n            {canReexecuteAny ? (\n              <>\n                <MenuItem\n                  icon=\"refresh\"\n                  text={`Re-execute ${reexecutableRuns.length} ${\n                    reexecutableRuns.length === 1 ? 'run' : 'runs'\n                  }`}\n                  disabled={reexecutableRuns.length === 0}\n                  onClick={() => {\n                    setVisibleDialog('reexecute');\n                  }}\n                />\n                <MenuItem\n                  icon=\"refresh\"\n                  text={`Re-execute ${reexecuteFromFailureRuns.length} ${\n                    reexecuteFromFailureRuns.length === 1 ? 'run' : 'runs'\n                  } from failure`}\n                  disabled={reexecuteFromFailureRuns.length === 0}\n                  onClick={() => {\n                    setVisibleDialog('reexecute-from-failure');\n                  }}\n                />\n              </>\n            ) : null}\n          </Menu>\n        }\n        position=\"bottom-right\"\n      >\n        <Button\n          disabled={disabled || selected.length === 0}\n          rightIcon={<Icon name=\"expand_more\" />}\n        >\n          Actions\n        </Button>\n      </Popover>\n      <TerminationDialog\n        isOpen={visibleDialog === 'terminate'}\n        onClose={closeDialogs}\n        onComplete={onComplete}\n        selectedRuns={terminateableMap}\n      />\n      <DeletionDialog\n        isOpen={visibleDialog === 'delete'}\n        onClose={closeDialogs}\n        onComplete={onComplete}\n        onTerminateInstead={() => setVisibleDialog('terminate')}\n        selectedRuns={deletionMap}\n      />\n      <ReexecutionDialog\n        isOpen={visibleDialog === 'reexecute-from-failure'}\n        onClose={closeDialogs}\n        onComplete={onComplete}\n        selectedRuns={reexecuteFromFailureMap}\n        reexecutionStrategy={ReexecutionStrategy.FROM_FAILURE}\n      />\n      <ReexecutionDialog\n        isOpen={visibleDialog === 'reexecute'}\n        onClose={closeDialogs}\n        onComplete={onComplete}\n        selectedRuns={reexecutableMap}\n        reexecutionStrategy={ReexecutionStrategy.ALL_STEPS}\n      />\n    </>\n  );\n});\n\nconst OPEN_LAUNCHPAD_UNKNOWN =\n  'Launchpad is unavailable because the pipeline is not present in the current repository.';\n\n// Avoid fetching envYaml and parentPipelineSnapshotId on load in Runs page, they're slow.\nconst PIPELINE_ENVIRONMENT_QUERY = gql`\n  query PipelineEnvironmentQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        pipelineName\n        pipelineSnapshotId\n        runConfigYaml\n        pipelineName\n        parentPipelineSnapshotId\n        repositoryOrigin {\n          id\n          repositoryName\n          repositoryLocationName\n        }\n      }\n    }\n  }\n`;\n","import {gql} from '@apollo/client';\nimport {Box, Checkbox, Colors, Icon, NonIdealState, Table, Mono} from '@dagster-io/ui';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\nimport {isHiddenAssetGroupJob} from '../asset-graph/Utils';\nimport {RunsFilter} from '../graphql/types';\nimport {useSelectionReducer} from '../hooks/useSelectionReducer';\nimport {PipelineSnapshotLink} from '../pipelines/PipelinePathUtils';\nimport {PipelineReference} from '../pipelines/PipelineReference';\nimport {AnchorButton} from '../ui/AnchorButton';\nimport {\n  findRepositoryAmongOptions,\n  isThisThingAJob,\n  useRepositoryOptions,\n} from '../workspace/WorkspaceContext';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {useRepositoryForRunWithoutSnapshot} from '../workspace/useRepositoryForRun';\nimport {workspacePipelinePath, workspacePipelinePathGuessRepo} from '../workspace/workspacePath';\n\nimport {AssetKeyTagCollection} from './AssetKeyTagCollection';\nimport {RunActionsMenu, RunBulkActionsMenu} from './RunActionsMenu';\nimport {RunStatusTagWithStats} from './RunStatusTag';\nimport {RunTags} from './RunTags';\nimport {\n  assetKeysForRun,\n  RunStateSummary,\n  RunTime,\n  RUN_TIME_FRAGMENT,\n  titleForRun,\n} from './RunUtils';\nimport {RunFilterToken} from './RunsFilterInput';\nimport {RunTableRunFragment} from './types/RunTable.types';\n\ninterface RunTableProps {\n  runs: RunTableRunFragment[];\n  filter?: RunsFilter;\n  onAddTag?: (token: RunFilterToken) => void;\n  actionBarComponents?: React.ReactNode;\n  highlightedIds?: string[];\n  additionalColumnHeaders?: React.ReactNode[];\n  additionalColumnsForRow?: (run: RunTableRunFragment) => React.ReactNode[];\n}\n\nexport const RunTable = (props: RunTableProps) => {\n  const {runs, filter, onAddTag, highlightedIds, actionBarComponents} = props;\n  const allIds = runs.map((r) => r.runId);\n\n  const [{checkedIds}, {onToggleFactory, onToggleAll}] = useSelectionReducer(allIds);\n\n  const canTerminateOrDeleteAny = React.useMemo(() => {\n    return runs.some((run) => run.hasTerminatePermission || run.hasDeletePermission);\n  }, [runs]);\n\n  const {options} = useRepositoryOptions();\n\n  if (runs.length === 0) {\n    const anyFilter = Object.keys(filter || {}).length;\n    return (\n      <div>\n        {actionBarComponents ? (\n          <Box padding={{vertical: 8, left: 24, right: 12}}>{actionBarComponents}</Box>\n        ) : null}\n        <Box margin={{vertical: 32}}>\n          {anyFilter ? (\n            <NonIdealState\n              icon=\"run\"\n              title=\"No matching runs\"\n              description=\"No runs were found for this filter.\"\n            />\n          ) : (\n            <NonIdealState\n              icon=\"run\"\n              title=\"No runs found\"\n              description={\n                <Box flex={{direction: 'column', gap: 12}}>\n                  <div>You have not launched any runs yet.</div>\n                  <Box flex={{direction: 'row', gap: 12, alignItems: 'center'}}>\n                    <AnchorButton icon={<Icon name=\"add_circle\" />} to=\"/overview/jobs\">\n                      Launch a run\n                    </AnchorButton>\n                    <span>or</span>\n                    <AnchorButton icon={<Icon name=\"materialization\" />} to=\"/asset-groups\">\n                      Materialize an asset\n                    </AnchorButton>\n                  </Box>\n                </Box>\n              }\n            />\n          )}\n        </Box>\n      </div>\n    );\n  }\n\n  let anyPipelines = false;\n  for (const run of runs) {\n    const {repositoryOrigin} = run;\n    if (repositoryOrigin) {\n      const repoAddress = buildRepoAddress(\n        repositoryOrigin.repositoryName,\n        repositoryOrigin.repositoryLocationName,\n      );\n      const repo = findRepositoryAmongOptions(options, repoAddress);\n      if (!repo || !isThisThingAJob(repo, run.pipelineName)) {\n        anyPipelines = true;\n        break;\n      }\n    }\n  }\n\n  const selectedFragments = runs.filter((run) => checkedIds.has(run.runId));\n\n  return (\n    <>\n      <Box flex={{alignItems: 'center', gap: 12}} padding={{vertical: 8, left: 24, right: 12}}>\n        {actionBarComponents}\n        <div style={{flex: 1}} />\n        <RunBulkActionsMenu\n          selected={selectedFragments}\n          clearSelection={() => onToggleAll(false)}\n        />\n      </Box>\n\n      <Table>\n        <thead>\n          <tr>\n            <th style={{width: 42, paddingTop: 0, paddingBottom: 0}}>\n              {canTerminateOrDeleteAny ? (\n                <Checkbox\n                  indeterminate={checkedIds.size > 0 && checkedIds.size !== runs.length}\n                  checked={checkedIds.size === runs.length}\n                  onChange={(e: React.FormEvent<HTMLInputElement>) => {\n                    if (e.target instanceof HTMLInputElement) {\n                      onToggleAll(e.target.checked);\n                    }\n                  }}\n                />\n              ) : null}\n            </th>\n            <th style={{width: 120}}>Status</th>\n            <th style={{width: 90}}>Run ID</th>\n            <th>{anyPipelines ? 'Job / Pipeline' : 'Job'}</th>\n            <th style={{width: 90}}>Snapshot ID</th>\n            <th style={{width: 190}}>Timing</th>\n            {props.additionalColumnHeaders}\n            <th style={{width: 52}} />\n          </tr>\n        </thead>\n        <tbody>\n          {runs.map((run) => (\n            <RunRow\n              canTerminateOrDelete={run.hasTerminatePermission || run.hasDeletePermission}\n              run={run}\n              key={run.runId}\n              onAddTag={onAddTag}\n              checked={checkedIds.has(run.runId)}\n              additionalColumns={props.additionalColumnsForRow?.(run)}\n              onToggleChecked={onToggleFactory(run.runId)}\n              isHighlighted={highlightedIds && highlightedIds.includes(run.runId)}\n            />\n          ))}\n        </tbody>\n      </Table>\n    </>\n  );\n};\n\nexport const RUN_TABLE_RUN_FRAGMENT = gql`\n  fragment RunTableRunFragment on Run {\n    id\n    runId\n    status\n    stepKeysToExecute\n    canTerminate\n    hasReExecutePermission\n    hasTerminatePermission\n    hasDeletePermission\n    mode\n    rootRunId\n    parentRunId\n    pipelineSnapshotId\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n    solidSelection\n    assetSelection {\n      ... on AssetKey {\n        path\n      }\n    }\n    status\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ${RUN_TIME_FRAGMENT}\n`;\n\nconst RunRow: React.FC<{\n  run: RunTableRunFragment;\n  canTerminateOrDelete: boolean;\n  onAddTag?: (token: RunFilterToken) => void;\n  checked?: boolean;\n  onToggleChecked?: (values: {checked: boolean; shiftKey: boolean}) => void;\n  additionalColumns?: React.ReactNode[];\n  isHighlighted?: boolean;\n}> = ({\n  run,\n  canTerminateOrDelete,\n  onAddTag,\n  checked,\n  onToggleChecked,\n  additionalColumns,\n  isHighlighted,\n}) => {\n  const {pipelineName} = run;\n  const repo = useRepositoryForRunWithoutSnapshot(run);\n\n  const isJob = React.useMemo(() => {\n    if (repo) {\n      const pipelinesAndJobs = repo.match.repository.pipelines;\n      const match = pipelinesAndJobs.find((pipelineOrJob) => pipelineOrJob.name === pipelineName);\n      return !!match?.isJob;\n    }\n    return false;\n  }, [repo, pipelineName]);\n\n  const onChange = (e: React.FormEvent<HTMLInputElement>) => {\n    if (e.target instanceof HTMLInputElement) {\n      const {checked} = e.target;\n      const shiftKey =\n        e.nativeEvent instanceof MouseEvent && e.nativeEvent.getModifierState('Shift');\n      onToggleChecked && onToggleChecked({checked, shiftKey});\n    }\n  };\n\n  return (\n    <Row highlighted={!!isHighlighted}>\n      <td>\n        {canTerminateOrDelete && onToggleChecked ? (\n          <Checkbox checked={!!checked} onChange={onChange} />\n        ) : null}\n      </td>\n      <td>\n        <RunStatusTagWithStats status={run.status} runId={run.runId} />\n      </td>\n      <td>\n        <Link to={`/runs/${run.runId}`}>\n          <Mono>{titleForRun(run)}</Mono>\n        </Link>\n      </td>\n      <td>\n        <Box flex={{direction: 'column', gap: 5}}>\n          {isHiddenAssetGroupJob(run.pipelineName) ? (\n            <AssetKeyTagCollection assetKeys={assetKeysForRun(run)} />\n          ) : (\n            <Box flex={{direction: 'row', gap: 8, alignItems: 'center'}}>\n              <PipelineReference\n                isJob={isJob}\n                showIcon\n                pipelineName={run.pipelineName}\n                pipelineHrefContext=\"no-link\"\n              />\n              <Link\n                to={\n                  repo\n                    ? workspacePipelinePath({\n                        repoName: repo.match.repository.name,\n                        repoLocation: repo.match.repositoryLocation.name,\n                        pipelineName: run.pipelineName,\n                        isJob,\n                      })\n                    : workspacePipelinePathGuessRepo(run.pipelineName)\n                }\n                target=\"_blank\"\n              >\n                <Icon name=\"open_in_new\" color={Colors.Blue500} />\n              </Link>\n            </Box>\n          )}\n          <RunTags\n            tags={run.tags}\n            mode={isJob ? (run.mode !== 'default' ? run.mode : null) : run.mode}\n            onAddTag={onAddTag}\n          />\n        </Box>\n      </td>\n      <td>\n        <PipelineSnapshotLink\n          snapshotId={run.pipelineSnapshotId || ''}\n          pipelineName={run.pipelineName}\n          size=\"normal\"\n        />\n      </td>\n      <td>\n        <RunTime run={run} />\n        <RunStateSummary run={run} />\n      </td>\n      {additionalColumns}\n      <td>\n        <RunActionsMenu run={run} />\n      </td>\n    </Row>\n  );\n};\n\nconst Row = styled.tr<{highlighted: boolean}>`\n  ${({highlighted}) =>\n    highlighted ? `box-shadow: inset 3px 3px #bfccd6, inset -3px -3px #bfccd6;` : null}\n`;\n","import {useQuery} from '@apollo/client';\nimport {CursorPaginationProps} from '@dagster-io/ui';\nimport {DocumentNode} from 'graphql';\nimport * as React from 'react';\n\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\n\ninterface CursorPaginationQueryVariables {\n  cursor?: string | null;\n  limit?: number | null;\n}\n\n/**\n * This is a React hook that makes it easier to build paginated list views based on a GraphQL\n * query. It is intended to be used in place of Apollo's `useQuery` and assumes that the query\n * takes at least `cursor` and `limit` variables. It manages those two variables internally,\n * and you can pass additional variables via the options.\n *\n * The current pagination \"cursor\" is saved to the URL query string, which allows the user to\n * navigate \"back\" in their browser history to move to previous pages.\n *\n * The returned paginationProps expose methods for moving to the next / previous page and are\n * used by <CursorPaginationControls /> to render the pagination buttons.\n */\nexport function useCursorPaginatedQuery<T, TVars extends CursorPaginationQueryVariables>(options: {\n  query: DocumentNode;\n  nextCursorForResult: (result: T) => string | undefined;\n  skip?: boolean;\n  variables: Omit<Omit<TVars, 'cusor'>, 'limit'>;\n  pageSize: number;\n  getResultArray: (result: T | undefined) => any[];\n}) {\n  const [cursorStack, setCursorStack] = React.useState<string[]>(() => []);\n  const [cursor, setCursor] = useQueryPersistedState<string | undefined>({queryKey: 'cursor'});\n\n  const queryVars: any = {\n    ...options.variables,\n    cursor,\n    limit: options.pageSize + 1,\n  };\n\n  const queryResult = useQuery<T, TVars>(options.query, {\n    partialRefetch: true,\n    skip: options.skip,\n    variables: queryVars,\n    notifyOnNetworkStatusChange: true,\n  });\n\n  const resultArray = options.getResultArray(queryResult.data);\n  const paginationProps: CursorPaginationProps = {\n    hasPrevCursor: !!cursor,\n    hasNextCursor: resultArray.length === options.pageSize + 1,\n    popCursor: () => {\n      const nextStack = [...cursorStack];\n      setCursor(nextStack.pop());\n      setCursorStack(nextStack);\n    },\n    advanceCursor: () => {\n      if (cursor) {\n        setCursorStack((current) => [...current, cursor]);\n      }\n      const nextCursor = queryResult.data && options.nextCursorForResult(queryResult.data);\n      if (!nextCursor) {\n        return;\n      }\n      setCursor(nextCursor);\n    },\n    reset: () => {\n      setCursorStack([]);\n      setCursor(undefined);\n    },\n  };\n\n  return {queryResult, paginationProps};\n}\n","// eslint-disable-next-line no-restricted-imports\nimport {\n  Box,\n  Colors,\n  CommonMenuItemProps,\n  IconWrapper,\n  iconWithColor,\n  MenuItem,\n} from '@dagster-io/ui';\nimport * as React from 'react';\nimport {Link, LinkProps} from 'react-router-dom';\nimport styled from 'styled-components/macro';\n\ninterface MenuLinkProps\n  extends CommonMenuItemProps,\n    Omit<React.ComponentProps<typeof MenuItem>, 'icon' | 'onClick' | 'onFocus' | 'target'>,\n    LinkProps {}\n\n/**\n * If you want to use a menu item as a link, use `MenuLink` and provide a `to` prop.\n */\nexport const MenuLink: React.FC<MenuLinkProps> = (props) => {\n  const {icon, intent, text, disabled, ...rest} = props;\n\n  if (disabled) {\n    return <MenuItem disabled icon={icon} intent={intent} text={text} />;\n  }\n  return (\n    <StyledMenuLink {...rest}>\n      <Box flex={{direction: 'row', gap: 8, alignItems: 'center'}}>\n        {iconWithColor(icon, intent)}\n        <div>{text}</div>\n      </Box>\n    </StyledMenuLink>\n  );\n};\n\nconst StyledMenuLink = styled(Link)`\n  text-decoration: none;\n\n  border-radius: 4px;\n  display: block;\n  line-height: 20px;\n  padding: 6px 8px 6px 12px;\n  transition: background-color 50ms, box-shadow 150ms;\n  align-items: flex-start;\n  user-select: none;\n\n  /**\n   * Use margin instead of align-items: center because the contents of the menu item may wrap \n   * in unusual circumstances.\n   */\n  ${IconWrapper} {\n    margin-top: 2px;\n  }\n\n  ${IconWrapper}:first-child {\n    margin-left: -4px;\n  }\n\n  &&&:link,\n  &&&:visited,\n  &&&:hover,\n  &&&:active {\n    color: ${Colors.Gray900};\n    text-decoration: none;\n  }\n\n  &&&:hover {\n    background: ${Colors.Gray100};\n  }\n`;\n"],"names":["reducer","state","action","copy","Set","Array","from","checkedIds","type","payload","checked","id","add","delete","lastCheckedId","allIds","indexOfLast","indexOf","indexOfChecked","sort","start","end","ii","initialState","useSelectionReducer","React","dispatch","onToggleFactory","values","shiftKey","onToggleAll","refineToError","data","launchPipelineReexecution","__typename","Error","errorText","error","message","initializeState","selectedRuns","frozenRuns","step","reexecution","completed","errors","reexecutionDialogReducer","prevState","ReexecutionDialog","props","isOpen","onClose","onComplete","reexecutionStrategy","current","count","Object","keys","length","useMutation","LAUNCH_PIPELINE_REEXECUTION_MUTATION","reexecute","mutate","runList","runId","variables","reexecutionParams","parentRunId","strategy","canQuicklyClose","Dialog","title","ReexecutionStrategy","canEscapeKeyClose","canOutsideClickClose","Group","direction","spacing","value","intent","Math","max","animate","progressContent","errorCount","successCount","alignItems","Icon","name","color","Colors","map","slice","completionContent","Button","onClick","disabled","buttons","RunActionsMenu","run","refetch","RunsQueryRefetchContext","visibleDialog","setVisibleDialog","rootServerURI","AppContext","history","useHistory","copyConfig","useCopyToClipboard","onCompleted","useLazyQuery","PIPELINE_ENVIRONMENT_QUERY","loadEnv","called","loading","closeDialogs","pipelineRun","pipelineRunOrError","runConfigYaml","repoMatch","useRepositoryForRunWithParentSnapshot","jobError","useJobAvailabilityErrorForRun","parentPipelineSnapshotId","isFinished","doneStatuses","status","isJob","isThisThingAJob","match","pipelineName","infoReady","reexecutionDisabledState","hasReExecutePermission","tooltip","DEFAULT_DISABLED_REASON","Popover","content","Menu","tagName","text","icon","Tooltip","OPEN_LAUNCHPAD_UNKNOWN","NO_LAUNCH_PERMISSION_MESSAGE","position","targetTagName","MenuLink","to","workspacePathFromRunDetails","repositoryName","repository","repositoryLocationName","repositoryLocation","canShow","getReexecutionVariables","style","result","handleLaunchResult","behavior","hasTerminatePermission","download","href","hasDeletePermission","onOpening","TerminationDialog","canTerminate","DeletionDialog","onTerminateInstead","options","lineNumbers","mode","topBorder","SharedToaster","RunBulkActionsMenu","selected","clearSelection","canTerminateAny","some","canDeleteAny","canReexecuteAny","terminatableRuns","filter","r","terminateableIDs","terminateableMap","reduce","accum","deleteableIDs","deletionMap","reexecuteFromFailureRuns","failedStatuses","reexecuteFromFailureMap","reexecutableRuns","reexecutableMap","rightIcon","gql","RunTable","runs","onAddTag","highlightedIds","actionBarComponents","canTerminateOrDeleteAny","useRepositoryOptions","anyFilter","Box","padding","vertical","left","right","margin","NonIdealState","description","flex","gap","AnchorButton","A","anyPipelines","repositoryOrigin","repoAddress","buildRepoAddress","repo","findRepositoryAmongOptions","selectedFragments","has","Table","width","paddingTop","paddingBottom","Checkbox","indeterminate","size","onChange","e","target","HTMLInputElement","additionalColumnHeaders","RunRow","canTerminateOrDelete","additionalColumns","additionalColumnsForRow","onToggleChecked","isHighlighted","includes","RUN_TABLE_RUN_FRAGMENT","RUN_TIME_FRAGMENT","useRepositoryForRunWithoutSnapshot","pipelines","find","pipelineOrJob","Row","highlighted","nativeEvent","MouseEvent","getModifierState","RunStatusTag","titleForRun","isHiddenAssetGroupJob","AssetKeyTagCollection","assetKeys","assetKeysForRun","PipelineReference","showIcon","pipelineHrefContext","workspacePipelinePath","repoName","repoLocation","workspacePipelinePathGuessRepo","RunTags","tags","snapshotId","pipelineSnapshotId","styled","useCursorPaginatedQuery","cursorStack","setCursorStack","useQueryPersistedState","queryKey","cursor","setCursor","queryVars","limit","pageSize","queryResult","useQuery","query","partialRefetch","skip","notifyOnNetworkStatusChange","resultArray","getResultArray","paginationProps","hasPrevCursor","hasNextCursor","popCursor","nextStack","pop","advanceCursor","nextCursor","nextCursorForResult","reset","undefined","rest","StyledMenuLink","iconWithColor","Link","IconWrapper"],"sourceRoot":""}