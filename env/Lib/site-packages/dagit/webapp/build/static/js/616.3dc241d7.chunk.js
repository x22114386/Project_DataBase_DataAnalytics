(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[616],{50680:function(e,t,n){!function(e){function t(t,n,r){var i,o=t.getWrapperElement();return(i=o.appendChild(document.createElement("div"))).className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof n?i.innerHTML=n:i.appendChild(n),e.addClass(o,"dialog-opened"),i}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",(function(r,i,o){o||(o={}),n(this,null);var s=t(this,r,o.bottom),a=!1,l=this;function c(t){if("string"==typeof t)f.value=t;else{if(a)return;a=!0,e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s),l.focus(),o.onClose&&o.onClose(s)}}var u,f=s.getElementsByTagName("input")[0];return f?(f.focus(),o.value&&(f.value=o.value,!1!==o.selectValueOnOpen&&f.select()),o.onInput&&e.on(f,"input",(function(e){o.onInput(e,f.value,c)})),o.onKeyUp&&e.on(f,"keyup",(function(e){o.onKeyUp(e,f.value,c)})),e.on(f,"keydown",(function(t){o&&o.onKeyDown&&o.onKeyDown(t,f.value,c)||((27==t.keyCode||!1!==o.closeOnEnter&&13==t.keyCode)&&(f.blur(),e.e_stop(t),c()),13==t.keyCode&&i(f.value,t))})),!1!==o.closeOnBlur&&e.on(s,"focusout",(function(e){null!==e.relatedTarget&&c()}))):(u=s.getElementsByTagName("button")[0])&&(e.on(u,"click",(function(){c(),l.focus()})),!1!==o.closeOnBlur&&e.on(u,"blur",c),u.focus()),c})),e.defineExtension("openConfirm",(function(r,i,o){n(this,null);var s=t(this,r,o&&o.bottom),a=s.getElementsByTagName("button"),l=!1,c=this,u=1;function f(){l||(l=!0,e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s),c.focus())}a[0].focus();for(var h=0;h<a.length;++h){var d=a[h];!function(t){e.on(d,"click",(function(n){e.e_preventDefault(n),f(),t&&t(c)}))}(i[h]),e.on(d,"blur",(function(){--u,setTimeout((function(){u<=0&&f()}),200)})),e.on(d,"focus",(function(){++u}))}})),e.defineExtension("openNotification",(function(r,i){n(this,c);var o,s=t(this,r,i&&i.bottom),a=!1,l=i&&"undefined"!==typeof i.duration?i.duration:5e3;function c(){a||(a=!0,clearTimeout(o),e.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s))}return e.on(s,"click",(function(t){e.e_preventDefault(t),c()})),l&&(o=setTimeout(c,l)),c}))}(n(13091))},94407:function(e,t,n){!function(e){"use strict";var t="CodeMirror-hint",n="CodeMirror-hint-active";function r(e,t){if(this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var n=this;e.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}}e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",(function(t){t=s(this,this.getCursor("start"),t);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var i=0;i<n.length;i++)if(n[i].head.line!=n[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new r(this,t);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var i=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function s(e,t,n){var r=e.options.hintOptions,i={};for(var o in p)i[o]=p[o];if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}function a(e){return"string"==typeof e?e:e.text}function l(e,t){var n={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close};/Mac/.test(navigator.platform)&&(n["Ctrl-P"]=function(){t.moveFocus(-1)},n["Ctrl-N"]=function(){t.moveFocus(1)});var r=e.options.customKeys,i=r?{}:n;function o(e,r){var o;o="string"!=typeof r?function(e){return r(e,t)}:n.hasOwnProperty(r)?n[r]:r,i[e]=o}if(r)for(var s in r)r.hasOwnProperty(s)&&o(s,r[s]);var a=e.options.extraKeys;if(a)for(var s in a)a.hasOwnProperty(s)&&o(s,a[s]);return i}function c(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function u(r,i){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=r,this.data=i,this.picked=!1;var o=this,s=r.cm,u=s.getInputField().ownerDocument,f=u.defaultView||u.parentWindow,h=this.hints=u.createElement("ul");h.setAttribute("role","listbox"),h.setAttribute("aria-expanded","true"),h.id=this.id;var d=r.cm.options.theme;h.className="CodeMirror-hints "+d,this.selectedHint=i.selectedHint||0;for(var p=i.list,g=0;g<p.length;++g){var v=h.appendChild(u.createElement("li")),m=p[g],y=t+(g!=this.selectedHint?"":" "+n);null!=m.className&&(y=m.className+" "+y),v.className=y,g==this.selectedHint&&v.setAttribute("aria-selected","true"),v.id=this.id+"-"+g,v.setAttribute("role","option"),m.render?m.render(v,i,m):v.appendChild(u.createTextNode(m.displayText||a(m))),v.hintId=g}var b=r.options.container||u.body,w=s.cursorCoords(r.options.alignWithWord?i.from:null),k=w.left,x=w.bottom,C=!0,S=0,L=0;if(b!==u.body){var N=-1!==["absolute","relative","fixed"].indexOf(f.getComputedStyle(b).position)?b:b.offsetParent,T=N.getBoundingClientRect(),O=u.body.getBoundingClientRect();S=T.left-O.left-N.scrollLeft,L=T.top-O.top-N.scrollTop}h.style.left=k-S+"px",h.style.top=x-L+"px";var A=f.innerWidth||Math.max(u.body.offsetWidth,u.documentElement.offsetWidth),M=f.innerHeight||Math.max(u.body.offsetHeight,u.documentElement.offsetHeight);b.appendChild(h),s.getInputField().setAttribute("aria-autocomplete","list"),s.getInputField().setAttribute("aria-owns",this.id),s.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var E,D=r.options.moveOnOverlap?h.getBoundingClientRect():new DOMRect,I=!!r.options.paddingForScrollbar&&h.scrollHeight>h.clientHeight+1;if(setTimeout((function(){E=s.getScrollInfo()})),D.bottom-M>0){var P=D.bottom-D.top;if(w.top-(w.bottom-D.top)-P>0)h.style.top=(x=w.top-P-L)+"px",C=!1;else if(P>M){h.style.height=M-5+"px",h.style.top=(x=w.bottom-D.top-L)+"px";var F=s.getCursor();i.from.ch!=F.ch&&(w=s.cursorCoords(F),h.style.left=(k=w.left-S)+"px",D=h.getBoundingClientRect())}}var B,W=D.right-A;if(I&&(W+=s.display.nativeBarWidth),W>0&&(D.right-D.left>A&&(h.style.width=A-5+"px",W-=D.right-D.left-A),h.style.left=(k=w.left-W-S)+"px"),I)for(var H=h.firstChild;H;H=H.nextSibling)H.style.paddingRight=s.display.nativeBarWidth+"px";s.addKeyMap(this.keyMap=l(r,{moveFocus:function(e,t){o.changeActive(o.selectedHint+e,t)},setFocus:function(e){o.changeActive(e)},menuSize:function(){return o.screenAmount()},length:p.length,close:function(){r.close()},pick:function(){o.pick()},data:i})),r.options.closeOnUnfocus&&(s.on("blur",this.onBlur=function(){B=setTimeout((function(){r.close()}),100)}),s.on("focus",this.onFocus=function(){clearTimeout(B)})),s.on("scroll",this.onScroll=function(){var e=s.getScrollInfo(),t=s.getWrapperElement().getBoundingClientRect();E||(E=s.getScrollInfo());var n=x+E.top-e.top,i=n-(f.pageYOffset||(u.documentElement||u.body).scrollTop);if(C||(i+=h.offsetHeight),i<=t.top||i>=t.bottom)return r.close();h.style.top=n+"px",h.style.left=k+E.left-e.left+"px"}),e.on(h,"dblclick",(function(e){var t=c(h,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),o.pick())})),e.on(h,"click",(function(e){var t=c(h,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),r.options.completeOnSingleClick&&o.pick())})),e.on(h,"mousedown",(function(){setTimeout((function(){s.focus()}),20)}));var R=this.getSelectedHintRange();return 0===R.from&&0===R.to||this.scrollToActive(),e.signal(i,"select",p[this.selectedHint],h.childNodes[this.selectedHint]),!0}function f(e,t){if(!e.somethingSelected())return t;for(var n=[],r=0;r<t.length;r++)t[r].supportsSelection&&n.push(t[r]);return n}function h(e,t,n,r){if(e.async)e(t,r,n);else{var i=e(t,n);i&&i.then?i.then(r):r(i)}}function d(t,n){var r,i=t.getHelpers(n,"hint");if(i.length){var o=function(e,t,n){var r=f(e,i);function o(i){if(i==r.length)return t(null);h(r[i],e,n,(function(e){e&&e.list.length>0?t(e):o(i+1)}))}o(0)};return o.async=!0,o.supportsSelection=!0,o}return(r=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:r})}:e.hint.anyword?function(t,n){return e.hint.anyword(t,n)}:function(){}}r.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,n){var r=t.list[n],i=this;this.cm.operation((function(){r.hint?r.hint(i.cm,t,r):i.cm.replaceRange(a(r),r.from||t.from,r.to||t.to,"complete"),e.signal(t,"pick",r),i.cm.scrollIntoView()})),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var e=this.startPos;this.data&&(e=this.data.from);var t=this.cm.getCursor(),n=this.cm.getLine(t.line);if(t.line!=this.startPos.line||n.length-t.ch!=this.startLen-this.startPos.ch||t.ch<e.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(n.charAt(t.ch-1)))this.close();else{var r=this;this.debounce=i((function(){r.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,n=++this.tick;h(this.options.hint,this.cm,this.options,(function(r){t.tick==n&&t.finishUpdate(r,e)}))}},finishUpdate:function(t,n){this.data&&e.signal(this.data,"update");var r=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(r&&1==t.list.length?this.pick(t,0):(this.widget=new u(this,t),e.signal(t,"shown")))}},u.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm.getInputField();e.removeAttribute("aria-activedescendant"),e.removeAttribute("aria-owns");var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,r){if(t>=this.data.list.length?t=r?this.data.list.length-1:0:t<0&&(t=r?0:this.data.list.length-1),this.selectedHint!=t){var i=this.hints.childNodes[this.selectedHint];i&&(i.className=i.className.replace(" "+n,""),i.removeAttribute("aria-selected")),(i=this.hints.childNodes[this.selectedHint=t]).className+=" "+n,i.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",i.id),this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],i)}},scrollToActive:function(){var e=this.getSelectedHintRange(),t=this.hints.childNodes[e.from],n=this.hints.childNodes[e.to],r=this.hints.firstChild;t.offsetTop<this.hints.scrollTop?this.hints.scrollTop=t.offsetTop-r.offsetTop:n.offsetTop+n.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=n.offsetTop+n.offsetHeight-this.hints.clientHeight+r.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var e=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-e),to:Math.min(this.data.list.length-1,this.selectedHint+e)}}},e.registerHelper("hint","auto",{resolve:d}),e.registerHelper("hint","fromList",(function(t,n){var r,i=t.getCursor(),o=t.getTokenAt(i),s=e.Pos(i.line,o.start),a=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?r=o.string.substr(0,i.ch-o.start):(r="",s=i);for(var l=[],c=0;c<n.words.length;c++){var u=n.words[c];u.slice(0,r.length)==r&&l.push(u)}if(l.length)return{list:l,from:s,to:a}})),e.commands.autocomplete=e.showHint;var p={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};e.defineOption("hintOptions",null)}(n(13091))},36852:function(e,t,n){!function(e){"use strict";function t(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);if(n&&n.index==t.pos)return t.pos+=n[0].length||1,"searching";n?t.pos=n.index:t.skipToEnd()}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new n)}function i(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,n){return e.getSearchCursor(t,n,{caseFold:i(t),multiline:!0})}function s(e,t,n,r,i){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){p(e)},onKeyDown:i,bottom:e.options.search.bottom})}function a(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0,bottom:e.options.search.bottom}):i(prompt(n,r))}function l(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}function c(e){return e.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"==t?"\\":e}))}function u(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(n){}else e=c(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function f(e,n,r){n.queryText=r,n.query=u(r),e.removeOverlay(n.overlay,i(n.query)),n.overlay=t(n.query,i(n.query)),e.addOverlay(n.overlay),e.showMatchesOnScrollbar&&(n.annotate&&(n.annotate.clear(),n.annotate=null),n.annotate=e.showMatchesOnScrollbar(n.query,i(n.query)))}function h(t,n,i,o){var l=r(t);if(l.query)return d(t,n);var c=t.getSelection()||l.lastQuery;if(c instanceof RegExp&&"x^"==c.source&&(c=null),i&&t.openDialog){var u=null,h=function(n,r){e.e_stop(r),n&&(n!=l.queryText&&(f(t,l,n),l.posFrom=l.posTo=t.getCursor()),u&&(u.style.opacity=1),d(t,r.shiftKey,(function(e,n){var r;n.line<3&&document.querySelector&&(r=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>t.cursorCoords(n,"window").top&&((u=r).style.opacity=.4)})))};s(t,v(t),c,h,(function(n,i){var o=e.keyName(n),s=t.getOption("extraKeys"),a=s&&s[o]||e.keyMap[t.getOption("keyMap")][o];"findNext"==a||"findPrev"==a||"findPersistentNext"==a||"findPersistentPrev"==a?(e.e_stop(n),f(t,r(t),i),t.execCommand(a)):"find"!=a&&"findPersistent"!=a||(e.e_stop(n),h(i,n))})),o&&c&&(f(t,l,c),d(t,n))}else a(t,v(t),"Search for:",c,(function(e){e&&!l.query&&t.operation((function(){f(t,l,e),l.posFrom=l.posTo=t.getCursor(),d(t,n)}))}))}function d(t,n,i){t.operation((function(){var s=r(t),a=o(t,s.query,n?s.posFrom:s.posTo);(a.find(n)||(a=o(t,s.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0))).find(n))&&(t.setSelection(a.from(),a.to()),t.scrollIntoView({from:a.from(),to:a.to()},20),s.posFrom=a.from(),s.posTo=a.to(),i&&i(a.from(),a.to()))}))}function p(e){e.operation((function(){var t=r(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))}))}function g(e,t){var n=e?document.createElement(e):document.createDocumentFragment();for(var r in t)n[r]=t[r];for(var i=2;i<arguments.length;i++){var o=arguments[i];n.appendChild("string"==typeof o?document.createTextNode(o):o)}return n}function v(e){return g("",null,g("span",{className:"CodeMirror-search-label"},e.phrase("Search:"))," ",g("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"})," ",g("span",{style:"color: #888",className:"CodeMirror-search-hint"},e.phrase("(Use /re/ syntax for regexp search)")))}function m(e){return g("",null," ",g("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"})," ",g("span",{style:"color: #888",className:"CodeMirror-search-hint"},e.phrase("(Use /re/ syntax for regexp search)")))}function y(e){return g("",null,g("span",{className:"CodeMirror-search-label"},e.phrase("With:"))," ",g("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"}))}function b(e){return g("",null,g("span",{className:"CodeMirror-search-label"},e.phrase("Replace?"))," ",g("button",{},e.phrase("Yes"))," ",g("button",{},e.phrase("No"))," ",g("button",{},e.phrase("All"))," ",g("button",{},e.phrase("Stop")))}function w(e,t,n){e.operation((function(){for(var r=o(e,t);r.findNext();)if("string"!=typeof t){var i=e.getRange(r.from(),r.to()).match(t);r.replace(n.replace(/\$(\d)/g,(function(e,t){return i[t]})))}else r.replace(n)}))}function k(e,t){if(!e.getOption("readOnly")){var n=e.getSelection()||r(e).lastQuery,i=t?e.phrase("Replace all:"):e.phrase("Replace:"),s=g("",null,g("span",{className:"CodeMirror-search-label"},i),m(e));a(e,s,i,n,(function(n){n&&(n=u(n),a(e,y(e),e.phrase("Replace with:"),"",(function(r){if(r=c(r),t)w(e,n,r);else{p(e);var i=o(e,n,e.getCursor("from")),s=function t(){var s,c=i.from();!(s=i.findNext())&&(i=o(e,n),!(s=i.findNext())||c&&i.from().line==c.line&&i.from().ch==c.ch)||(e.setSelection(i.from(),i.to()),e.scrollIntoView({from:i.from(),to:i.to()}),l(e,b(e),e.phrase("Replace?"),[function(){a(s)},t,function(){w(e,n,r)}]))},a=function(e){i.replace("string"==typeof n?r:r.replace(/\$(\d)/g,(function(t,n){return e[n]}))),s()};s()}})))}))}}e.defineOption("search",{bottom:!1}),e.commands.find=function(e){p(e),h(e)},e.commands.findPersistent=function(e){p(e),h(e,!1,!0)},e.commands.findPersistentNext=function(e){h(e,!1,!0,!0)},e.commands.findPersistentPrev=function(e){h(e,!0,!0,!0)},e.commands.findNext=h,e.commands.findPrev=function(e){h(e,!0)},e.commands.clearSearch=p,e.commands.replace=k,e.commands.replaceAll=function(e){k(e,!0)}}(n(13091),n(81452),n(50680))},81452:function(e,t,n){!function(e){"use strict";var t,n,r=e.Pos;function i(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function o(e,t){for(var n=i(e),r=n,o=0;o<t.length;o++)-1==r.indexOf(t.charAt(o))&&(r+=t.charAt(o));return n==r?e:new RegExp(e.source,r)}function s(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function a(e,t,n){t=o(t,"g");for(var i=n.line,s=n.ch,a=e.lastLine();i<=a;i++,s=0){t.lastIndex=s;var l=e.getLine(i),c=t.exec(l);if(c)return{from:r(i,c.index),to:r(i,c.index+c[0].length),match:c}}}function l(e,t,n){if(!s(t))return a(e,t,n);t=o(t,"gm");for(var i,l=1,c=n.line,u=e.lastLine();c<=u;){for(var f=0;f<l&&!(c>u);f++){var h=e.getLine(c++);i=null==i?h:i+"\n"+h}l*=2,t.lastIndex=n.ch;var d=t.exec(i);if(d){var p=i.slice(0,d.index).split("\n"),g=d[0].split("\n"),v=n.line+p.length-1,m=p[p.length-1].length;return{from:r(v,m),to:r(v+g.length-1,1==g.length?m+g[0].length:g[g.length-1].length),match:d}}}}function c(e,t,n){for(var r,i=0;i<=e.length;){t.lastIndex=i;var o=t.exec(e);if(!o)break;var s=o.index+o[0].length;if(s>e.length-n)break;(!r||s>r.index+r[0].length)&&(r=o),i=o.index+1}return r}function u(e,t,n){t=o(t,"g");for(var i=n.line,s=n.ch,a=e.firstLine();i>=a;i--,s=-1){var l=e.getLine(i),u=c(l,t,s<0?0:l.length-s);if(u)return{from:r(i,u.index),to:r(i,u.index+u[0].length),match:u}}}function f(e,t,n){if(!s(t))return u(e,t,n);t=o(t,"gm");for(var i,a=1,l=e.getLine(n.line).length-n.ch,f=n.line,h=e.firstLine();f>=h;){for(var d=0;d<a&&f>=h;d++){var p=e.getLine(f--);i=null==i?p:p+"\n"+i}a*=2;var g=c(i,t,l);if(g){var v=i.slice(0,g.index).split("\n"),m=g[0].split("\n"),y=f+v.length,b=v[v.length-1].length;return{from:r(y,b),to:r(y+m.length-1,1==m.length?b+m[0].length:m[m.length-1].length),match:g}}}}function h(e,t,n,r){if(e.length==t.length)return n;for(var i=0,o=n+Math.max(0,e.length-t.length);;){if(i==o)return i;var s=i+o>>1,a=r(e.slice(0,s)).length;if(a==n)return s;a>n?o=s:i=s+1}}function d(e,i,o,s){if(!i.length)return null;var a=s?t:n,l=a(i).split(/\r|\n\r?/);e:for(var c=o.line,u=o.ch,f=e.lastLine()+1-l.length;c<=f;c++,u=0){var d=e.getLine(c).slice(u),p=a(d);if(1==l.length){var g=p.indexOf(l[0]);if(-1==g)continue e;return o=h(d,p,g,a)+u,{from:r(c,h(d,p,g,a)+u),to:r(c,h(d,p,g+l[0].length,a)+u)}}var v=p.length-l[0].length;if(p.slice(v)==l[0]){for(var m=1;m<l.length-1;m++)if(a(e.getLine(c+m))!=l[m])continue e;var y=e.getLine(c+l.length-1),b=a(y),w=l[l.length-1];if(b.slice(0,w.length)==w)return{from:r(c,h(d,p,v,a)+u),to:r(c+l.length-1,h(y,b,w.length,a))}}}}function p(e,i,o,s){if(!i.length)return null;var a=s?t:n,l=a(i).split(/\r|\n\r?/);e:for(var c=o.line,u=o.ch,f=e.firstLine()-1+l.length;c>=f;c--,u=-1){var d=e.getLine(c);u>-1&&(d=d.slice(0,u));var p=a(d);if(1==l.length){var g=p.lastIndexOf(l[0]);if(-1==g)continue e;return{from:r(c,h(d,p,g,a)),to:r(c,h(d,p,g+l[0].length,a))}}var v=l[l.length-1];if(p.slice(0,v.length)==v){var m=1;for(o=c-l.length+1;m<l.length-1;m++)if(a(e.getLine(o+m))!=l[m])continue e;var y=e.getLine(c+1-l.length),b=a(y);if(b.slice(b.length-l[0].length)==l[0])return{from:r(c+1-l.length,h(y,b,y.length-l[0].length,a)),to:r(c,h(d,p,v.length,a))}}}}function g(e,t,n,i){var s;this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=e,n=n?e.clipPos(n):r(0,0),this.pos={from:n,to:n},"object"==typeof i?s=i.caseFold:(s=i,i=null),"string"==typeof t?(null==s&&(s=!1),this.matches=function(n,r){return(n?p:d)(e,t,r,s)}):(t=o(t,"gm"),i&&!1===i.multiline?this.matches=function(n,r){return(n?u:a)(e,t,r)}:this.matches=function(n,r){return(n?f:l)(e,t,r)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},n=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},n=function(e){return e}),g.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){var n=this.doc.clipPos(t?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(n=r(n.line,n.ch),t?(n.ch--,n.ch<0&&(n.line--,n.ch=(this.doc.getLine(n.line)||"").length)):(n.ch++,n.ch>(this.doc.getLine(n.line)||"").length&&(n.ch=0,n.line++)),0!=e.cmpPos(n,this.doc.clipPos(n))))return this.atOccurrence=!1;var i=this.matches(t,n);if(this.afterEmptyMatch=i&&0==e.cmpPos(i.from,i.to),i)return this.pos=i,this.atOccurrence=!0,this.pos.match||!0;var o=r(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:o,to:o},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",(function(e,t,n){return new g(this.doc,e,t,n)})),e.defineDocExtension("getSearchCursor",(function(e,t,n){return new g(this,e,t,n)})),e.defineExtension("selectMatches",(function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)}))}(n(13091))},13091:function(e){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=r||i||o,a=s&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),f=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),g=h&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),v=/Android/.test(e),m=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=g||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),k=f&&e.match(/Version\/(\d*\.\d*)/);k&&(k=Number(k[1])),k&&k>=15&&(f=!1,l=!0);var x=y&&(c||f&&(null==k||k<12.11)),C=n||s&&a>=9;function S(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var L,N=function(e,t){var n=e.className,r=S(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function O(e,t){return T(e).appendChild(t)}function A(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function M(e,t,n,r){var i=A(e,t,n,r);return i.setAttribute("role","presentation"),i}function E(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function D(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function I(e,t){var n=e.className;S(t).test(n)||(e.className+=(n?" ":"")+t)}function P(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!S(n[r]).test(t)&&(t+=" "+n[r]);return t}L=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var F=function(e){e.select()};function B(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function W(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function H(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,s=i||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}}g?F=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(F=function(e){try{e.select()}catch(t){}});var R=function(){this.id=null,this.f=null,this.time=0,this.handler=B(this.onTimeout,this)};function _(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}R.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},R.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var Y=50,U={toString:function(){return"CodeMirror.Pass"}},K={scroll:!1},j={origin:"*mouse"},Z={origin:"+move"};function z(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var s=o-r;if(o==e.length||i+s>=t)return r+Math.min(s,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var q=[""];function V(e){for(;q.length<=e;)q.push(G(q)+" ");return q[e]}function G(e){return e[e.length-1]}function $(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function X(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function J(){}function Q(e,t){var n;return Object.create?n=Object.create(e):(J.prototype=e,n=new J),t&&W(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ie=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function oe(e){return e.charCodeAt(0)>=768&&ie.test(e)}function se(e,t,n){for(;(n<0?t>0:t<e.length)&&oe(e.charAt(t));)t+=n;return t}function ae(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function le(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}var ce=null;function ue(e,t,n){var r;ce=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ce=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ce=i)}return null!=r?r:ce}var fe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var u=e.length,f=[],h=0;h<u;++h)f.push(n(e.charCodeAt(h)));for(var d=0,p=c;d<u;++d){var g=f[d];"m"==g?f[d]=p:p=g}for(var v=0,m=c;v<u;++v){var y=f[v];"1"==y&&"r"==m?f[v]="n":o.test(y)&&(m=y,"r"==y&&(f[v]="R"))}for(var b=1,w=f[0];b<u-1;++b){var k=f[b];"+"==k&&"1"==w&&"1"==f[b+1]?f[b]="1":","!=k||w!=f[b+1]||"1"!=w&&"n"!=w||(f[b]=w),w=k}for(var x=0;x<u;++x){var C=f[x];if(","==C)f[x]="N";else if("%"==C){var S=void 0;for(S=x+1;S<u&&"%"==f[S];++S);for(var L=x&&"!"==f[x-1]||S<u&&"1"==f[S]?"1":"N",N=x;N<S;++N)f[N]=L;x=S-1}}for(var T=0,O=c;T<u;++T){var A=f[T];"L"==O&&"1"==A?f[T]="L":o.test(A)&&(O=A)}for(var M=0;M<u;++M)if(i.test(f[M])){var E=void 0;for(E=M+1;E<u&&i.test(f[E]);++E);for(var D="L"==(M?f[M-1]:c),I=D==("L"==(E<u?f[E]:c))?D?"L":"R":c,P=M;P<E;++P)f[P]=I;M=E-1}for(var F,B=[],W=0;W<u;)if(s.test(f[W])){var H=W;for(++W;W<u&&s.test(f[W]);++W);B.push(new l(0,H,W))}else{var R=W,_=B.length,Y="rtl"==t?1:0;for(++W;W<u&&"L"!=f[W];++W);for(var U=R;U<W;)if(a.test(f[U])){R<U&&(B.splice(_,0,new l(1,R,U)),_+=Y);var K=U;for(++U;U<W&&a.test(f[U]);++U);B.splice(_,0,new l(2,K,U)),_+=Y,R=U}else++U;R<W&&B.splice(_,0,new l(1,R,W))}return"ltr"==t&&(1==B[0].level&&(F=e.match(/^\s+/))&&(B[0].from=F[0].length,B.unshift(new l(0,0,F[0].length))),1==G(B).level&&(F=e.match(/\s+$/))&&(G(B).to-=F[0].length,B.push(new l(0,u-F[0].length,u)))),"rtl"==t?B.reverse():B}}();function he(e,t){var n=e.order;return null==n&&(n=e.order=fe(e.text,t)),n}var de=[],pe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||de).concat(n)}};function ge(e,t){return e._handlers&&e._handlers[t]||de}function ve(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=_(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function me(e,t){var n=ge(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function ye(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),me(e,n||t.type,e,t),Se(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==_(n,t[r])&&n.push(t[r])}function we(e,t){return ge(e,t).length>0}function ke(e){e.prototype.on=function(e,t){pe(this,e,t)},e.prototype.off=function(e,t){ve(this,e,t)}}function xe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Ce(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Se(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Le(e){xe(e),Ce(e)}function Ne(e){return e.target||e.srcElement}function Te(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Oe,Ae,Me=function(){if(s&&a<9)return!1;var e=A("div");return"draggable"in e||"dragDrop"in e}();function Ee(e){if(null==Oe){var t=A("span","\u200b");O(e,A("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Oe=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var n=Oe?A("span","\u200b"):A("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function De(e){if(null!=Ae)return Ae;var t=O(e,document.createTextNode("A\u062eA")),n=L(t,0,1).getBoundingClientRect(),r=L(t,1,2).getBoundingClientRect();return T(e),!(!n||n.left==n.right)&&(Ae=r.right-n.right<3)}var Ie=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Pe=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Fe=function(){var e=A("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Be=null;function We(e){if(null!=Be)return Be;var t=O(e,A("span","x")),n=t.getBoundingClientRect(),r=L(t,0,1).getBoundingClientRect();return Be=Math.abs(n.left-r.left)>1}var He={},Re={};function _e(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),He[e]=t}function Ye(e,t){Re[e]=t}function Ue(e){if("string"==typeof e&&Re.hasOwnProperty(e))e=Re[e];else if(e&&"string"==typeof e.name&&Re.hasOwnProperty(e.name)){var t=Re[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ue("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ue("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ke(e,t){t=Ue(t);var n=He[t.name];if(!n)return Ke(e,"text/plain");var r=n(e,t);if(je.hasOwnProperty(t.name)){var i=je[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)r[s]=t.modeProps[s];return r}var je={};function Ze(e,t){W(t,je.hasOwnProperty(e)?je[e]:je[e]={})}function ze(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function qe(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ve(e,t,n){return!e.startState||e.startState(t,n)}var Ge=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function $e(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Xe(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Je(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Qe(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function et(e){if(null==e.parent)return null;for(var t=e.parent,n=_(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function tt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return n+s}function nt(e,t){return t>=e.first&&t<e.first+e.size}function rt(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function it(e,t,n){if(void 0===n&&(n=null),!(this instanceof it))return new it(e,t,n);this.line=e,this.ch=t,this.sticky=n}function ot(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&0==ot(e,t)}function at(e){return it(e.line,e.ch)}function lt(e,t){return ot(e,t)<0?t:e}function ct(e,t){return ot(e,t)<0?e:t}function ut(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function ft(e,t){if(t.line<e.first)return it(e.first,0);var n=e.first+e.size-1;return t.line>n?it(n,$e(e,n).text.length):ht(t,$e(e,t.line).text.length)}function ht(e,t){var n=e.ch;return null==n||n>t?it(e.line,t):n<0?it(e.line,0):e}function dt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=ft(e,t[r]);return n}Ge.prototype.eol=function(){return this.pos>=this.string.length},Ge.prototype.sol=function(){return this.pos==this.lineStart},Ge.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ge.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ge.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ge.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ge.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ge.prototype.skipToEnd=function(){this.pos=this.string.length},Ge.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ge.prototype.backUp=function(e){this.pos-=e},Ge.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Ge.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Ge.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ge.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ge.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ge.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ge.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var pt=function(e,t){this.state=e,this.lookAhead=t},gt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function vt(e,t,n,r){var i=[e.state.modeGen],o={};Lt(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var s=n.state,a=function(r){n.baseTokens=i;var a=e.state.overlays[r],l=1,c=0;n.state=!0,Lt(e,t.text,a.mode,n,(function(e,t){for(var n=l;c<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(a.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function mt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=yt(e,et(t)),i=t.text.length>e.options.maxHighlightLength&&ze(e.doc.mode,r.state),o=vt(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function yt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new gt(r,!0,t);var o=Nt(e,t,n),s=o>r.first&&$e(r,o-1).stateAfter,a=s?gt.fromSaved(r,s,o):new gt(r,Ve(r.mode),o);return r.iter(o,t,(function(n){bt(e,n.text,a);var r=a.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine()})),n&&(r.modeFrontier=a.line),a}function bt(e,t,n,r){var i=e.doc.mode,o=new Ge(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&wt(i,n.state);!o.eol();)kt(i,o,n.state),o.start=o.pos}function wt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=qe(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function kt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=qe(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},gt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},gt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},gt.fromSaved=function(e,t,n){return t instanceof pt?new gt(e,ze(e.mode,t.state),n,t.lookAhead):new gt(e,ze(e.mode,t),n)},gt.prototype.save=function(e){var t=!1!==e?ze(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pt(t,this.maxLookAhead):t};var xt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ct(e,t,n,r){var i,o,s=e.doc,a=s.mode,l=$e(s,(t=ft(s,t)).line),c=yt(e,t.line,n),u=new Ge(l.text,e.options.tabSize,c);for(r&&(o=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=kt(a,u,c.state),r&&o.push(new xt(u,i,ze(s.mode,c.state)));return r?o:new xt(u,i,c.state)}function St(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Lt(e,t,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,f=new Ge(t,e.options.tabSize,r),h=e.options.addModeClass&&[null];for(""==t&&St(wt(n,r.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(a=!1,s&&bt(e,t,r,f.pos),f.pos=t.length,l=null):l=St(kt(n,f,r.state,h),o),h){var d=h[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!a||u!=l){for(;c<f.start;)i(c=Math.min(f.start,c+5e3),u);u=l}f.start=f.pos}for(;c<f.pos;){var p=Math.min(f.pos,c+5e3);i(p,u),c=p}}function Nt(e,t,n){for(var r,i,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=$e(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof pt?c.lookAhead:0)<=o.modeFrontier))return a;var u=H(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=a-1,r=u)}return i}function Tt(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=$e(e,r).stateAfter;if(i&&(!(i instanceof pt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Ot=!1,At=!1;function Mt(){Ot=!0}function Et(){At=!0}function Dt(e,t,n){this.marker=e,this.from=t,this.to=n}function It(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Pt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ft(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function Bt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Dt(s,o.from,a?null:o.to))}}return r}function Wt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Dt(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return r}function Ht(e,t){if(t.full)return null;var n=nt(e,t.from.line)&&$e(e,t.from.line).markedSpans,r=nt(e,t.to.line)&&$e(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,s=0==ot(t.from,t.to),a=Bt(n,i,s),l=Wt(r,o,s),c=1==t.text.length,u=G(t.text).length+(c?i:0);if(a)for(var f=0;f<a.length;++f){var h=a[f];if(null==h.to){var d=It(l,h.marker);d?c&&(h.to=null==d.to?null:d.to+u):h.to=i}}if(l)for(var p=0;p<l.length;++p){var g=l[p];null!=g.to&&(g.to+=u),null==g.from?It(a,g.marker)||(g.from=u,c&&(a||(a=[])).push(g)):(g.from+=u,c&&(a||(a=[])).push(g))}a&&(a=Rt(a)),l&&l!=a&&(l=Rt(l));var v=[a];if(!c){var m,y=t.text.length-2;if(y>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(m||(m=[])).push(new Dt(a[b].marker,null,null));for(var w=0;w<y;++w)v.push(m);v.push(l)}return v}function Rt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function _t(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=_(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var c=i[l];if(!(ot(c.to,a.from)<0||ot(c.from,a.to)>0)){var u=[l,1],f=ot(c.from,a.from),h=ot(c.to,a.to);(f<0||!s.inclusiveLeft&&!f)&&u.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}function Yt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ut(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Kt(e){return e.inclusiveLeft?-1:0}function jt(e){return e.inclusiveRight?1:0}function Zt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ot(r.from,i.from)||Kt(e)-Kt(t);if(o)return-o;var s=ot(r.to,i.to)||jt(e)-jt(t);return s||t.id-e.id}function zt(e,t){var n,r=At&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Zt(n,i.marker)<0)&&(n=i.marker);return n}function qt(e){return zt(e,!0)}function Vt(e){return zt(e,!1)}function Gt(e,t){var n,r=At&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Zt(n,o.marker)<0)&&(n=o.marker)}return n}function $t(e,t,n,r,i){var o=$e(e,t),s=At&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=ot(c.from,n)||Kt(l.marker)-Kt(i),f=ot(c.to,r)||jt(l.marker)-jt(i);if(!(u>=0&&f<=0||u<=0&&f>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ot(c.to,n)>=0:ot(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?ot(c.from,r)<=0:ot(c.from,r)<0)))return!0}}}function Xt(e){for(var t;t=qt(e);)e=t.find(-1,!0).line;return e}function Jt(e){for(var t;t=Vt(e);)e=t.find(1,!0).line;return e}function Qt(e){for(var t,n;t=Vt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function en(e,t){var n=$e(e,t),r=Xt(n);return n==r?t:et(r)}function tn(e,t){if(t>e.lastLine())return t;var n,r=$e(e,t);if(!nn(e,r))return t;for(;n=Vt(r);)r=n.find(1,!0).line;return et(r)+1}function nn(e,t){var n=At&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&rn(e,t,r))return!0}}function rn(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return rn(e,r.line,It(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&rn(e,t,i))return!0}function on(e){for(var t=0,n=(e=Xt(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;t+=a.height}return t}function sn(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=qt(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Vt(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function an(e){var t=e.display,n=e.doc;t.maxLine=$e(n,n.first),t.maxLineLength=sn(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=sn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var ln=function(e,t,n){this.text=e,Ut(this,t),this.height=n?n(this):1};function cn(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Yt(e),Ut(e,n);var i=r?r(e):1;i!=e.height&&Qe(e,i)}function un(e){e.parent=null,Yt(e)}ln.prototype.lineNo=function(){return et(this)},ke(ln);var fn={},hn={};function dn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?hn:fn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function pn(e,t){var n=M("span",null,null,l?"padding-right: .1px":null),r={pre:M("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,s=void 0;r.pos=0,r.addToken=vn,De(e.display.measure)&&(s=he(o,e.doc.direction))&&(r.addToken=yn(r.addToken,s)),r.map=[],wn(o,r,mt(e,o,t!=e.display.externalMeasured&&et(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=P(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=P(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ee(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var a=r.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return me(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=P(r.pre.className,r.textClass||"")),r}function gn(e){var t=A("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function vn(e,t,n,r,i,o,l){if(t){var c,u=e.splitSpaces?mn(t,e.trailingSpace):t,f=e.cm.state.specialChars,h=!1;if(f.test(t)){c=document.createDocumentFragment();for(var d=0;;){f.lastIndex=d;var p=f.exec(t),g=p?p.index-d:t.length-d;if(g){var v=document.createTextNode(u.slice(d,d+g));s&&a<9?c.appendChild(A("span",[v])):c.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!p)break;d+=g+1;var m=void 0;if("\t"==p[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(m=c.appendChild(A("span",V(b),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((m=c.appendChild(A("span","\r"==p[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((m=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),s&&a<9?c.appendChild(A("span",[m])):c.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||h||o||l){var w=n||"";r&&(w+=r),i&&(w+=i);var k=A("span",[c],w,o);if(l)for(var x in l)l.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&k.setAttribute(x,l[x]);return e.content.appendChild(k)}e.content.appendChild(c)}}function mn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}function yn(e,t){return function(n,r,i,o,s,a,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var f=void 0,h=0;h<t.length&&!((f=t[h]).to>c&&f.from<=c);h++);if(f.to>=u)return e(n,r,i,o,s,a,l);e(n,r.slice(0,f.to-c),i,o,null,a,l),o=null,r=r.slice(f.to-c),c=f.to}}}function bn(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function wn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var s,a,l,c,u,f,h,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){l=c=u=a="",h=null,f=null,m=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var k=r[w],x=k.marker;if("bookmark"==x.type&&k.from==p&&x.widgetNode)y.push(x);else if(k.from<=p&&(null==k.to||k.to>p||x.collapsed&&k.to==p&&k.from==p)){if(null!=k.to&&k.to!=p&&m>k.to&&(m=k.to,c=""),x.className&&(l+=" "+x.className),x.css&&(a=(a?a+";":"")+x.css),x.startStyle&&k.from==p&&(u+=" "+x.startStyle),x.endStyle&&k.to==m&&(b||(b=[])).push(x.endStyle,k.to),x.title&&((h||(h={})).title=x.title),x.attributes)for(var C in x.attributes)(h||(h={}))[C]=x.attributes[C];x.collapsed&&(!f||Zt(f.marker,x)<0)&&(f=k)}else k.from>p&&m>k.from&&(m=k.from)}if(b)for(var S=0;S<b.length;S+=2)b[S+1]==m&&(c+=" "+b[S]);if(!f||f.from==p)for(var L=0;L<y.length;++L)bn(t,0,y[L]);if(f&&(f.from||0)==p){if(bn(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var N=Math.min(d,m);;){if(v){var T=p+v.length;if(!f){var O=T>N?v.slice(0,N-p):v;t.addToken(t,O,s?s+l:l,u,p+O.length==m?c:"",a,h)}if(T>=N){v=v.slice(N-p),p=N;break}p=T,u=""}v=i.slice(o,o=n[g++]),s=dn(n[g++],t.cm.options)}}else for(var A=1;A<n.length;A+=2)t.addToken(t,i.slice(o,o=n[A]),dn(n[A+1],t.cm.options))}function kn(e,t,n){this.line=t,this.rest=Qt(t),this.size=this.rest?et(G(this.rest))-n+1:1,this.node=this.text=null,this.hidden=nn(e,t)}function xn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var s=new kn(e.doc,$e(e.doc,o),o);r=o+s.size,i.push(s)}return i}var Cn=null;function Sn(e){Cn?Cn.ops.push(e):e.ownsGroup=Cn={ops:[e],delayedCallbacks:[]}}function Ln(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Nn(e,t){var n=e.ownsGroup;if(n)try{Ln(n)}finally{Cn=null,t(n)}}var Tn=null;function On(e,t){var n=ge(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);Cn?r=Cn.delayedCallbacks:Tn?r=Tn:(r=Tn=[],setTimeout(An,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},s=0;s<n.length;++s)o(s)}}function An(){var e=Tn;Tn=null;for(var t=0;t<e.length;++t)e[t]()}function Mn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Pn(e,t):"gutter"==o?Bn(e,t,n,r):"class"==o?Fn(e,t):"widget"==o&&Wn(e,t,r)}t.changes=null}function En(e){return e.node==e.text&&(e.node=A("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function Dn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=En(t);t.background=r.insertBefore(A("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function In(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):pn(e,t)}function Pn(e,t){var n=t.text.className,r=In(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Fn(e,t)):n&&(t.text.className=n)}function Fn(e,t){Dn(e,t),t.line.wrapClass?En(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Bn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=En(t);t.gutterBackground=A("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=En(t),a=t.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(A("div",rt(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild(A("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function Wn(e,t,n){t.alignable&&(t.alignable=null);for(var r=S("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);Rn(e,t,n)}function Hn(e,t,n,r){var i=In(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Fn(e,t),Bn(e,t,n,r),Rn(e,t,r),t.node}function Rn(e,t,n){if(_n(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)_n(e,t.rest[r],t,n,!1)}function _n(e,t,n,r,i){if(t.widgets)for(var o=En(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=A("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Yn(l,c,n,r),e.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),On(l,"redraw")}}function Yn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Un(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!E(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),O(t.display.measure,A("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Kn(e,t){for(var n=Ne(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function jn(e){return e.lineSpace.offsetTop}function Zn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function zn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=O(e.measure,A("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function qn(e){return Y-e.display.nativeBarWidth}function Vn(e){return e.display.scroller.clientWidth-qn(e)-e.display.barWidth}function Gn(e){return e.display.scroller.clientHeight-qn(e)-e.display.barHeight}function $n(e,t,n){var r=e.options.lineWrapping,i=r&&Vn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Xn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(et(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function Jn(e,t){var n=et(t=Xt(t)),r=e.display.externalMeasured=new kn(e.doc,t,n);r.lineN=n;var i=r.built=pn(e,r);return r.text=i.pre,O(e.display.lineMeasure,i.pre),r}function Qn(e,t,n,r){return nr(e,tr(e,t),n,r)}function er(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Fr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function tr(e,t){var n=et(t),r=er(e,n);r&&!r.text?r=null:r&&r.changes&&(Mn(e,r,n,Mr(e)),e.curOp.forceUpdate=!0),r||(r=Jn(e,t));var i=Xn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function nr(e,t,n,r,i){t.before&&(n=-1);var o,s=n+(r||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||($n(e,t.view,t.rect),t.hasHeights=!0),(o=ar(e,t,n,r)).bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var rr,ir={left:0,right:0,top:0,bottom:0};function or(e,t,n){for(var r,i,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(i=0,o=1,s="left"):t<l?o=1+(i=t-a):(c==e.length-3||t==l&&e[c+3]>t)&&(i=(o=l-a)-1,t>=l&&(s="right")),null!=i){if(r=e[c+2],a==l&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],s="left";if("right"==n&&i==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],s="right";break}return{node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:l}}function sr(e,t){var n=ir;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function ar(e,t,n,r){var i,o=or(t.map,n,r),l=o.node,c=o.start,u=o.end,f=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;c&&oe(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&oe(t.line.text.charAt(o.coverStart+u));)++u;if((i=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():sr(L(l,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,f="right"}s&&a<11&&(i=lr(e.display.measure,i))}else{var d;c>0&&(f=r="right"),i=e.options.lineWrapping&&(d=l.getClientRects()).length>1?d["right"==r?d.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+Ar(e.display),top:p.top,bottom:p.bottom}:ir}for(var g=i.top-t.rect.top,v=i.bottom-t.rect.top,m=(g+v)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(m<y[b]);b++);var w=b?y[b-1]:0,k=y[b],x={left:("right"==f?i.right:i.left)-t.rect.left,right:("left"==f?i.left:i.right)-t.rect.left,top:w,bottom:k};return i.left||i.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=g,x.rbottom=v),x}function lr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!We(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function cr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function ur(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)cr(e.display.view[t])}function fr(e){ur(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function hr(){return u&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function dr(){return u&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function pr(e){var t=Xt(e).widgets,n=0;if(t)for(var r=0;r<t.length;++r)t[r].above&&(n+=Un(t[r]));return n}function gr(e,t,n,r,i){if(!i){var o=pr(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=on(t);if("local"==r?s+=jn(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:dr());var l=a.left+("window"==r?0:hr());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function vr(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=hr(),i-=dr();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function mr(e,t,n,r,i){return r||(r=$e(e.doc,t.line)),gr(e,r,Qn(e,r,t.ch,i),n)}function yr(e,t,n,r,i,o){function s(t,s){var a=nr(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,gr(e,r,a,n)}r=r||$e(e.doc,t.line),i||(i=tr(e,r));var a=he(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(e,t,n){return s(n?e-1:e,1==a[t].level!=n)}var f=ue(a,l,c),h=ce,d=u(l,f,"before"==c);return null!=h&&(d.other=u(l,h,"before"!=c)),d}function br(e,t){var n=0;t=ft(e.doc,t),e.options.lineWrapping||(n=Ar(e.display)*t.ch);var r=$e(e.doc,t.line),i=on(r)+jn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function wr(e,t,n,r,i){var o=it(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function kr(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return wr(r.first,0,null,-1,-1);var i=tt(r,n),o=r.first+r.size-1;if(i>o)return wr(r.first+r.size-1,$e(r,o).text.length,null,1,1);t<0&&(t=0);for(var s=$e(r,i);;){var a=Lr(e,s,i,t,n),l=Gt(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==i)return c;s=$e(r,i=c.line)}}function xr(e,t,n,r){r-=pr(t);var i=t.text.length,o=ae((function(t){return nr(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=ae((function(t){return nr(e,n,t).top>r}),o,i)}}function Cr(e,t,n,r){return n||(n=tr(e,t)),xr(e,t,n,gr(e,t,nr(e,n,r),"line").top)}function Sr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Lr(e,t,n,r,i){i-=on(t);var o=tr(e,t),s=pr(t),a=0,l=t.text.length,c=!0,u=he(t,e.doc.direction);if(u){var f=(e.options.lineWrapping?Tr:Nr)(e,t,n,o,u,r,i);a=(c=1!=f.level)?f.from:f.to-1,l=c?f.to:f.from-1}var h,d,p=null,g=null,v=ae((function(t){var n=nr(e,o,t);return n.top+=s,n.bottom+=s,!!Sr(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=t,g=n),!0)}),a,l),m=!1;if(g){var y=r-g.left<g.right-r,b=y==c;v=p+(b?0:1),d=b?"after":"before",h=y?g.left:g.right}else{c||v!=l&&v!=a||v++,d=0==v?"after":v==t.text.length?"before":nr(e,o,v-(c?1:0)).bottom+s<=i==c?"after":"before";var w=yr(e,it(n,v,d),"line",t,o);h=w.left,m=i<w.top?-1:i>=w.bottom?1:0}return wr(n,v=se(t.text,v,1),d,m,r-h)}function Nr(e,t,n,r,i,o,s){var a=ae((function(a){var l=i[a],c=1!=l.level;return Sr(yr(e,it(n,c?l.to:l.from,c?"before":"after"),"line",t,r),o,s,!0)}),0,i.length-1),l=i[a];if(a>0){var c=1!=l.level,u=yr(e,it(n,c?l.from:l.to,c?"after":"before"),"line",t,r);Sr(u,o,s,!0)&&u.top>s&&(l=i[a-1])}return l}function Tr(e,t,n,r,i,o,s){var a=xr(e,t,r,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=c||d.to<=l)){var p=nr(e,r,1!=d.level?Math.min(c,d.to)-1:Math.max(l,d.from)).right,g=p<o?o-p+1e9:p-o;(!u||f>g)&&(u=d,f=g)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function Or(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==rr){rr=A("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)rr.appendChild(document.createTextNode("x")),rr.appendChild(A("br"));rr.appendChild(document.createTextNode("x"))}O(e.measure,rr);var n=rr.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function Ar(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=A("span","xxxxxxxxxx"),n=A("pre",[t],"CodeMirror-line-like");O(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Mr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=e.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+i,r[a]=o.clientWidth}return{fixedPos:Er(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Er(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Dr(e){var t=Or(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Ar(e.display)-3);return function(i){if(nn(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function Ir(e){var t=e.doc,n=Dr(e);t.iter((function(e){var t=n(e);t!=e.height&&Qe(e,t)}))}function Pr(e,t,n,r){var i=e.display;if(!n&&"true"==Ne(t).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(f){return null}var l,c=kr(e,o,s);if(r&&c.xRel>0&&(l=$e(e.doc,c.line).text).length==c.ch){var u=H(l,l.length,e.options.tabSize)-l.length;c=it(c.line,Math.max(0,Math.round((o-zn(e.display).left)/Ar(e.display))-u))}return c}function Fr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function Br(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)At&&en(e.doc,t)<i.viewTo&&Hr(e);else if(n<=i.viewFrom)At&&tn(e.doc,n+r)>i.viewFrom?Hr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Hr(e);else if(t<=i.viewFrom){var o=Rr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Hr(e)}else if(n>=i.viewTo){var s=Rr(e,t,t,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):Hr(e)}else{var a=Rr(e,t,t,-1),l=Rr(e,n,n+r,1);a&&l?(i.view=i.view.slice(0,a.index).concat(xn(e,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):Hr(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function Wr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Fr(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==_(s,n)&&s.push(n)}}}function Hr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Rr(e,t,n,r){var i,o=Fr(e,t),s=e.display.view;if(!At||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(r>0){if(o==s.length-1)return null;i=a+s[o].size-t,o++}else i=a-t;t+=i,n+=i}for(;en(e.doc,n)!=n;){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function _r(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=xn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=xn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Fr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(xn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Fr(e,n)))),r.viewTo=n}function Yr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Ur(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Kr(e,t){void 0===t&&(t=!0);var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=e.options.$customCursor;s&&(t=!0);for(var a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var c=l.empty();if(s){var u=s(e,l);u&&jr(e,u,i)}else(c||e.options.showCursorWhenSelecting)&&jr(e,l.head,i);c||zr(e,l,o)}}return r}function jr(e,t,n){var r=yr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(A("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=mr(e,t,"div",null,null),s=o.right-o.left;i.style.width=(s>0?s:e.defaultCharWidth())+"px"}if(r.other){var a=n.appendChild(A("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Zr(e,t){return e.top-t.top||e.left-t.left}function zr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),s=zn(e.display),a=s.left,l=Math.max(r.sizerWidth,Vn(e)-r.sizer.offsetLeft)-s.right,c="ltr"==i.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function f(t,n,r){var o,s,f=$e(i,t),h=f.text.length;function d(n,r){return mr(e,it(t,n),"div",f,r)}function p(t,n,r){var i=Cr(e,f,null,t),o="ltr"==n==("after"==r)?"left":"right";return d("after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1),o)[o]}var g=he(f,i.direction);return le(g,n||0,null==r?h:r,(function(e,t,i,f){var v="ltr"==i,m=d(e,v?"left":"right"),y=d(t-1,v?"right":"left"),b=null==n&&0==e,w=null==r&&t==h,k=0==f,x=!g||f==g.length-1;if(y.top-m.top<=3){var C=(c?w:b)&&x,S=(c?b:w)&&k?a:(v?m:y).left,L=C?l:(v?y:m).right;u(S,m.top,L-S,m.bottom)}else{var N,T,O,A;v?(N=c&&b&&k?a:m.left,T=c?l:p(e,i,"before"),O=c?a:p(t,i,"after"),A=c&&w&&x?l:y.right):(N=c?p(e,i,"before"):a,T=!c&&b&&k?l:m.right,O=!c&&w&&x?a:y.left,A=c?p(t,i,"after"):l),u(N,m.top,T-N,m.bottom),m.bottom<y.top&&u(a,m.bottom,null,y.top),u(O,y.top,A-O,y.bottom)}(!o||Zr(m,o)<0)&&(o=m),Zr(y,o)<0&&(o=y),(!s||Zr(m,s)<0)&&(s=m),Zr(y,s)<0&&(s=y)})),{start:o,end:s}}var h=t.from(),d=t.to();if(h.line==d.line)f(h.line,h.ch,d.ch);else{var p=$e(i,h.line),g=$e(i,d.line),v=Xt(p)==Xt(g),m=f(h.line,h.ch,v?p.text.length+1:null).end,y=f(d.line,v?0:null,d.ch).start;v&&(m.top<y.top-2?(u(m.right,m.top,null,m.bottom),u(a,y.top,y.left,y.bottom)):u(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&u(a,m.bottom,null,y.top)}n.appendChild(o)}function qr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Xr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Vr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||$r(e))}function Gr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Xr(e))}),100)}function $r(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(me(e,"focus",e,t),e.state.focused=!0,I(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),qr(e))}function Xr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(me(e,"blur",e,t),e.state.focused=!1,N(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Jr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,o=0,l=0;l<t.view.length;l++){var c=t.view[l],u=e.options.lineWrapping,f=void 0,h=0;if(!c.hidden){if(i+=c.line.height,s&&a<8){var d=c.node.offsetTop+c.node.offsetHeight;f=d-n,n=d}else{var p=c.node.getBoundingClientRect();f=p.bottom-p.top,!u&&c.text.firstChild&&(h=c.text.firstChild.getBoundingClientRect().right-p.left-1)}var g=c.line.height-f;if((g>.005||g<-.005)&&(i<r&&(o-=g),Qe(c.line,f),Qr(c.line),c.rest))for(var v=0;v<c.rest.length;v++)Qr(c.rest[v]);if(h>e.display.sizerWidth){var m=Math.ceil(h/Ar(e.display));m>e.display.maxLineLength&&(e.display.maxLineLength=m,e.display.maxLine=c.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function Qr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ei(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-jn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=tt(t,r),s=tt(t,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=tt(t,on($e(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=tt(t,on($e(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function ti(e,t){if(!ye(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!p){var o=A("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-jn(e.display))+"px;\n                         height: "+(t.bottom-t.top+qn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function ni(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==t.sticky?it(t.line,t.ch+1,"before"):t,t=t.ch?it(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var s=!1,a=yr(e,t),l=n&&n!=t?yr(e,n):a,c=ii(e,i={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r}),u=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=c.scrollTop&&(fi(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(di(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(s=!0)),!s)break}return i}function ri(e,t){var n=ii(e,t);null!=n.scrollTop&&fi(e,n.scrollTop),null!=n.scrollLeft&&di(e,n.scrollLeft)}function ii(e,t){var n=e.display,r=Or(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Gn(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Zn(n),l=t.top<r,c=t.bottom>a-r;if(t.top<i)s.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?a:t.bottom)-o);u!=i&&(s.scrollTop=u)}var f=e.options.fixedGutter?0:n.gutters.offsetWidth,h=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-f,d=Vn(e)-n.gutters.offsetWidth,p=t.right-t.left>d;return p&&(t.right=t.left+d),t.left<10?s.scrollLeft=0:t.left<h?s.scrollLeft=Math.max(0,t.left+f-(p?0:10)):t.right>d+h-3&&(s.scrollLeft=t.right+(p?0:10)-d),s}function oi(e,t){null!=t&&(ci(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function si(e){ci(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ai(e,t,n){null==t&&null==n||ci(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function li(e,t){ci(e),e.curOp.scrollToPos=t}function ci(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,ui(e,br(e,t.from),br(e,t.to),t.margin))}function ui(e,t,n,r){var i=ii(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});ai(e,i.scrollLeft,i.scrollTop)}function fi(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Ui(e,{top:t}),hi(e,t,!0),n&&Ui(e),Pi(e,100))}function hi(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function di(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,zi(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function pi(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Zn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+qn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var gi=function(e,t,n){this.cm=n;var r=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),pe(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),pe(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};gi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},gi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},gi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},gi.prototype.zeroWidthHack=function(){var e=y&&!d?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new R,this.disableVert=new R},gi.prototype.enableZeroWidthBar=function(e,t,n){function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},gi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var vi=function(){};function mi(e,t){t||(t=pi(e));var n=e.display.barWidth,r=e.display.barHeight;yi(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Jr(e),yi(e,pi(e)),n=e.display.barWidth,r=e.display.barHeight}function yi(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}vi.prototype.update=function(){return{bottom:0,right:0}},vi.prototype.setScrollLeft=function(){},vi.prototype.setScrollTop=function(){},vi.prototype.clear=function(){};var bi={native:gi,null:vi};function wi(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&N(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new bi[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),pe(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?di(e,t):fi(e,t)}),e),e.display.scrollbars.addClass&&I(e.display.wrapper,e.display.scrollbars.addClass)}var ki=0;function xi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ki,markArrays:null},Sn(e.curOp)}function Ci(e){var t=e.curOp;t&&Nn(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Si(e)}))}function Si(e){for(var t=e.ops,n=0;n<t.length;n++)Li(t[n]);for(var r=0;r<t.length;r++)Ni(t[r]);for(var i=0;i<t.length;i++)Ti(t[i]);for(var o=0;o<t.length;o++)Oi(t[o]);for(var s=0;s<t.length;s++)Ai(t[s])}function Li(e){var t=e.cm,n=t.display;Wi(t),e.updateMaxLine&&an(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Bi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ni(e){e.updatedDisplay=e.mustUpdate&&_i(e.cm,e.update)}function Ti(e){var t=e.cm,n=t.display;e.updatedDisplay&&Jr(t),e.barMeasure=pi(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+qn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Vn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Oi(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&di(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==D();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&mi(t,e.barMeasure),e.updatedDisplay&&Zi(t,e.barMeasure),e.selectionChanged&&qr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Vr(e.cm)}function Ai(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&Yi(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&hi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&di(t,e.scrollLeft,!0,!0),e.scrollToPos&&ti(t,ni(t,ft(r,e.scrollToPos.from),ft(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var s=0;s<i.length;++s)i[s].lines.length||me(i[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&me(o[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&me(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Mi(e,t){if(e.curOp)return t();xi(e);try{return t()}finally{Ci(e)}}function Ei(e,t){return function(){if(e.curOp)return t.apply(e,arguments);xi(e);try{return t.apply(e,arguments)}finally{Ci(e)}}}function Di(e){return function(){if(this.curOp)return e.apply(this,arguments);xi(this);try{return e.apply(this,arguments)}finally{Ci(this)}}}function Ii(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);xi(t);try{return e.apply(this,arguments)}finally{Ci(t)}}}function Pi(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,B(Fi,e))}function Fi(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=yt(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?ze(t.mode,r.state):null,l=vt(e,o,r,!0);a&&(r.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var f=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!f&&h<s.length;++h)f=s[h]!=o.styles[h];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&bt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Pi(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Mi(e,(function(){for(var t=0;t<i.length;t++)Wr(e,i[t],"text")}))}}var Bi=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ei(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Vn(e),this.force=n,this.dims=Mr(e),this.events=[]};function Wi(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=qn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=qn(e)+"px",t.scrollbarsClipped=!0)}function Hi(e){if(e.hasFocus())return null;var t=D();if(!t||!E(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&E(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Ri(e){if(e&&e.activeElt&&e.activeElt!=D()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&E(document.body,e.anchorNode)&&E(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function _i(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Hr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Yr(e))return!1;qi(e)&&(Hr(e),t.dims=Mr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),At&&(o=en(e.doc,o),s=tn(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;_r(e,o,s),n.viewOffset=on($e(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Yr(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Hi(e);return l>4&&(n.lineDiv.style.display="none"),Ki(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Ri(c),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Pi(e,400)),n.updateLineNumbers=null,!0}function Yi(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Vn(e))r&&(t.visible=ei(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Zn(e.display)-Gn(e),n.top)}),t.visible=ei(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!_i(e,t))break;Jr(e);var i=pi(e);Ur(e),mi(e,i),Zi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Ui(e,t){var n=new Bi(e,t);if(_i(e,n)){Jr(e),Yi(e,n);var r=pi(e);Ur(e),mi(e,r),Zi(e,r),n.finish()}}function Ki(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,s=o.firstChild;function a(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,f=0;f<c.length;f++){var h=c[f];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;s!=h.node;)s=a(s);var d=i&&null!=t&&t<=u&&h.lineNumber;h.changes&&(_(h.changes,"gutter")>-1&&(d=!1),Mn(e,h,u,n)),d&&(T(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(rt(e.options,u)))),s=h.node.nextSibling}else{var p=Hn(e,h,u,n);o.insertBefore(p,s)}u+=h.size}for(;s;)s=a(s)}function ji(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",On(e,"gutterChanged",e)}function Zi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+qn(e)+"px"}function zi(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Er(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function qi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=rt(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(A("div",[A("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ji(e.display),!0}return!1}function Vi(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:s})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Gi(e){var t=e.gutters,n=e.gutterSpecs;T(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,s=i.style,a=t.appendChild(A("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(e.lineGutter=a,a.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",ji(e)}function $i(e){Gi(e.display),Br(e),zi(e)}function Xi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=M("div",null,"CodeMirror-code"),o.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=A("div",null,"CodeMirror-cursors"),o.measure=A("div",null,"CodeMirror-measure"),o.lineMeasure=A("div",null,"CodeMirror-measure"),o.lineSpace=M("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=M("div",[o.lineSpace],"CodeMirror-lines");o.mover=A("div",[c],null,"position: relative"),o.sizer=A("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=A("div",null,null,"position: absolute; height: "+Y+"px; width: 1px;"),o.gutters=A("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=A("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=A("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),o.wrapper.setAttribute("translate","no"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&m||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=Vi(i.gutters,i.lineNumbers),Gi(o),r.init(o)}Bi.prototype.signal=function(e,t){we(e,t)&&this.events.push(arguments)},Bi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)me.apply(null,this.events[e])};var Ji=0,Qi=null;function eo(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function to(e){var t=eo(e);return t.x*=Qi,t.y*=Qi,t}function no(e,t){var r=eo(t),i=r.x,o=r.y,s=Qi;0===t.deltaMode&&(i=t.deltaX,o=t.deltaY,s=1);var a=e.display,c=a.scroller,u=c.scrollWidth>c.clientWidth,h=c.scrollHeight>c.clientHeight;if(i&&u||o&&h){if(o&&y&&l)e:for(var d=t.target,p=a.view;d!=c;d=d.parentNode)for(var g=0;g<p.length;g++)if(p[g].node==d){e.display.currentWheelTarget=d;break e}if(i&&!n&&!f&&null!=s)return o&&h&&fi(e,Math.max(0,c.scrollTop+o*s)),di(e,Math.max(0,c.scrollLeft+i*s)),(!o||o&&h)&&xe(t),void(a.wheelStartX=null);if(o&&null!=s){var v=o*s,m=e.doc.scrollTop,b=m+a.wrapper.clientHeight;v<0?m=Math.max(0,m+v-50):b=Math.min(e.doc.height,b+v+50),Ui(e,{top:m,bottom:b})}Ji<20&&0!==t.deltaMode&&(null==a.wheelStartX?(a.wheelStartX=c.scrollLeft,a.wheelStartY=c.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=c.scrollLeft-a.wheelStartX,t=c.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(Qi=(Qi*Ji+n)/(Ji+1),++Ji)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}s?Qi=-.53:n?Qi=15:u?Qi=-.7:h&&(Qi=-1/3);var ro=function(e,t){this.ranges=e,this.primIndex=t};ro.prototype.primary=function(){return this.ranges[this.primIndex]},ro.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!st(n.anchor,r.anchor)||!st(n.head,r.head))return!1}return!0},ro.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new io(at(this.ranges[t].anchor),at(this.ranges[t].head));return new ro(e,this.primIndex)},ro.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ro.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ot(t,r.from())>=0&&ot(e,r.to())<=0)return n}return-1};var io=function(e,t){this.anchor=e,this.head=t};function oo(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return ot(e.from(),t.from())})),n=_(t,i);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1],l=ot(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var c=ct(a.from(),s.from()),u=lt(a.to(),s.to()),f=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,t.splice(--o,2,new io(f?u:c,f?c:u))}}return new ro(t,n)}function so(e,t){return new ro([new io(e,t||e)],0)}function ao(e){return e.text?it(e.from.line+e.text.length-1,G(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function lo(e,t){if(ot(e,t.from)<0)return e;if(ot(e,t.to)<=0)return ao(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=ao(t).ch-t.to.ch),it(n,r)}function co(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new io(lo(i.anchor,t),lo(i.head,t)))}return oo(e.cm,n,e.sel.primIndex)}function uo(e,t,n){return e.line==t.line?it(n.line,e.ch-t.ch+n.ch):it(n.line+(e.line-t.line),e.ch)}function fo(e,t,n){for(var r=[],i=it(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],l=uo(a.from,i,o),c=uo(ao(a),i,o);if(i=a.to,o=c,"around"==n){var u=e.sel.ranges[s],f=ot(u.head,u.anchor)<0;r[s]=new io(f?c:l,f?l:c)}else r[s]=new io(l,l)}return new ro(r,e.sel.primIndex)}function ho(e){e.doc.mode=Ke(e.options,e.doc.modeOption),po(e)}function po(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Pi(e,100),e.state.modeGen++,e.curOp&&Br(e)}function go(e,t){return 0==t.from.ch&&0==t.to.ch&&""==G(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function vo(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){cn(e,n,i,r),On(e,"change",e,t)}function s(e,t){for(var n=[],o=e;o<t;++o)n.push(new ln(c[o],i(o),r));return n}var a=t.from,l=t.to,c=t.text,u=$e(e,a.line),f=$e(e,l.line),h=G(c),d=i(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(go(e,t)){var g=s(0,c.length-1);o(f,f.text,d),p&&e.remove(a.line,p),g.length&&e.insert(a.line,g)}else if(u==f)if(1==c.length)o(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),d);else{var v=s(1,c.length-1);v.push(new ln(h+u.text.slice(l.ch),d,r)),o(u,u.text.slice(0,a.ch)+c[0],i(0)),e.insert(a.line+1,v)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+f.text.slice(l.ch),i(0)),e.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],i(0)),o(f,h+f.text.slice(l.ch),d);var m=s(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,m)}On(e,"change",e,t)}function mo(e,t,n){function r(e,i,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;n&&!l||(t(a.doc,l),r(a.doc,e,l))}}}r(e,null,!0)}function yo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Ir(e),ho(e),bo(e),e.options.direction=t.direction,e.options.lineWrapping||an(e),e.options.mode=t.modeOption,Br(e)}function bo(e){("rtl"==e.doc.direction?I:N)(e.display.lineDiv,"CodeMirror-rtl")}function wo(e){Mi(e,(function(){bo(e),Br(e)}))}function ko(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function xo(e,t){var n={from:at(t.from),to:ao(t),text:Xe(e,t.from,t.to)};return Ao(e,n,t.from.line,t.to.line+1),mo(e,(function(e){return Ao(e,n,t.from.line,t.to.line+1)}),!0),n}function Co(e){for(;e.length&&G(e).ranges;)e.pop()}function So(e,t){return t?(Co(e.done),G(e.done)):e.done.length&&!G(e.done).ranges?G(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),G(e.done)):void 0}function Lo(e,t,n,r){var i=e.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=So(i,i.lastOp==r)))s=G(o.changes),0==ot(t.from,t.to)&&0==ot(t.from,s.to)?s.to=ao(t):o.changes.push(xo(e,t));else{var l=G(i.done);for(l&&l.ranges||Oo(e.sel,i.done),o={changes:[xo(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||me(e,"historyAdded")}function No(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function To(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||No(e,o,G(i.done),t))?i.done[i.done.length-1]=t:Oo(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Co(i.undone)}function Oo(e,t){var n=G(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ao(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Mo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Eo(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Mo(n[i]));return r}function Do(e,t){var n=Eo(e,t),r=Ht(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[i]=s)}return n}function Io(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?ro.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&_(t,Number(u[1]))>-1&&(G(a)[f]=c[f],delete c[f])}}}return r}function Po(e,t,n,r){if(r){var i=e.anchor;if(n){var o=ot(t,i)<0;o!=ot(n,i)<0?(i=t,t=n):o!=ot(t,n)<0&&(t=n)}return new io(i,t)}return new io(n||t,t)}function Fo(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Yo(e,new ro([Po(e.sel.primary(),t,n,i)],0),r)}function Bo(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Po(e.sel.ranges[o],t[o],null,i);Yo(e,oo(e.cm,r,e.sel.primIndex),n)}function Wo(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Yo(e,oo(e.cm,i,e.sel.primIndex),r)}function Ho(e,t,n,r){Yo(e,so(t,n),r)}function Ro(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new io(ft(e,t[n].anchor),ft(e,t[n].head))},origin:n&&n.origin};return me(e,"beforeSelectionChange",e,r),e.cm&&me(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?oo(e.cm,r.ranges,r.ranges.length-1):t}function _o(e,t,n){var r=e.history.done,i=G(r);i&&i.ranges?(r[r.length-1]=t,Uo(e,t,n)):Yo(e,t,n)}function Yo(e,t,n){Uo(e,t,n),To(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Uo(e,t,n){(we(e,"beforeSelectionChange")||e.cm&&we(e.cm,"beforeSelectionChange"))&&(t=Ro(e,t,n));var r=n&&n.bias||(ot(t.primary().head,e.sel.primary().head)<0?-1:1);Ko(e,Zo(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||si(e.cm)}function Ko(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),On(e,"cursorActivity",e))}function jo(e){Ko(e,Zo(e,e.sel,null,!1))}function Zo(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=qo(e,s.anchor,a&&a.anchor,n,r),c=qo(e,s.head,a&&a.head,n,r);(i||l!=s.anchor||c!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new io(l,c))}return i?oo(e.cm,i,t.primIndex):t}function zo(e,t,n,r,i){var o=$e(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(u?a.to>=t.ch:a.to>t.ch))){if(i&&(me(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var f=l.find(r<0?1:-1),h=void 0;if((r<0?u:c)&&(f=Vo(e,f,-r,f&&f.line==t.line?o:null)),f&&f.line==t.line&&(h=ot(f,n))&&(r<0?h<0:h>0))return zo(e,f,t,r,i)}var d=l.find(r<0?-1:1);return(r<0?c:u)&&(d=Vo(e,d,r,d.line==t.line?o:null)),d?zo(e,d,t,r,i):null}}return t}function qo(e,t,n,r,i){var o=r||1,s=zo(e,t,n,o,i)||!i&&zo(e,t,n,o,!0)||zo(e,t,n,-o,i)||!i&&zo(e,t,n,-o,!0);return s||(e.cantEdit=!0,it(e.first,0))}function Vo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?ft(e,it(t.line-1)):null:n>0&&t.ch==(r||$e(e,t.line)).text.length?t.line<e.first+e.size-1?it(t.line+1,0):null:new it(t.line,t.ch+n)}function Go(e){e.setSelection(it(e.firstLine(),0),it(e.lastLine()),K)}function $o(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=ft(e,t)),n&&(r.to=ft(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),me(e,"beforeChange",e,r),e.cm&&me(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Xo(e,t,n){if(e.cm){if(!e.cm.curOp)return Ei(e.cm,Xo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"))||(t=$o(e,t,!0))){var r=Ot&&!n&&_t(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Jo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else Jo(e,t)}}function Jo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ot(t.from,t.to)){var n=co(e,t);Lo(e,t,n,e.cm?e.cm.curOp.id:NaN),ts(e,t,n,Ht(e,t));var r=[];mo(e,(function(e,n){n||-1!=_(r,e.history)||(ss(e.history,t),r.push(e.history)),ts(e,t,null,Ht(e,t))}))}}function Qo(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<a.length&&(i=a[c],n?!i.ranges||i.equals(e.sel):i.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=a.pop()).ranges){if(r)return void a.push(i);break}if(Oo(i,l),n&&!i.equals(e.sel))return void Yo(e,i,{clearRedo:!1});s=i}var u=[];Oo(s,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=we(e,"beforeChange")||e.cm&&we(e.cm,"beforeChange"),h=function(n){var r=i.changes[n];if(r.origin=t,f&&!$o(e,r,!1))return a.length=0,{};u.push(xo(e,r));var o=n?co(e,r):G(a);ts(e,r,o,Do(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:ao(r)});var s=[];mo(e,(function(e,t){t||-1!=_(s,e.history)||(ss(e.history,r),s.push(e.history)),ts(e,r,null,Do(e,r))}))},d=i.changes.length-1;d>=0;--d){var p=h(d);if(p)return p.v}}}}function es(e,t){if(0!=t&&(e.first+=t,e.sel=new ro($(e.sel.ranges,(function(e){return new io(it(e.anchor.line+t,e.anchor.ch),it(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Br(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Wr(e.cm,r,"gutter")}}function ts(e,t,n,r){if(e.cm&&!e.cm.curOp)return Ei(e.cm,ts)(e,t,n,r);if(t.to.line<e.first)es(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);es(e,i),t={from:it(e.first,0),to:it(t.to.line+i,t.to.ch),text:[G(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:it(o,$e(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Xe(e,t.from,t.to),n||(n=co(e,t)),e.cm?ns(e.cm,t,r):vo(e,t,r),Uo(e,n,K),e.cantEdit&&qo(e,it(e.firstLine(),0))&&(e.cantEdit=!1)}}function ns(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=et(Xt($e(r,o.line))),r.iter(l,s.line+1,(function(e){if(e==i.maxLine)return a=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&be(e),vo(r,t,n,Dr(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,(function(e){var t=sn(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1)})),a&&(e.curOp.updateMaxLine=!0)),Tt(r,o.line),Pi(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?Br(e):o.line!=s.line||1!=t.text.length||go(e.doc,t)?Br(e,o.line,s.line+1,c):Wr(e,o.line,"text");var u=we(e,"changes"),f=we(e,"change");if(f||u){var h={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};f&&On(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function rs(e,t,n,r,i){var o;r||(r=n),ot(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Xo(e,{from:n,to:r,text:t,origin:i})}function is(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function os(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)is(o.ranges[a].anchor,t,n,r),is(o.ranges[a].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=it(c.from.line+r,c.from.ch),c.to=it(c.to.line+r,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function ss(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;os(e.done,n,r,i),os(e.undone,n,r,i)}function as(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=$e(e,ut(e,t)):i=et(t),null==i?null:(r(o,i)&&e.cm&&Wr(e.cm,i,n),o)}function ls(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function cs(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}io.prototype.from=function(){return ct(this.anchor,this.head)},io.prototype.to=function(){return lt(this.anchor,this.head)},io.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ls.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,un(i),On(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},cs.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),s=r.height;if(r.removeInner(e,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ls))){var a=[];this.collapse(a),this.children=[new ls(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,a=s;a<i.lines.length;){var l=new ls(i.lines.slice(a,a+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new cs(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=_(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new cs(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var s=Math.min(t,o-e);if(i.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var us=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function fs(e,t,n){on(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&oi(e,n)}function hs(e,t,n,r){var i=new us(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),as(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!nn(e,t)){var r=on(t)<e.scrollTop;Qe(t,t.height+Un(i)),r&&oi(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&On(o,"lineWidgetAdded",o,i,"number"==typeof t?t:et(t)),i}us.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=et(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Un(this);Qe(n,Math.max(0,n.height-o)),e&&(Mi(e,(function(){fs(e,n,-o),Wr(e,r,"widget")})),On(e,"lineWidgetCleared",e,this,r))}},us.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Un(this)-t;i&&(nn(this.doc,r)||Qe(r,r.height+i),n&&Mi(n,(function(){n.curOp.forceUpdate=!0,fs(n,r,i),On(n,"lineWidgetChanged",n,e,et(r))})))},ke(us);var ds=0,ps=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ds};function gs(e,t,n,r,i){if(r&&r.shared)return ms(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Ei(e.cm,gs)(e,t,n,r,i);var o=new ps(e,i),s=ot(t,n);if(r&&W(r,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=M("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if($t(e,t.line,t,n,o)||t.line!=n.line&&$t(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Et()}o.addToHistory&&Lo(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(r){c&&o.collapsed&&!c.options.lineWrapping&&Xt(r)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Qe(r,0),Ft(r,new Dt(o,l==t.line?t.ch:null,l==n.line?n.ch:null),e.cm&&e.cm.curOp),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){nn(e,t)&&Qe(t,0)})),o.clearOnEnter&&pe(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Mt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ds,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)Br(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)Wr(c,u,"text");o.atomic&&jo(c.doc),On(c,"markerAdded",c,o)}return o}ps.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&xi(e),we(this,"clear")){var n=this.find();n&&On(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=It(s.markedSpans,this);e&&!this.collapsed?Wr(e,et(s),"text"):e&&(null!=a.to&&(i=et(s)),null!=a.from&&(r=et(s))),s.markedSpans=Pt(s.markedSpans,a),null==a.from&&this.collapsed&&!nn(this.doc,s)&&e&&Qe(s,Or(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Xt(this.lines[l]),u=sn(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Br(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&jo(e.doc)),e&&On(e,"markerCleared",e,this,r,i),t&&Ci(e),this.parent&&this.parent.clear()}},ps.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],s=It(o.markedSpans,this);if(null!=s.from&&(n=it(t?o:et(o),s.from),-1==e))return n;if(null!=s.to&&(r=it(t?o:et(o),s.to),1==e))return r}return n&&{from:n,to:r}},ps.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Mi(r,(function(){var i=t.line,o=et(t.line),s=er(r,o);if(s&&(cr(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!nn(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var l=Un(n)-a;l&&Qe(i,i.height+l)}On(r,"markerChanged",r,e)}))},ps.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=_(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ps.prototype.detachLine=function(e){if(this.lines.splice(_(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ke(ps);var vs=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function ms(e,t,n,r,i){(r=W(r)).shared=!1;var o=[gs(e,t,n,r,i)],s=o[0],a=r.widgetNode;return mo(e,(function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push(gs(e,ft(e,t),ft(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=G(o)})),new vs(o,s)}function ys(e){return e.findMarks(it(e.first,0),e.clipPos(it(e.lastLine())),(function(e){return e.parent}))}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(ot(o,s)){var a=gs(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function ws(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];mo(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==_(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}vs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();On(this,"clear")}},vs.prototype.find=function(e,t){return this.primary.find(e,t)},ke(vs);var ks=0,xs=function e(t,n,r,i,o){if(!(this instanceof e))return new e(t,n,r,i,o);null==r&&(r=0),cs.call(this,[new ls([new ln("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var s=it(r,0);this.sel=so(s),this.history=new ko(null),this.id=++ks,this.modeOption=n,this.lineSep=i,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),vo(this,{from:s,to:s,text:t}),Yo(this,so(s),K)};xs.prototype=Q(cs.prototype,{constructor:xs,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Je(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Ii((function(e){var t=it(this.first,0),n=this.first+this.size-1;Xo(this,{from:t,to:it(n,$e(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ai(this.cm,0,0),Yo(this,so(t),K)})),replaceRange:function(e,t,n,r){rs(this,e,t=ft(this,t),n=n?ft(this,n):t,r)},getRange:function(e,t,n){var r=Xe(this,ft(this,e),ft(this,t));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(nt(this,e))return $e(this,e)},getLineNumber:function(e){return et(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=$e(this,e)),Xt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return ft(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ii((function(e,t,n){Ho(this,ft(this,"number"==typeof e?it(e,t||0):e),null,n)})),setSelection:Ii((function(e,t,n){Ho(this,ft(this,e),ft(this,t||e),n)})),extendSelection:Ii((function(e,t,n){Fo(this,ft(this,e),t&&ft(this,t),n)})),extendSelections:Ii((function(e,t){Bo(this,dt(this,e),t)})),extendSelectionsBy:Ii((function(e,t){Bo(this,dt(this,$(this.sel.ranges,e)),t)})),setSelections:Ii((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new io(ft(this,e[i].anchor),ft(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Yo(this,oo(this.cm,r,t),n)}})),addSelection:Ii((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new io(ft(this,e),ft(this,t||e))),Yo(this,oo(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Xe(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Xe(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Ii((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];r[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}for(var a=t&&"end"!=t&&fo(this,r,t),l=r.length-1;l>=0;l--)Xo(this,r[l]);a?_o(this,a):this.cm&&si(this.cm)})),undo:Ii((function(){Qo(this,"undo")})),redo:Ii((function(){Qo(this,"redo")})),undoSelection:Ii((function(){Qo(this,"undo",!0)})),redoSelection:Ii((function(){Qo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new ko(this.history),mo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Io(this.history.done),undone:Io(this.history.undone)}},setHistory:function(e){var t=this.history=new ko(this.history);t.done=Io(e.done.slice(0),null,!0),t.undone=Io(e.undone.slice(0),null,!0)},setGutterMarker:Ii((function(e,t,n){return as(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Ii((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&as(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!nt(this,e))return null;if(t=e,!(e=$e(this,e)))return null}else if(null==(t=et(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Ii((function(e,t,n){return as(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(S(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Ii((function(e,t,n){return as(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(S(n));if(!o)return!1;var s=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0}))})),addLineWidget:Ii((function(e,t,n){return hs(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return gs(this,ft(this,e),ft(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return gs(this,e=ft(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=$e(this,(e=ft(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=ft(this,e),t=ft(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),ft(this,it(n,t))},indexFromPos:function(e){var t=(e=ft(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new xs(Je(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new xs(Je(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],bs(r,ys(this)),r},unlinkDoc:function(e){if(e instanceof Ba&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ws(ys(this));break}if(e.history==this.history){var n=[e.id];mo(e,(function(e){return n.push(e.id)}),!0),e.history=new ko(null),e.history.done=Io(this.history.done,n),e.history.undone=Io(this.history.undone,n)}},iterLinkedDocs:function(e){mo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ie(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ii((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&wo(this.cm))}))}),xs.prototype.eachLine=xs.prototype.iter;var Cs=0;function Ss(e){var t=this;if(Ts(t),!ye(t,e)&&!Kn(t.display,e)){xe(e),s&&(Cs=+new Date);var n=Pr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,l=function(){++a==i&&Ei(t,(function(){var e={from:n=ft(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Xo(t.doc,e),_o(t.doc,so(ft(t.doc,n),ft(t.doc,ao(e))))}))()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==_(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),l()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var f=e.dataTransfer.getData("Text");if(f){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Uo(t.doc,so(n,n)),h)for(var d=0;d<h.length;++d)rs(t.doc,"",h[d].anchor,h[d].head,"drag");t.replaceSelection(f,"around","paste"),t.display.input.focus()}}catch(p){}}}}function Ls(e,t){if(s&&(!e.state.draggingText||+new Date-Cs<100))Le(t);else if(!ye(e,t)&&!Kn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var n=A("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}function Ns(e,t){var n=Pr(e,t);if(n){var r=document.createDocumentFragment();jr(e,n,r),e.display.dragCursor||(e.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),O(e.display.dragCursor,r)}}function Ts(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Os(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var As=!1;function Ms(){As||(Es(),As=!0)}function Es(){var e;pe(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Os(Ds)}),100))})),pe(window,"blur",(function(){return Os(Xr)}))}function Ds(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Is={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ps=0;Ps<10;Ps++)Is[Ps+48]=Is[Ps+96]=String(Ps);for(var Fs=65;Fs<=90;Fs++)Is[Fs]=String.fromCharCode(Fs);for(var Bs=1;Bs<=12;Bs++)Is[Bs+111]=Is[Bs+63235]="F"+Bs;var Ws={};function Hs(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Rs(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=$(n.split(" "),Hs),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e}function _s(e,t,n,r){var i=(t=js(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return _s(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var s=_s(e,t.fallthrough[o],n,r);if(s)return s}}}function Ys(e){var t="string"==typeof e?e:Is[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Us(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Ks(e,t){if(f&&34==e.keyCode&&e.char)return!1;var n=Is[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Us(n,e,t))}function js(e){return"string"==typeof e?Ws[e]:e}function Zs(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&ot(o.from,G(r).to)<=0;){var s=r.pop();if(ot(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}Mi(e,(function(){for(var t=r.length-1;t>=0;t--)rs(e.doc,"",r[t].from,r[t].to,"+delete");si(e)}))}function zs(e,t,n){var r=se(e.text,t+n,n);return r<0||r>e.text.length?null:r}function qs(e,t,n){var r=zs(e,t.ch,n);return null==r?null:new it(t.line,r,n<0?"after":"before")}function Vs(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=he(n,t.doc.direction);if(o){var s,a=i<0?G(o):o[0],l=i<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var c=tr(t,n);s=i<0?n.text.length-1:0;var u=nr(t,c,s).top;s=ae((function(e){return nr(t,c,e).top==u}),i<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=zs(n,s,1))}else s=i<0?a.to:a.from;return new it(r,s,l)}}return new it(r,i<0?n.text.length:0,i<0?"before":"after")}function Gs(e,t,n,r){var i=he(t,e.doc.direction);if(!i)return qs(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ue(i,n.ch,n.sticky),s=i[o];if("ltr"==e.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return qs(t,n,r);var a,l=function(e,n){return zs(t,e instanceof it?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(a=a||tr(e,t),Cr(e,t,a,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==s.level){var f=1==s.level==r<0,h=l(n,f?1:-1);if(null!=h&&(f?h<=s.to&&h<=u.end:h>=s.from&&h>=u.begin)){var d=f?"before":"after";return new it(n.line,h,d)}}var p=function(e,t,r){for(var o=function(e,t){return t?new it(n.line,l(e,1),"before"):new it(n.line,e,"after")};e>=0&&e<i.length;e+=t){var s=i[e],a=t>0==(1!=s.level),c=a?r.begin:l(r.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),r.begin<=c&&c<r.end)return o(c,a)}},g=p(o+r,r,u);if(g)return g;var v=r>0?u.end:l(u.begin,-1);return null==v||r>0&&v==t.text.length||!(g=p(r>0?0:i.length-1,r,c(v)))?null:g}Ws.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ws.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ws.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ws.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ws.default=y?Ws.macDefault:Ws.pcDefault;var $s={selectAll:Go,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),K)},killLine:function(e){return Zs(e,(function(t){if(t.empty()){var n=$e(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:it(t.head.line+1,0)}:{from:t.head,to:it(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Zs(e,(function(t){return{from:it(t.from().line,0),to:ft(e.doc,it(t.to().line+1,0))}}))},delLineLeft:function(e){return Zs(e,(function(e){return{from:it(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Zs(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Zs(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(it(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(it(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Xs(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return Qs(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Js(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),Z)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),Z)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Qs(e,t.head):r}),Z)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=H(e.getLine(o.line),o.ch,r);t.push(V(r-s%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Mi(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=$e(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new it(i.line,i.ch-1)),i.ch>0)i=new it(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),it(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=$e(e.doc,i.line-1).text;s&&(i=new it(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),it(i.line-1,s.length-1),i,"+transpose"))}n.push(new io(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Mi(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);si(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Xs(e,t){var n=$e(e.doc,t),r=Xt(n);return r!=n&&(t=et(r)),Vs(!0,e,r,t,1)}function Js(e,t){var n=$e(e.doc,t),r=Jt(n);return r!=n&&(t=et(r)),Vs(!0,e,n,t,-1)}function Qs(e,t){var n=Xs(e,t.line),r=$e(e.doc,n.line),i=he(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return it(n.line,s?0:o,n.sticky)}return n}function ea(e,t,n){if("string"==typeof t&&!(t=$s[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=U}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function ta(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=_s(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&_s(t,e.options.extraKeys,n,e)||_s(t,e.options.keyMap,n,e)}var na=new R;function ra(e,t,n,r){var i=e.state.keySeq;if(i){if(Ys(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:na.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),ia(e,i+" "+t,n,r))return!0}return ia(e,t,n,r)}function ia(e,t,n,r){var i=ta(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&On(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(xe(n),qr(e)),!!i}function oa(e,t){var n=Ks(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ra(e,"Shift-"+n,t,(function(t){return ea(e,t,!0)}))||ra(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ea(e,t)})):ra(e,n,t,(function(t){return ea(e,t)})))}function sa(e,t,n){return ra(e,"'"+n+"'",t,(function(t){return ea(e,t,!0)}))}var aa=null;function la(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=D(),!ye(t,e))){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=oa(t,e);f&&(aa=i?r:null,i||88!=r||Fe||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!y&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||ca(t)}}function ca(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(N(t,"CodeMirror-crosshair"),ve(document,"keyup",n),ve(document,"mouseover",n))}I(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n)}function ua(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function fa(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(Kn(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(f&&n==aa)return aa=null,void xe(e);if(!f||e.which&&!(e.which<10)||!oa(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(sa(t,e,i)||t.display.input.onKeyPress(e))}}}var ha,da,pa=400,ga=function(e,t,n){this.time=e,this.pos=t,this.button=n};function va(e,t){var n=+new Date;return da&&da.compare(n,e,t)?(ha=da=null,"triple"):ha&&ha.compare(n,e,t)?(da=new ga(n,e,t),ha=null,"double"):(ha=new ga(n,e,t),da=null,"single")}function ma(e){var t=this,n=t.display;if(!(ye(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Kn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Na(t,e)){var r=Pr(t,e),i=Te(e),o=r?va(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&ya(t,i,r,o,e)||(1==i?r?wa(t,r,o,e):Ne(e)==n.scroller&&xe(e):2==i?(r&&Fo(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(C?t.display.input.onContextMenu(e):Gr(t)))}}function ya(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),ra(e,Us(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=$s[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=U}finally{e.state.suppressEdits=!1}return r}))}function ba(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}function wa(e,t,n,r){s?setTimeout(B(Vr,e),0):e.curOp.focus=D();var i,o=ba(e,n,r),a=e.doc.sel;e.options.dragDrop&&Me&&!e.isReadOnly()&&"single"==n&&(i=a.contains(t))>-1&&(ot((i=a.ranges[i]).from(),t)<0||t.xRel>0)&&(ot(i.to(),t)>0||t.xRel<0)?ka(e,r,t,o):Ca(e,r,t,o)}function ka(e,t,n,r){var i=e.display,o=!1,c=Ei(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Gr(e)),ve(i.wrapper.ownerDocument,"mouseup",c),ve(i.wrapper.ownerDocument,"mousemove",u),ve(i.scroller,"dragstart",f),ve(i.scroller,"drop",c),o||(xe(t),r.addNew||Fo(e.doc,n,null,null,r.extend),l&&!h||s&&9==a?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},f=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,pe(i.wrapper.ownerDocument,"mouseup",c),pe(i.wrapper.ownerDocument,"mousemove",u),pe(i.scroller,"dragstart",f),pe(i.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}function xa(e,t,n){if("char"==n)return new io(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new io(it(t.line,0),ft(e.doc,it(t.line+1,0)));var r=n(e,t);return new io(r.from,r.to)}function Ca(e,t,n,r){s&&Gr(e);var i=e.display,o=e.doc;xe(t);var a,l,c=o.sel,u=c.ranges;if(r.addNew&&!r.extend?(l=o.sel.contains(n),a=l>-1?u[l]:new io(n,n)):(a=o.sel.primary(),l=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new io(n,n)),n=Pr(e,t,!0,!0),l=-1;else{var f=xa(e,n,r.unit);a=r.extend?Po(a,f.anchor,f.head,r.extend):f}r.addNew?-1==l?(l=u.length,Yo(o,oo(e,u.concat([a]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==r.unit&&!r.extend?(Yo(o,oo(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):Wo(o,l,a,j):(l=0,Yo(o,new ro([a],0),j),c=o.sel);var h=n;function d(t){if(0!=ot(h,t))if(h=t,"rectangle"==r.unit){for(var i=[],s=e.options.tabSize,u=H($e(o,n.line).text,n.ch,s),f=H($e(o,t.line).text,t.ch,s),d=Math.min(u,f),p=Math.max(u,f),g=Math.min(n.line,t.line),v=Math.min(e.lastLine(),Math.max(n.line,t.line));g<=v;g++){var m=$e(o,g).text,y=z(m,d,s);d==p?i.push(new io(it(g,y),it(g,y))):m.length>y&&i.push(new io(it(g,y),it(g,z(m,p,s))))}i.length||i.push(new io(n,n)),Yo(o,oo(e,c.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=a,k=xa(e,t,r.unit),x=w.anchor;ot(k.anchor,x)>0?(b=k.head,x=ct(w.from(),k.anchor)):(b=k.anchor,x=lt(w.to(),k.head));var C=c.ranges.slice(0);C[l]=Sa(e,new io(ft(o,x),b)),Yo(o,oo(e,C,l),j)}}var p=i.wrapper.getBoundingClientRect(),g=0;function v(t){var n=++g,s=Pr(e,t,!0,"rectangle"==r.unit);if(s)if(0!=ot(s,h)){e.curOp.focus=D(),d(s);var a=ei(i,o);(s.line>=a.to||s.line<a.from)&&setTimeout(Ei(e,(function(){g==n&&v(t)})),150)}else{var l=t.clientY<p.top?-20:t.clientY>p.bottom?20:0;l&&setTimeout(Ei(e,(function(){g==n&&(i.scroller.scrollTop+=l,v(t))})),50)}}function m(t){e.state.selectingText=!1,g=1/0,t&&(xe(t),i.input.focus()),ve(i.wrapper.ownerDocument,"mousemove",y),ve(i.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var y=Ei(e,(function(e){0!==e.buttons&&Te(e)?v(e):m(e)})),b=Ei(e,m);e.state.selectingText=b,pe(i.wrapper.ownerDocument,"mousemove",y),pe(i.wrapper.ownerDocument,"mouseup",b)}function Sa(e,t){var n=t.anchor,r=t.head,i=$e(e.doc,n.line);if(0==ot(n,r)&&n.sticky==r.sticky)return t;var o=he(i);if(!o)return t;var s=ue(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return t;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ue(o,r.ch,r.sticky),f=u-s||(r.ch-n.ch)*(1==a.level?-1:1);l=u==c-1||u==c?f<0:f>0}var h=o[c+(l?-1:0)],d=l==(1==h.level),p=d?h.from:h.to,g=d?"after":"before";return n.ch==p&&n.sticky==g?t:new io(new it(n.line,p,g),r)}function La(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(u){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&xe(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!we(e,n))return Se(t);o-=a.top-s.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i)return me(e,n,e,tt(e.doc,o),e.display.gutterSpecs[l].className,t),Se(t)}}function Na(e,t){return La(e,t,"gutterClick",!0)}function Ta(e,t){Kn(e.display,t)||Oa(e,t)||ye(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function Oa(e,t){return!!we(e,"gutterContextMenu")&&La(e,t,"gutterContextMenu",!1)}function Aa(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),fr(e)}ga.prototype.compare=function(e,t,n){return this.time+pa>e&&0==ot(t,this.pos)&&n==this.button};var Ma={toString:function(){return"CodeMirror.Init"}},Ea={},Da={};function Ia(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Ma&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Ma,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,ho(e)}),!0),n("indentUnit",2,ho,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){po(e),fr(e),Br(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(it(r,o))}r++}));for(var i=n.length-1;i>=0;i--)rs(e.doc,t,n[i],it(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ma&&e.refresh()})),n("specialCharPlaceholder",gn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",m?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){Aa(e),$i(e)}),!0),n("keyMap","default",(function(e,t,n){var r=js(t),i=n!=Ma&&js(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Fa,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Vi(t,e.options.lineNumbers),$i(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Er(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return mi(e)}),!0),n("scrollbarStyle","native",(function(e){wi(e),mi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Vi(e.options.gutters,t),$i(e)}),!0),n("firstLineNumber",1,$i,!0),n("lineNumberFormatter",(function(e){return e}),$i,!0),n("showCursorWhenSelecting",!1,Ur,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Xr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,Pa),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Ur,!0),n("singleCursorHeightPerLine",!0,Ur,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,po,!0),n("addModeClass",!1,po,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,po,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function Pa(e,t,n){if(!t!=!(n&&n!=Ma)){var r=e.display.dragFunctions,i=t?pe:ve;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function Fa(e){e.options.lineWrapping?(I(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(N(e.display.wrapper,"CodeMirror-wrap"),an(e)),Ir(e),Br(e),fr(e),setTimeout((function(){return mi(e)}),100)}function Ba(e,t){var n=this;if(!(this instanceof Ba))return new Ba(e,t);this.options=t=t?W(t):{},W(Ea,t,!1);var r=t.value;"string"==typeof r?r=new xs(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Ba.inputStyles[t.inputStyle](this),o=this.display=new Xi(e,r,i,t);for(var c in o.wrapper.CodeMirror=this,Aa(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),wi(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new R,keySeq:null,specialChars:null},t.autofocus&&!m&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Wa(this),Ms(),xi(this),this.curOp.forceUpdate=!0,yo(this,r),t.autofocus&&!m||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&$r(n)}),20):Xr(this),Da)Da.hasOwnProperty(c)&&Da[c](this,t[c],Ma);qi(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ha.length;++u)Ha[u](this);Ci(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Wa(e){var t=e.display;pe(t.scroller,"mousedown",Ei(e,ma)),pe(t.scroller,"dblclick",s&&a<11?Ei(e,(function(t){if(!ye(e,t)){var n=Pr(e,t);if(n&&!Na(e,t)&&!Kn(e.display,t)){xe(t);var r=e.findWordAt(n);Fo(e.doc,r.anchor,r.head)}}})):function(t){return ye(e,t)||xe(t)}),pe(t.scroller,"contextmenu",(function(t){return Ta(e,t)})),pe(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||Ta(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}pe(t.scroller,"touchstart",(function(i){if(!ye(e,i)&&!o(i)&&!Na(e,i)){t.input.ensurePolled(),clearTimeout(n);var s=+new Date;t.activeTouch={start:s,moved:!1,prev:s-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),pe(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),pe(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Kn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,s=e.coordsChar(t.activeTouch,"page");o=!r.prev||l(r,r.prev)?new io(s,s):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(s):new io(it(s.line,0),ft(e.doc,it(s.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),xe(n)}i()})),pe(t.scroller,"touchcancel",i),pe(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(fi(e,t.scroller.scrollTop),di(e,t.scroller.scrollLeft,!0),me(e,"scroll",e))})),pe(t.scroller,"mousewheel",(function(t){return no(e,t)})),pe(t.scroller,"DOMMouseScroll",(function(t){return no(e,t)})),pe(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ye(e,t)||Le(t)},over:function(t){ye(e,t)||(Ns(e,t),Le(t))},start:function(t){return Ls(e,t)},drop:Ei(e,Ss),leave:function(t){ye(e,t)||Ts(e)}};var c=t.input.getField();pe(c,"keyup",(function(t){return ua.call(e,t)})),pe(c,"keydown",Ei(e,la)),pe(c,"keypress",Ei(e,fa)),pe(c,"focus",(function(t){return $r(e,t)})),pe(c,"blur",(function(t){return Xr(e,t)}))}Ba.defaults=Ea,Ba.optionHandlers=Da;var Ha=[];function Ra(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=yt(e,t).state:n="prev");var s=e.options.tabSize,a=$e(o,t),l=H(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(i,a.text.slice(u.length),a.text))==U||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?H($e(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var f="",h=0;if(e.options.indentWithTabs)for(var d=Math.floor(c/s);d;--d)h+=s,f+="\t";if(h<c&&(f+=V(c-h)),f!=u)return rs(o,f,it(t,0),it(t,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var g=o.sel.ranges[p];if(g.head.line==t&&g.head.ch<u.length){var v=it(t,u.length);Wo(o,p,new io(v,v));break}}}Ba.defineInitHook=function(e){return Ha.push(e)};var _a=null;function Ya(e){_a=e}function Ua(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var s=+new Date-200,a="paste"==i||e.state.pasteIncoming>s,l=Ie(t),c=null;if(a&&r.ranges.length>1)if(_a&&_a.text.join("\n")==t){if(r.ranges.length%_a.text.length==0){c=[];for(var u=0;u<_a.text.length;u++)c.push(o.splitLines(_a.text[u]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=$(l,(function(e){return[e]})));for(var f=e.curOp.updateInput,h=r.ranges.length-1;h>=0;h--){var d=r.ranges[h],p=d.from(),g=d.to();d.empty()&&(n&&n>0?p=it(p.line,p.ch-n):e.state.overwrite&&!a?g=it(g.line,Math.min($e(o,g.line).text.length,g.ch+G(l).length)):a&&_a&&_a.lineWise&&_a.text.join("\n")==l.join("\n")&&(p=g=it(p.line,0)));var v={from:p,to:g,text:c?c[h%c.length]:l,origin:i||(a?"paste":e.state.cutIncoming>s?"cut":"+input")};Xo(e.doc,v),On(e,"inputRead",e,v)}t&&!a&&ja(e,t),si(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ka(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Mi(t,(function(){return Ua(t,n,0,null,"paste")})),!0}function ja(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Ra(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test($e(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=Ra(e,i.head.line,"smart"));s&&On(e,"electricInput",e,i.head.line)}}}function Za(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:it(i,0),head:it(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function za(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function qa(){var e=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=A("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),g&&(e.style.border="1px solid black"),za(e),t}function Va(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Ei(this,t[e])(this,n,i),me(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](js(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Di((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");X(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,Br(this)})),removeOverlay:Di((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Br(this)}})),indentLine:Di((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),nt(this.doc,e)&&Ra(this,e,t,n)})),indentSelection:Di((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Ra(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&si(this));else{var o=i.from(),s=i.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Ra(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&Wo(this.doc,r,new io(o,c[r].to()),K)}}})),getTokenAt:function(e,t){return Ct(this,e,t)},getLineTokens:function(e,t){return Ct(this,it(e),t,!0)},getTokenTypeAt:function(e){e=ft(this.doc,e);var t,n=mt(this,$e(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}r=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=i[o[t][s]];a&&r.push(a)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==_(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return yt(this,(e=ut(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return yr(this,null==e?n.head:"object"==typeof e?ft(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return mr(this,ft(this.doc,e),t||"page")},coordsChar:function(e,t){return kr(this,(e=vr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=vr(this,{top:e,left:0},t||"page").top,tt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=$e(this.doc,e)}else r=e;return gr(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-on(r):0)},defaultTextHeight:function(){return Or(this.display)},defaultCharWidth:function(){return Ar(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,s=(e=yr(this,ft(this.doc,e))).bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&ri(this,{left:a,top:s,right:a+t.offsetWidth,bottom:s+t.offsetHeight})},triggerOnKeyDown:Di(la),triggerOnKeyPress:Di(fa),triggerOnKeyUp:ua,triggerOnMouseDown:Di(ma),execCommand:function(e){if($s.hasOwnProperty(e))return $s[e].call(null,this)},triggerElectric:Di((function(e){ja(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=ft(this.doc,e),s=0;s<t&&!(o=Ga(this.doc,o,i,n,r)).hitSide;++s);return o},moveH:Di((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Ga(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),Z)})),deleteH:Di((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Zs(this,(function(n){var i=Ga(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var s=ft(this.doc,e),a=0;a<t;++a){var l=yr(this,s,"div");if(null==o?o=l.left:l.left=o,(s=$a(this,l,i,n)).hitSide)break}return s},moveV:Di((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(s){if(o)return e<0?s.from():s.to();var a=yr(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=$a(n,a,e,t);return"page"==t&&s==r.sel.primary()&&oi(n,mr(n,l,"div").top-a.top),l}),Z),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]})),findWordAt:function(e){var t=$e(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),s=ne(o,i)?function(e){return ne(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};n>0&&s(t.charAt(n-1));)--n;for(;r<t.length&&s(t.charAt(r));)++r}return new io(it(e.line,n),it(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?I(this.display.cursorDiv,"CodeMirror-overwrite"):N(this.display.cursorDiv,"CodeMirror-overwrite"),me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==D()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Di((function(e,t){ai(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-qn(this)-this.display.barHeight,width:e.scrollWidth-qn(this)-this.display.barWidth,clientHeight:Gn(this),clientWidth:Vn(this)}},scrollIntoView:Di((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:it(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?li(this,e):ui(this,e.from,e.to,e.margin)})),setSize:Di((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&ur(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Wr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,me(this,"refresh",this)})),operation:function(e){return Mi(this,e)},startOperation:function(){return xi(this)},endOperation:function(){return Ci(this)},refresh:Di((function(){var e=this.display.cachedTextHeight;Br(this),this.curOp.forceUpdate=!0,fr(this),ai(this,this.doc.scrollLeft,this.doc.scrollTop),ji(this.display),(null==e||Math.abs(e-Or(this.display))>.5||this.options.lineWrapping)&&Ir(this),me(this,"refresh",this)})),swapDoc:Di((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),yo(this,e),fr(this),this.display.input.reset(),ai(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,On(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ke(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}function Ga(e,t,n,r,i){var o=t,s=n,a=$e(e,t.line),l=i&&"rtl"==e.direction?-n:n;function c(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new it(n,t.ch,t.sticky),a=$e(e,n))}function u(o){var s;if("codepoint"==r){var u=a.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(u))s=null;else{var f=n>0?u>=55296&&u<56320:u>=56320&&u<57343;s=new it(t.line,Math.max(0,Math.min(a.text.length,t.ch+n*(f?2:1))),-n)}}else s=i?Gs(e.cm,a,t,n):qs(a,t,n);if(null==s){if(o||!c())return!1;t=Vs(i,e.cm,a,t.line,l)}else t=s;return!0}if("char"==r||"codepoint"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var f=null,h="group"==r,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||u(!p);p=!1){var g=a.text.charAt(t.ch)||"\n",v=ne(g,d)?"w":h&&"\n"==g?"n":!h||/\s/.test(g)?null:"p";if(!h||p||v||(v="s"),f&&f!=v){n<0&&(n=1,u(),t.sticky="after");break}if(v&&(f=v),n>0&&!u(!p))break}var m=qo(e,t,o,s,!0);return st(o,m)&&(m.hitSide=!0),m}function $a(e,t,n,r){var i,o,s=e.doc,a=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*Or(e.display),3);i=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=kr(e,a,i)).outside;){if(n<0?i<=0:i>=s.height){o.hitSide=!0;break}i+=5*n}return o}var Xa=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new R,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ja(e,t){var n=er(e,t.line);if(!n||n.hidden)return null;var r=$e(e.doc,t.line),i=Xn(n,r,t.line),o=he(r,e.doc.direction),s="left";o&&(s=ue(o,t.ch)%2?"right":"left");var a=or(i.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Qa(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function el(e,t){return t&&(e.bad=!0),e}function tl(e,t,n,r,i){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(e){return function(t){return t.id==e}}function u(){s&&(o+=a,l&&(o+=a),s=l=!1)}function f(e){e&&(u(),o+=e)}function h(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void f(n);var o,d=t.getAttribute("cm-marker");if(d){var p=e.findMarks(it(r,0),it(i+1,0),c(+d));return void(p.length&&(o=p[0].find(0))&&f(Xe(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var g=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;g&&u();for(var v=0;v<t.childNodes.length;v++)h(t.childNodes[v]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),g&&(s=!0)}else 3==t.nodeType&&f(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;h(t),t!=n;)t=t.nextSibling,l=!1;return o}function nl(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return el(e.clipPos(it(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return rl(o,t,n)}}function rl(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!E(r,t))return el(it(et(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?G(e.rest):e.line;return el(it(et(o),o.text.length),i)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var l=e.measure,c=l.maps;function u(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var u=et(i<0?e.line:e.rest[i]),f=o[s]+r;return(r<0||a!=t)&&(f=o[s+(r?1:0)]),it(u,f)}}}var f=u(s,a,n);if(f)return el(f,i);for(var h=a.nextSibling,d=s?s.nodeValue.length-n:0;h;h=h.nextSibling){if(f=u(h,h.firstChild,0))return el(it(f.line,f.ch-d),i);d+=h.textContent.length}for(var p=a.previousSibling,g=n;p;p=p.previousSibling){if(f=u(p,p.firstChild,-1))return el(it(f.line,f.ch+g),i);g+=p.textContent.length}}Xa.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function s(e){if(o(e)&&!ye(r,e)){if(r.somethingSelected())Ya({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Za(r);Ya({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,K),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var s=_a.text.join("\n");if(e.clipboardData.setData("Text",s),e.clipboardData.getData("Text")==s)return void e.preventDefault()}var a=qa(),l=a.firstChild;r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),l.value=_a.text.join("\n");var c=D();F(l),setTimeout((function(){r.display.lineSpace.removeChild(a),c.focus(),c==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,za(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),pe(i,"paste",(function(e){!o(e)||ye(r,e)||Ka(e,r)||a<=11&&setTimeout(Ei(r,(function(){return t.updateFromDOM()})),20)})),pe(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),pe(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),pe(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),pe(i,"touchstart",(function(){return n.forceCompositionEnd()})),pe(i,"input",(function(){t.composing||t.readFromDOMSoon()})),pe(i,"copy",s),pe(i,"cut",s)},Xa.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Xa.prototype.prepareSelection=function(){var e=Kr(this.cm,!1);return e.focus=D()==this.div,e},Xa.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Xa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Xa.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=nl(t,e.anchorNode,e.anchorOffset),a=nl(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=ot(ct(s,a),i)||0!=ot(lt(s,a),o)){var l=t.display.view,c=i.line>=t.display.viewFrom&&Ja(t,i)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Ja(t,o);if(!u){var f=l[l.length-1].measure,h=f.maps?f.maps[f.maps.length-1]:f.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&u){var d,p=e.rangeCount&&e.getRangeAt(0);try{d=L(c.node,c.offset,u.offset,u.node)}catch(g){}d&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),p&&null==e.anchorNode?e.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Xa.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Xa.prototype.showMultipleSelections=function(e){O(this.cm.display.cursorDiv,e.cursors),O(this.cm.display.selectionDiv,e.selection)},Xa.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Xa.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return E(this.div,t)},Xa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&D()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Xa.prototype.blur=function(){this.div.blur()},Xa.prototype.getField=function(){return this.div},Xa.prototype.supportsTouch=function(){return!0},Xa.prototype.receivedFocus=function(){var e=this,t=this;function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.selectionInEditor()?setTimeout((function(){return e.pollSelection()}),20):Mi(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,n)},Xa.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Xa.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(v&&u&&this.cm.display.gutterSpecs.length&&Qa(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=nl(t,e.anchorNode,e.anchorOffset),r=nl(t,e.focusNode,e.focusOffset);n&&r&&Mi(t,(function(){Yo(t.doc,so(n,r),K),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Xa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>r.firstLine()&&(s=it(s.line-1,$e(r.doc,s.line-1).length)),a.ch==$e(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=it(a.line+1,0)),s.line<i.viewFrom||a.line>i.viewTo-1)return!1;s.line==i.viewFrom||0==(e=Fr(r,s.line))?(t=et(i.view[0].line),n=i.view[0].node):(t=et(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,c,u=Fr(r,a.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=et(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(tl(r,n,c,t,l)),h=Xe(r.doc,it(t,0),it(l,$e(r.doc,l).text.length));f.length>1&&h.length>1;)if(G(f)==G(h))f.pop(),h.pop(),l--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),t++}for(var d=0,p=0,g=f[0],v=h[0],m=Math.min(g.length,v.length);d<m&&g.charCodeAt(d)==v.charCodeAt(d);)++d;for(var y=G(f),b=G(h),w=Math.min(y.length-(1==f.length?d:0),b.length-(1==h.length?d:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==f.length&&1==h.length&&t==s.line)for(;d&&d>s.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)d--,p++;f[f.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var k=it(t,d),x=it(l,h.length?G(h).length-p:0);return f.length>1||f[0]||ot(k,x)?(rs(r.doc,f,k,x,"+input"),!0):void 0},Xa.prototype.ensurePolled=function(){this.forceCompositionEnd()},Xa.prototype.reset=function(){this.forceCompositionEnd()},Xa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Xa.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Xa.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Mi(this.cm,(function(){return Br(e.cm)}))},Xa.prototype.setUneditable=function(e){e.contentEditable="false"},Xa.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ei(this.cm,Ua)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Xa.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Xa.prototype.onContextMenu=function(){},Xa.prototype.resetPosition=function(){},Xa.prototype.needsContentAttribute=!0;var il=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new R,this.hasSelection=!1,this.composing=null};function ol(e,t){if((t=t?W(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=D();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=a.getValue()}var i;if(e.form&&(pe(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(l){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ve(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var a=Ba((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return a}function sl(e){e.off=ve,e.on=pe,e.wheelEventPixels=to,e.Doc=xs,e.splitLines=Ie,e.countColumn=H,e.findColumn=z,e.isWordChar=te,e.Pass=U,e.signal=me,e.Line=ln,e.changeEnd=ao,e.scrollbarModel=bi,e.Pos=it,e.cmpPos=ot,e.modes=He,e.mimeModes=Re,e.resolveMode=Ue,e.getMode=Ke,e.modeExtensions=je,e.extendMode=Ze,e.copyState=ze,e.startState=Ve,e.innerMode=qe,e.commands=$s,e.keyMap=Ws,e.keyName=Ks,e.isModifierKey=Ys,e.lookupKey=_s,e.normalizeKeyMap=Rs,e.StringStream=Ge,e.SharedTextMarker=vs,e.TextMarker=ps,e.LineWidget=us,e.e_preventDefault=xe,e.e_stopPropagation=Ce,e.e_stop=Le,e.addClass=I,e.contains=E,e.rmClass=N,e.keyNames=Is}il.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!ye(r,e)){if(r.somethingSelected())Ya({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Za(r);Ya({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,K):(n.prevInput="",i.value=t.text.join("\n"),F(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),g&&(i.style.width="0px"),pe(i,"input",(function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),pe(i,"paste",(function(e){ye(r,e)||Ka(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),pe(i,"cut",o),pe(i,"copy",o),pe(e.scroller,"paste",(function(t){if(!Kn(e,t)&&!ye(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),pe(e.lineSpace,"selectstart",(function(t){Kn(e,t)||xe(t)})),pe(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),pe(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},il.prototype.createField=function(e){this.wrapper=qa(),this.textarea=this.wrapper.firstChild},il.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},il.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Kr(e);if(e.options.moveInputWithCursor){var i=yr(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},il.prototype.showSelection=function(e){var t=this.cm.display;O(t.cursorDiv,e.cursors),O(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},il.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&F(this.textarea),s&&a>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},il.prototype.getField=function(){return this.textarea},il.prototype.supportsTouch=function(){return!1},il.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||D()!=this.textarea))try{this.textarea.focus()}catch(e){}},il.prototype.blur=function(){this.textarea.blur()},il.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},il.prototype.receivedFocus=function(){this.slowPoll()},il.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},il.prototype.fastPoll=function(){var e=!1,t=this;function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},il.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Pe(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,i.length);l<c&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Mi(t,(function(){Ua(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},il.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},il.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},il.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Pr(n,e),c=r.scroller.scrollTop;if(o&&!f){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Ei(n,Yo)(n.doc,so(o),K);var u,h=i.style.cssText,d=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),r.input.focus(),l&&window.scrollTo(null,u),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=v,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),s&&a>=9&&g(),C?(Le(e),pe(window,"mouseup",(function e(){ve(window,"mouseup",e),setTimeout(v,20)}))):setTimeout(v,50)}function g(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="\u200b"+(e?i.value:"");i.value="\u21da",i.value=o,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=d,i.style.cssText=h,s&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!s||s&&a<9)&&g();var e=0,o=function o(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?Ei(n,Go)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},il.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},il.prototype.setUneditable=function(){},il.prototype.needsContentAttribute=!1,Ia(Ba),Va(Ba);var al="iter insert remove copy getEditor constructor".split(" ");for(var ll in xs.prototype)xs.prototype.hasOwnProperty(ll)&&_(al,ll)<0&&(Ba.prototype[ll]=function(e){return function(){return e.apply(this.doc,arguments)}}(xs.prototype[ll]));return ke(xs),Ba.inputStyles={textarea:il,contenteditable:Xa},Ba.defineMode=function(e){Ba.defaults.mode||"null"==e||(Ba.defaults.mode=e),_e.apply(this,arguments)},Ba.defineMIME=Ye,Ba.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ba.defineMIME("text/plain","null"),Ba.defineExtension=function(e,t){Ba.prototype[e]=t},Ba.defineDocExtension=function(e,t){xs.prototype[e]=t},Ba.fromTextArea=ol,sl(Ba),Ba.version="5.65.2",Ba}()},51117:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();t.Rt=t.fk=void 0;var s,a=n(325),l="undefined"===typeof navigator||!0===n.g.PREVENT_CODEMIRROR_RENDER;l||(s=n(13091));var c=function(){function e(){}return e.equals=function(e,t){var n=this,r=Object.keys,o=i(e),s=i(t);return e&&t&&"object"===o&&o===s?r(e).length===r(t).length&&r(e).every((function(r){return n.equals(e[r],t[r])})):e===t},e}(),u=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,n){var r=this.editor.getDoc();n&&this.editor.focus(),t?r.setCursor(e):r.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.getDoc().setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,n){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!c.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!c.equals(e.cursor,t.cursor)&&this.delegateCursor(n.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!c.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":t.editor.on("blur",(function(e,n){t.props.onBlur(t.editor,n)}));break;case"onContextMenu":t.editor.on("contextmenu",(function(e,n){t.props.onContextMenu(t.editor,n)}));break;case"onCopy":t.editor.on("copy",(function(e,n){t.props.onCopy(t.editor,n)}));break;case"onCursor":t.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getDoc().getCursor())}));break;case"onCursorActivity":t.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onCut":t.editor.on("cut",(function(e,n){t.props.onCut(t.editor,n)}));break;case"onDblClick":t.editor.on("dblclick",(function(e,n){t.props.onDblClick(t.editor,n)}));break;case"onDragEnter":t.editor.on("dragenter",(function(e,n){t.props.onDragEnter(t.editor,n)}));break;case"onDragLeave":t.editor.on("dragleave",(function(e,n){t.props.onDragLeave(t.editor,n)}));break;case"onDragOver":t.editor.on("dragover",(function(e,n){t.props.onDragOver(t.editor,n)}));break;case"onDragStart":t.editor.on("dragstart",(function(e,n){t.props.onDragStart(t.editor,n)}));break;case"onDrop":t.editor.on("drop",(function(e,n){t.props.onDrop(t.editor,n)}));break;case"onFocus":t.editor.on("focus",(function(e,n){t.props.onFocus(t.editor,n)}));break;case"onGutterClick":t.editor.on("gutterClick",(function(e,n,r,i){t.props.onGutterClick(t.editor,n,r,i)}));break;case"onInputRead":t.editor.on("inputRead",(function(e,n){t.props.onInputRead(t.editor,n)}));break;case"onKeyDown":t.editor.on("keydown",(function(e,n){t.props.onKeyDown(t.editor,n)}));break;case"onKeyHandled":t.editor.on("keyHandled",(function(e,n,r){t.props.onKeyHandled(t.editor,n,r)}));break;case"onKeyPress":t.editor.on("keypress",(function(e,n){t.props.onKeyPress(t.editor,n)}));break;case"onKeyUp":t.editor.on("keyup",(function(e,n){t.props.onKeyUp(t.editor,n)}));break;case"onMouseDown":t.editor.on("mousedown",(function(e,n){t.props.onMouseDown(t.editor,n)}));break;case"onPaste":t.editor.on("paste",(function(e,n){t.props.onPaste(t.editor,n)}));break;case"onRenderLine":t.editor.on("renderLine",(function(e,n,r){t.props.onRenderLine(t.editor,n,r)}));break;case"onScroll":t.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":t.editor.on("beforeSelectionChange",(function(e,n){t.props.onSelection(t.editor,n)}));break;case"onTouchStart":t.editor.on("touchstart",(function(e,n){t.props.onTouchStart(t.editor,n)}));break;case"onUpdate":t.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":t.editor.on("viewportChange",(function(e,n,r){t.props.onViewportChange(t.editor,n,r)}))}}))},e}(),f=function(e){function t(t){var n=e.call(this,t)||this;return l||(n.applied=!1,n.appliedNext=!1,n.appliedUserDefined=!1,n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1),n}return o(t,e),t.prototype.hydrate=function(e){var t=this,n=e&&e.options?e.options:{},i=r({},s.defaults,this.editor.options,n);Object.keys(i).some((function(e){return t.editor.getOption(e)!==i[e]}))&&Object.keys(i).forEach((function(e){n.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&(t.editor.setOption(e,i[e]),t.mirror.setOption(e,i[e]))})),this.hydrated||(this.deferred?this.resolveChange(e.value):this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.getDoc(),n=t.lastLine(),r=t.getLine(t.lastLine()).length;t.replaceRange(e||"",{line:0,ch:0},{line:n,ch:r}),this.mirror.setValue(e),t.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(e){this.emulating=!0;var t=this.editor.getDoc();if("undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),e&&e!==t.getValue()){var n=t.getCursor();t.setValue(e),t.setCursor(n)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){var t=this.editor.getDoc();return"undo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var e=this;l||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref,this.props.options),this.shared=new u(this.editor,this.props),this.mirror=s((function(){}),this.props.options),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(t,n){if(!e.emulating){n.cancel(),e.deferred=n;var r=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,r)}})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,n,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(!l){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(e,this.props,t),this.appliedNext=!0),this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){l||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},t.prototype.shouldComponentUpdate=function(e,t){return!l},t.prototype.render=function(){var e=this;if(l)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return a.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(a.Component);t.fk=f;var h=function(e){function t(t){var n=e.call(this,t)||this;return l||(n.applied=!1,n.appliedUserDefined=!1,n.continueChange=!1,n.detached=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0}),n}return o(t,e),t.prototype.hydrate=function(e){var t=this,n=e&&e.options?e.options:{},i=r({},s.defaults,this.editor.options,n);if(Object.keys(i).some((function(e){return t.editor.getOption(e)!==i[e]}))&&Object.keys(i).forEach((function(e){n.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&t.editor.setOption(e,i[e])})),!this.hydrated){var o=this.editor.getDoc(),a=o.lastLine(),l=o.getLine(o.lastLine()).length;o.replaceRange(e.value||"",{line:0,ch:0},{line:a,ch:l})}this.hydrated=!0},t.prototype.componentDidMount=function(){var e=this;l||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&s.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=s(this.ref,this.props.options),this.shared=new u(this.editor,this.props),this.editor.on("beforeChange",(function(t,n){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,n,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,n,e.editor.getValue()):e.props.onChange(e.editor,n,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(this.detached&&!1===this.props.detach&&(this.detached=!1,e.editorDidAttach&&e.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,e.editorDidDetach&&e.editorDidDetach(this.editor)),!l&&!this.detached){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),e.autoCursor||void 0===e.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(e),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){l||this.props.editorWillUnmount&&this.props.editorWillUnmount(s)},t.prototype.shouldComponentUpdate=function(e,t){var n=!0;return l&&(n=!1),this.detached&&e.detach&&(n=!1),n},t.prototype.render=function(){var e=this;if(l)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return a.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(a.Component);t.Rt=h},83535:function(){},65222:function(){},1033:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Gn},Qc:function(){return qn},wL:function(){return zn},Pz:function(){return Vn}});var r={};n.r(r),n.d(r,{BOM:function(){return kn},DOCUMENT:function(){return xn},FLOW_END:function(){return Cn},SCALAR:function(){return Sn},createScalarToken:function(){return ln},isCollection:function(){return Ln},isScalar:function(){return Nn},prettyToken:function(){return Tn},resolveAsScalar:function(){return an},setScalarValue:function(){return cn},stringify:function(){return dn},tokenType:function(){return On},visit:function(){return bn}});var i={};n.r(i),n.d(i,{Alias:function(){return _},CST:function(){return r},Composer:function(){return sn},Document:function(){return Mt},Lexer:function(){return Fn},LineCounter:function(){return Bn},Pair:function(){return ye},Parser:function(){return Kn},Scalar:function(){return Z},Schema:function(){return Tt},YAMLError:function(){return Dt},YAMLMap:function(){return Le},YAMLParseError:function(){return It},YAMLSeq:function(){return Te},YAMLWarning:function(){return Pt},defaultOptions:function(){return be},isAlias:function(){return m},isCollection:function(){return C},isDocument:function(){return y},isMap:function(){return b},isNode:function(){return S},isPair:function(){return w},isScalar:function(){return k},isSeq:function(){return x},parse:function(){return qn},parseAllDocuments:function(){return Zn},parseDocument:function(){return zn},stringify:function(){return Vn},visit:function(){return A}});var o=n(47427),s=n(57994),a=n(98907),l=n(95550),c=n(19065),u=Symbol.for("yaml.alias"),f=Symbol.for("yaml.document"),h=Symbol.for("yaml.map"),d=Symbol.for("yaml.pair"),p=Symbol.for("yaml.scalar"),g=Symbol.for("yaml.seq"),v=Symbol.for("yaml.node.type"),m=function(e){return!!e&&"object"===typeof e&&e[v]===u},y=function(e){return!!e&&"object"===typeof e&&e[v]===f},b=function(e){return!!e&&"object"===typeof e&&e[v]===h},w=function(e){return!!e&&"object"===typeof e&&e[v]===d},k=function(e){return!!e&&"object"===typeof e&&e[v]===p},x=function(e){return!!e&&"object"===typeof e&&e[v]===g};function C(e){if(e&&"object"===typeof e)switch(e[v]){case h:case g:return!0}return!1}function S(e){if(e&&"object"===typeof e)switch(e[v]){case u:case h:case p:case g:return!0}return!1}var L=function(){function e(t){(0,s.Z)(this,e),Object.defineProperty(this,v,{value:t})}return(0,a.Z)(e,[{key:"clone",value:function(){var e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}]),e}(),N=Symbol("break visit"),T=Symbol("skip children"),O=Symbol("remove node");function A(e,t){("object"===typeof t&&(t.Collection||t.Node||t.Value)&&(t=Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t)),y(e))?M(null,e.contents,t,Object.freeze([e]))===O&&(e.contents=null):M(null,e,t,Object.freeze([]))}function M(e,t,n,r){var i=void 0;if("function"===typeof n?i=n(e,t,r):b(t)?n.Map&&(i=n.Map(e,t,r)):x(t)?n.Seq&&(i=n.Seq(e,t,r)):w(t)?n.Pair&&(i=n.Pair(e,t,r)):k(t)?n.Scalar&&(i=n.Scalar(e,t,r)):m(t)&&n.Alias&&(i=n.Alias(e,t,r)),S(i)||w(i)){var o=r[r.length-1];if(C(o))o.items[e]=i;else if(w(o))"key"===e?o.key=i:o.value=i;else{if(!y(o)){var s=m(o)?"alias":"scalar";throw new Error("Cannot replace node with ".concat(s," parent"))}o.contents=i}return M(e,i,n,r)}if("symbol"!==typeof i)if(C(t)){r=Object.freeze(r.concat(t));for(var a=0;a<t.items.length;++a){var l=M(a,t.items[a],n,r);if("number"===typeof l)a=l-1;else{if(l===N)return N;l===O&&(t.items.splice(a,1),a-=1)}}}else if(w(t)){r=Object.freeze(r.concat(t));var c=M("key",t.key,n,r);if(c===N)return N;c===O&&(t.key=null);var u=M("value",t.value,n,r);if(u===N)return N;u===O&&(t.value=null)}return i}A.BREAK=N,A.SKIP=T,A.REMOVE=O;var E={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},D=function(){function e(t,n){(0,s.Z)(this,e),this.marker=null,this.yaml=Object.assign({},e.defaultYaml,t),this.tags=Object.assign({},e.defaultTags,n)}return(0,a.Z)(e,[{key:"clone",value:function(){var t=new e(this.yaml,this.tags);return t.marker=this.marker,t}},{key:"atDocument",value:function(){var t=new e(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:e.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},e.defaultTags)}return t}},{key:"add",value:function(t,n){this.atNextDocument&&(this.yaml={explicit:e.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},e.defaultTags),this.atNextDocument=!1);var r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":if(2!==r.length&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;var o=(0,c.Z)(r,2),s=o[0],a=o[1];return this.tags[s]=a,!0;case"%YAML":if(this.yaml.explicit=!0,r.length<1)return n(0,"%YAML directive should contain exactly one part"),!1;var l=(0,c.Z)(r,1)[0];return"1.1"===l||"1.2"===l?(this.yaml.version=l,!0):(n(6,"Unsupported YAML version ".concat(l),!0),!1);default:return n(0,"Unknown directive ".concat(i),!0),!1}}},{key:"tagName",value:function(e,t){if("!"===e)return"!";if("!"!==e[0])return t("Not a valid tag: ".concat(e)),null;if("<"===e[1]){var n=e.slice(2,-1);return"!"===n||"!!"===n?(t("Verbatim tags aren't resolved, so ".concat(e," is invalid.")),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}var r=e.match(/^(.*!)([^!]*)$/),i=(0,c.Z)(r,3),o=i[1],s=i[2];s||t("The ".concat(e," tag has no suffix"));var a=this.tags[o];return a?a+decodeURIComponent(s):"!"===o?e:(t("Could not resolve tag: ".concat(e)),null)}},{key:"tagString",value:function(e){for(var t=0,n=Object.entries(this.tags);t<n.length;t++){var r=(0,c.Z)(n[t],2),i=r[0],o=r[1];if(e.startsWith(o))return i+e.substring(o.length).replace(/[!,[\]{}]/g,(function(e){return E[e]}))}return"!"===e[0]?e:"!<".concat(e,">")}},{key:"toString",value:function(e){var t,n=this.yaml.explicit?["%YAML ".concat(this.yaml.version||"1.2")]:[],r=Object.entries(this.tags);if(e&&r.length>0&&S(e.contents)){var i={};A(e.contents,(function(e,t){S(t)&&t.tag&&(i[t.tag]=!0)})),t=Object.keys(i)}else t=[];for(var o=function(){var r=(0,c.Z)(a[s],2),i=r[0],o=r[1];if("!!"===i&&"tag:yaml.org,2002:"===o)return"continue";e&&!t.some((function(e){return e.startsWith(o)}))||n.push("%TAG ".concat(i," ").concat(o))},s=0,a=r;s<a.length;s++)o();return n.join("\n")}}]),e}();D.defaultYaml={explicit:!1,version:"1.2"},D.defaultTags={"!!":"tag:yaml.org,2002:"};var I=n(16798),P=n(78647),F=n(64428),B=n(28463);function W(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){var t=JSON.stringify(e),n="Anchor must not contain whitespace or control characters: ".concat(t);throw new Error(n)}return!0}function H(e){var t=new Set;return A(e,{Value:function(e,n){n.anchor&&t.add(n.anchor)}}),t}function R(e,t){for(var n=1;;++n){var r="".concat(e).concat(n);if(!t.has(r))return r}}var _=function(e){(0,F.Z)(n,e);var t=(0,B.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,u)).source=e,Object.defineProperty((0,P.Z)(r),"tag",{set:function(){throw new Error("Alias nodes cannot have tags")}}),r}return(0,a.Z)(n,[{key:"resolve",value:function(e){var t=this,n=void 0;return A(e,{Node:function(e,r){if(r===t)return A.BREAK;r.anchor===t.source&&(n=r)}}),n}},{key:"toJSON",value:function(e,t){if(!t)return{source:this.source};var n=t.anchors,r=t.doc,i=t.maxAliasCount,o=this.resolve(r);if(!o){var s="Unresolved alias (the anchor must be set before the alias): ".concat(this.source);throw new ReferenceError(s)}var a=n.get(o);if(!a||void 0===a.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(i>=0&&(a.count+=1,0===a.aliasCount&&(a.aliasCount=Y(r,o,n)),a.count*a.aliasCount>i)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return a.res}},{key:"toString",value:function(e,t,n){var r="*".concat(this.source);if(e){if(W(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){var i="Unresolved alias (the anchor must be set before the alias): ".concat(this.source);throw new Error(i)}if(e.implicitKey)return"".concat(r," ")}return r}}]),n}(L);function Y(e,t,n){if(m(t)){var r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}if(C(t)){var s,a=0,l=(0,o.Z)(t.items);try{for(l.s();!(s=l.n()).done;){var c=Y(e,s.value,n);c>a&&(a=c)}}catch(h){l.e(h)}finally{l.f()}return a}if(w(t)){var u=Y(e,t.key,n),f=Y(e,t.value,n);return Math.max(u,f)}return 1}var U=n(16540);function K(e,t,n){if(Array.isArray(e))return e.map((function(e,t){return K(e,String(t),n)}));if(e&&"function"===typeof e.toJSON){if(!n||(!k(o=e)&&!C(o)||!o.anchor))return e.toJSON(t,n);var r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=function(e){r.res=e,delete n.onCreate};var i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}var o;return"bigint"!==typeof e||n&&n.keep?e:Number(e)}var j=function(e){return!e||"function"!==typeof e&&"object"!==typeof e},Z=function(e){(0,F.Z)(n,e);var t=(0,B.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,p)).value=e,r}return(0,a.Z)(n,[{key:"toJSON",value:function(e,t){return t&&t.keep?this.value:K(this.value,e,t)}},{key:"toString",value:function(){return String(this.value)}}]),n}(L);Z.BLOCK_FOLDED="BLOCK_FOLDED",Z.BLOCK_LITERAL="BLOCK_LITERAL",Z.PLAIN="PLAIN",Z.QUOTE_DOUBLE="QUOTE_DOUBLE",Z.QUOTE_SINGLE="QUOTE_SINGLE";function z(e,t,n){var r,i;if(y(e)&&(e=e.contents),S(e))return e;if(w(e)){var o=null===(i=(r=n.schema[h]).createNode)||void 0===i?void 0:i.call(r,n.schema,null,n);return o.items.push(e),o}(e instanceof String||e instanceof Number||e instanceof Boolean||"function"===typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());var s=n.aliasDuplicateObjects,a=n.onAnchor,l=n.onTagObj,c=n.schema,u=n.sourceObjects,f=void 0;if(s&&e&&"object"===typeof e){if(f=u.get(e))return f.anchor||(f.anchor=a(e)),new _(f.anchor);f={anchor:null,node:null},u.set(e,f)}t&&t.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));var d=function(e,t,n){if(t){var r=n.filter((function(e){return e.tag===t})),i=r.find((function(e){return!e.format}))||r[0];if(!i)throw new Error("Tag ".concat(t," not found"));return i}return n.find((function(t){return t.identify&&t.identify(e)&&!t.format}))}(e,t,c.tags);if(!d){if(e&&"function"===typeof e.toJSON&&(e=e.toJSON()),!e||"object"!==typeof e){var p=new Z(e);return f&&(f.node=p),p}d=e instanceof Map?c[h]:Symbol.iterator in Object(e)?c[g]:c[h]}l&&(l(d),delete n.onTagObj);var v=(null===d||void 0===d?void 0:d.createNode)?d.createNode(n.schema,e,n):new Z(e);return t&&(v.tag=t),f&&(f.node=v),v}function q(e,t,n){for(var r=n,i=t.length-1;i>=0;--i){var o=t[i];if("number"===typeof o&&Number.isInteger(o)&&o>=0){var s=[];s[o]=r,r=s}else r=new Map([[o,r]])}return z(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:function(){throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}var V=function(e){return null==e||"object"===typeof e&&!!e[Symbol.iterator]().next().done},G=function(e){(0,F.Z)(n,e);var t=(0,B.Z)(n);function n(e,r){var i;return(0,s.Z)(this,n),i=t.call(this,e),Object.defineProperty((0,P.Z)(i),"schema",{value:r,configurable:!0,enumerable:!1,writable:!0}),i}return(0,a.Z)(n,[{key:"clone",value:function(e){var t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((function(t){return S(t)||w(t)?t.clone(e):t})),this.range&&(t.range=this.range.slice()),t}},{key:"addIn",value:function(e,t){if(V(e))this.add(t);else{var n=(0,U.Z)(e),r=n[0],i=n.slice(1),o=this.get(r,!0);if(C(o))o.addIn(i,t);else{if(void 0!==o||!this.schema)throw new Error("Expected YAML collection at ".concat(r,". Remaining path: ").concat(i));this.set(r,q(this.schema,i,t))}}}},{key:"deleteIn",value:function(e){var t=(0,U.Z)(e),n=t[0],r=t.slice(1);if(0===r.length)return this.delete(n);var i=this.get(n,!0);if(C(i))return i.deleteIn(r);throw new Error("Expected YAML collection at ".concat(n,". Remaining path: ").concat(r))}},{key:"getIn",value:function(e,t){var n=(0,U.Z)(e),r=n[0],i=n.slice(1),o=this.get(r,!0);return 0===i.length?!t&&k(o)?o.value:o:C(o)?o.getIn(i,t):void 0}},{key:"hasAllNullValues",value:function(e){return this.items.every((function(t){if(!w(t))return!1;var n=t.value;return null==n||e&&k(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}},{key:"hasIn",value:function(e){var t=(0,U.Z)(e),n=t[0],r=t.slice(1);if(0===r.length)return this.has(n);var i=this.get(n,!0);return!!C(i)&&i.hasIn(r)}},{key:"setIn",value:function(e,t){var n=(0,U.Z)(e),r=n[0],i=n.slice(1);if(0===i.length)this.set(r,t);else{var o=this.get(r,!0);if(C(o))o.setIn(i,t);else{if(void 0!==o||!this.schema)throw new Error("Expected YAML collection at ".concat(r,". Remaining path: ").concat(i));this.set(r,q(this.schema,i,t))}}}}]),n}(L);G.maxFlowStringSingleLineLength=60;var $=function(e){return e.replace(/^(?!$)(?: $)?/gm,"#")};function X(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}var J=function(e,t,n){return n.includes("\n")?"\n"+X(n,t):(e.endsWith(" ")?"":" ")+n},Q="flow",ee="block",te="quoted";function ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flow",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.indentAtStart,o=r.lineWidth,s=void 0===o?80:o,a=r.minContentWidth,l=void 0===a?20:a,c=r.onFold,u=r.onOverflow;if(!s||s<0)return e;var f=Math.max(1+l,1+s-t.length);if(e.length<=f)return e;var h=[],d={},p=s-t.length;"number"===typeof i&&(i>s-Math.max(2,l)?h.push(0):p=s-i);var g,v=void 0,m=void 0,y=!1,b=-1,w=-1,k=-1;for(n===ee&&-1!==(b=re(e,b))&&(p=b+f);g=e[b+=1];){if(n===te&&"\\"===g){switch(w=b,e[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}k=b}if("\n"===g)n===ee&&(b=re(e,b)),p=b+f,v=void 0;else{if(" "===g&&m&&" "!==m&&"\n"!==m&&"\t"!==m){var x=e[b+1];x&&" "!==x&&"\n"!==x&&"\t"!==x&&(v=b)}if(b>=p)if(v)h.push(v),p=v+f,v=void 0;else if(n===te){for(;" "===m||"\t"===m;)m=g,g=e[b+=1],y=!0;var C=b>k+1?b-2:w-1;if(d[C])return e;h.push(C),d[C]=!0,p=C+f,v=void 0}else y=!0}m=g}if(y&&u&&u(),0===h.length)return e;c&&c();for(var S=e.slice(0,h[0]),L=0;L<h.length;++L){var N=h[L],T=h[L+1]||e.length;0===N?S="\n".concat(t).concat(e.slice(0,T)):(n===te&&d[N]&&(S+="".concat(e[N],"\\")),S+="\n".concat(t).concat(e.slice(N+1,T)))}return S}function re(e,t){for(var n=e[t+1];" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t}var ie=function(e){return{indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}},oe=function(e){return/^(%|---|\.\.\.)/m.test(e)};function se(e,t){var n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;for(var r=t.implicitKey,i=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(oe(e)?"  ":""),s="",a=0,l=0,c=n[l];c;c=n[++l])if(" "===c&&"\\"===n[l+1]&&"n"===n[l+2]&&(s+=n.slice(a,l)+"\\ ",a=l+=1,c="\\"),"\\"===c)switch(n[l+1]){case"u":s+=n.slice(a,l);var u=n.substr(l+2,4);switch(u){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:"00"===u.substr(0,2)?s+="\\x"+u.substr(2):s+=n.substr(l,6)}a=(l+=5)+1;break;case"n":if(r||'"'===n[l+2]||n.length<i)l+=1;else{for(s+=n.slice(a,l)+"\n\n";"\\"===n[l+2]&&"n"===n[l+3]&&'"'!==n[l+4];)s+="\n",l+=2;s+=o," "===n[l+2]&&(s+="\\"),a=(l+=1)+1}break;default:l+=1}return s=a?s+n.slice(a):n,r?s:ne(s,o,te,ie(t))}function ae(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return se(e,t);var n=t.indent||(oe(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,"$&\n".concat(n))+"'";return t.implicitKey?r:ne(r,n,Q,ie(t))}function le(e,t){var n,r=t.options.singleQuote;if(!1===r)n=se;else{var i=e.includes('"'),o=e.includes("'");n=i&&!o?ae:o&&!i?se:r?ae:se}return n(e,t)}function ce(e,t,n,r){var i=e.comment,o=e.type,s=e.value,a=t.options,l=a.blockQuote,c=a.commentString,u=a.lineWidth;if(!l||/\n[\t ]+$/.test(s)||/^\s*$/.test(s))return le(s,t);var f,h,d=t.indent||(t.forceBlockIndent||oe(s)?"  ":""),p="literal"===l||"folded"!==l&&o!==Z.BLOCK_FOLDED&&(o===Z.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;var r=t-n,i=e.length;if(i<=r)return!1;for(var o=0,s=0;o<i;++o)if("\n"===e[o]){if(o-s>r)return!0;if(i-(s=o+1)<=r)return!1}return!0}(s,u,d.length));if(!s)return p?"|\n":">\n";for(h=s.length;h>0;--h){var g=s[h-1];if("\n"!==g&&"\t"!==g&&" "!==g)break}var v=s.substring(h),m=v.indexOf("\n");-1===m?f="-":s===v||m!==v.length-1?(f="+",r&&r()):f="",v&&(s=s.slice(0,-v.length),"\n"===v[v.length-1]&&(v=v.slice(0,-1)),v=v.replace(/\n+(?!\n|$)/g,"$&".concat(d)));var y,b=!1,w=-1;for(y=0;y<s.length;++y){var k=s[y];if(" "===k)b=!0;else{if("\n"!==k)break;w=y}}var x=s.substring(0,w<y?w+1:y);x&&(s=s.substring(x.length),x=x.replace(/\n+/g,"$&".concat(d)));var C=(p?"|":">")+(b?d?"2":"1":"")+f;if(i&&(C+=" "+c(i.replace(/ ?[\r\n]+/g," ")),n&&n()),p)return s=s.replace(/\n+/g,"$&".concat(d)),"".concat(C,"\n").concat(d).concat(x).concat(s).concat(v);s=s.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&".concat(d));var S=ne("".concat(x).concat(s).concat(v),d,ee,ie(t));return"".concat(C,"\n").concat(d).concat(S)}function ue(e,t,n,r){var i=t.implicitKey,o=t.inFlow,s="string"===typeof e.value?e:Object.assign({},e,{value:String(e.value)}),a=e.type;a!==Z.QUOTE_DOUBLE&&/(?:[\0-\x08\x0B-\x1F\x7F-\x9F]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/.test(s.value)&&(a=Z.QUOTE_DOUBLE);var l=function(e){switch(e){case Z.BLOCK_FOLDED:case Z.BLOCK_LITERAL:return i||o?le(s.value,t):ce(s,t,n,r);case Z.QUOTE_DOUBLE:return se(s.value,t);case Z.QUOTE_SINGLE:return ae(s.value,t);case Z.PLAIN:return function(e,t,n,r){var i=e.type,o=e.value,s=t.actualString,a=t.implicitKey,l=t.indent,c=t.inFlow;if(a&&/[\n[\]{},]/.test(o)||c&&/[[\]{},]/.test(o))return le(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||c||-1===o.indexOf("\n")?le(o,t):ce(e,t,n,r);if(!a&&!c&&i!==Z.PLAIN&&-1!==o.indexOf("\n"))return ce(e,t,n,r);if(""===l&&oe(o))return t.forceBlockIndent=!0,ce(e,t,n,r);var u=o.replace(/\n+/g,"$&\n".concat(l));if(s){var f=function(e){var t;return e.default&&"tag:yaml.org,2002:str"!==e.tag&&(null===(t=e.test)||void 0===t?void 0:t.test(u))},h=t.doc.schema,d=h.compat;if(h.tags.some(f)||(null===d||void 0===d?void 0:d.some(f)))return le(o,t)}return a?u:ne(u,l,Q,ie(t))}(s,t,n,r);default:return null}},c=l(a);if(null===c){var u=t.options,f=u.defaultKeyType,h=u.defaultStringType,d=i&&f||h;if(null===(c=l(d)))throw new Error("Unsupported default string type ".concat(d))}return c}function fe(e,t){var n,r=Object.assign({blockQuote:!0,commentString:$,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,indent:"",indentStep:"number"===typeof r.indent?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function he(e,t,n,r){var i;if(w(e))return e.toString(t,n,r);if(m(e)){if(t.doc.directives)return e.toString(t);if(null===(i=t.resolvedAliases)||void 0===i?void 0:i.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}var o=void 0,s=S(e)?e:t.doc.createNode(e,{onTagObj:function(e){return o=e}});o||(o=function(e,t){if(t.tag){var n=e.filter((function(e){return e.tag===t.tag}));if(n.length>0)return n.find((function(e){return e.format===t.format}))||n[0]}var r,i=void 0;if(k(t)){r=t.value;var o=e.filter((function(e){return e.identify&&e.identify(r)}));i=o.find((function(e){return e.format===t.format}))||o.find((function(e){return!e.format}))}else r=t,i=e.find((function(e){return e.nodeClass&&r instanceof e.nodeClass}));if(!i){var s=r&&r.constructor?r.constructor.name:typeof r;throw new Error("Tag not resolved for ".concat(s," value"))}return i}(t.doc.schema.tags,s));var a=function(e,t,n){var r=n.anchors,i=n.doc;if(!i.directives)return"";var o=[],s=(k(e)||C(e))&&e.anchor;s&&W(s)&&(r.add(s),o.push("&".concat(s)));var a=e.tag||(t.default?null:t.tag);return a&&o.push(i.directives.tagString(a)),o.join(" ")}(s,o,t);a.length>0&&(t.indentAtStart=(t.indentAtStart||0)+a.length+1);var l="function"===typeof o.stringify?o.stringify(s,t,n,r):k(s)?ue(s,t,n,r):s.toString(t,n,r);return a?k(s)||"{"===l[0]||"["===l[0]?"".concat(a," ").concat(l):"".concat(a,"\n").concat(t.indent).concat(l):l}function de(e,t){"debug"!==e&&"warn"!==e||("undefined"!==typeof process&&process.emitWarning?process.emitWarning(t):console.warn(t))}function pe(e,t,n){var r=n.key,i=n.value;if(e&&e.doc.schema.merge&&ge(r))if(i=m(i)?i.resolve(e.doc):i,x(i)){var s,a=(0,o.Z)(i.items);try{for(a.s();!(s=a.n()).done;){ve(e,t,s.value)}}catch(d){a.e(d)}finally{a.f()}}else if(Array.isArray(i)){var l,c=(0,o.Z)(i);try{for(c.s();!(l=c.n()).done;){ve(e,t,l.value)}}catch(d){c.e(d)}finally{c.f()}}else ve(e,t,i);else{var u=K(r,"",e);if(t instanceof Map)t.set(u,K(i,u,e));else if(t instanceof Set)t.add(u);else{var f=function(e,t,n){if(null===t)return"";if("object"!==typeof t)return String(t);if(S(e)&&n&&n.doc){var r=fe(n.doc,{});r.anchors=new Set;var i,s=(0,o.Z)(n.anchors.keys());try{for(s.s();!(i=s.n()).done;){var a=i.value;r.anchors.add(a.anchor)}}catch(d){s.e(d)}finally{s.f()}r.inFlow=!0,r.inStringifyKey=!0;var l=e.toString(r);if(!n.mapKeyWarned){var c=JSON.stringify(l);c.length>40&&(c=c.substring(0,36)+'..."'),de(n.doc.options.logLevel,"Keys with collection values will be stringified due to JS Object restrictions: ".concat(c,". Set mapAsMap: true to use object keys.")),n.mapKeyWarned=!0}return l}return JSON.stringify(t)}(r,u,e),h=K(i,f,e);f in t?Object.defineProperty(t,f,{value:h,writable:!0,enumerable:!0,configurable:!0}):t[f]=h}}return t}var ge=function(e){return"<<"===e||k(e)&&"<<"===e.value&&(!e.type||e.type===Z.PLAIN)};function ve(e,t,n){var r=e&&m(n)?n.resolve(e.doc):n;if(!b(r))throw new Error("Merge sources must be maps or map aliases");var i,s=r.toJSON(null,e,Map),a=(0,o.Z)(s);try{for(a.s();!(i=a.n()).done;){var l=(0,c.Z)(i.value,2),u=l[0],f=l[1];t instanceof Map?t.has(u)||t.set(u,f):t instanceof Set?t.add(u):Object.prototype.hasOwnProperty.call(t,u)||Object.defineProperty(t,u,{value:f,writable:!0,enumerable:!0,configurable:!0})}}catch(h){a.e(h)}finally{a.f()}return t}function me(e,t,n){var r=z(e,void 0,n),i=z(t,void 0,n);return new ye(r,i)}var ye=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,s.Z)(this,e),Object.defineProperty(this,v,{value:d}),this.key=t,this.value=n}return(0,a.Z)(e,[{key:"clone",value:function(t){var n=this.key,r=this.value;return S(n)&&(n=n.clone(t)),S(r)&&(r=r.clone(t)),new e(n,r)}},{key:"toJSON",value:function(e,t){return pe(t,t&&t.mapAsMap?new Map:{},this)}},{key:"toString",value:function(e,t,n){return e&&e.doc?function(e,t,n,r){var i=e.key,o=e.value,s=t,a=s.allNullValues,l=s.doc,c=s.indent,u=s.indentStep,f=s.options,h=f.commentString,d=f.indentSeq,p=f.simpleKeys,g=S(i)&&i.comment||null;if(p){if(g)throw new Error("With simple keys, key nodes cannot have comments");if(C(i))throw new Error("With simple keys, collection cannot be used as a key value")}var v=!p&&(!i||g&&null==o&&!t.inFlow||C(i)||(k(i)?i.type===Z.BLOCK_FOLDED||i.type===Z.BLOCK_LITERAL:"object"===typeof i));t=Object.assign({},t,{allNullValues:!1,implicitKey:!v&&(p||!a),indent:c+u});var m=!1,y=!1,b=he(i,t,(function(){return m=!0}),(function(){return y=!0}));if(!v&&!t.inFlow&&b.length>1024){if(p)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");v=!0}if(t.inFlow){if(a||null==o)return m&&n&&n(),v?"? ".concat(b):b}else if(a&&!p||null==o&&v)return b="? ".concat(b),g&&!m?b+=J(b,t.indent,h(g)):y&&r&&r(),b;m&&(g=null),v?(g&&(b+=J(b,t.indent,h(g))),b="? ".concat(b,"\n").concat(c,":")):(b="".concat(b,":"),g&&(b+=J(b,t.indent,h(g))));var w="",L=null;if(S(o)){if(o.spaceBefore&&(w="\n"),o.commentBefore){var N=h(o.commentBefore);w+="\n".concat(X(N,t.indent))}L=o.comment}else o&&"object"===typeof o&&(o=l.createNode(o));t.implicitKey=!1,v||g||!k(o)||(t.indentAtStart=b.length+1),y=!1,d||!(u.length>=2)||t.inFlow||v||!x(o)||o.flow||o.tag||o.anchor||(t.indent=t.indent.substr(2));var T=!1,O=he(o,t,(function(){return T=!0}),(function(){return y=!0})),A=" ";w||g?A=""!==O||t.inFlow?"".concat(w,"\n").concat(t.indent):w:!v&&C(o)?("["===O[0]||"{"===O[0])&&!O.includes("\n")||(A="\n".concat(t.indent)):""!==O&&"\n"!==O[0]||(A="");return b+=A+O,t.inFlow?T&&n&&n():L&&!T?b+=J(b,t.indent,h(L)):y&&r&&r(),b}(this,e,t,n):JSON.stringify(this)}}]),e}(),be={intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"};function we(e,t,n){var r;return((null!==(r=t.inFlow)&&void 0!==r?r:e.flow)?xe:ke)(e,t,n)}function ke(e,t,n){for(var r,i=e.comment,o=e.items,s=n.blockItemPrefix,a=n.flowChars,l=n.itemIndent,c=n.onChompKeep,u=n.onComment,f=t.indent,h=t.options.commentString,d=Object.assign({},t,{indent:l,type:null}),p=!1,g=[],v=0;v<o.length;++v){var m=o[v],y=null;if(S(m))!p&&m.spaceBefore&&g.push(""),Ce(t,g,m.commentBefore,p),m.comment&&(y=m.comment);else if(w(m)){var b=S(m.key)?m.key:null;b&&(!p&&b.spaceBefore&&g.push(""),Ce(t,g,b.commentBefore,p))}p=!1;var k=he(m,d,(function(){return y=null}),(function(){return p=!0}));y&&(k+=J(k,l,h(y))),p&&y&&(p=!1),g.push(s+k)}if(0===g.length)r=a.start+a.end;else{r=g[0];for(var x=1;x<g.length;++x){var C=g[x];r+=C?"\n".concat(f).concat(C):"\n"}}return i?(r+="\n"+X(h(i),f),u&&u()):p&&c&&c(),r}function xe(e,t,n){var r=e.comment,i=e.items,s=n.flowChars,a=n.itemIndent,l=n.onComment,c=t.indent,u=t.indentStep,f=t.options.commentString;a+=u;for(var h,d=Object.assign({},t,{indent:a,inFlow:!0,type:null}),p=!1,g=0,v=[],m=0;m<i.length;++m){var y=i[m],b=null;if(S(y))y.spaceBefore&&v.push(""),Ce(t,v,y.commentBefore,!1),y.comment&&(b=y.comment);else if(w(y)){var k=S(y.key)?y.key:null;k&&(k.spaceBefore&&v.push(""),Ce(t,v,k.commentBefore,!1),k.comment&&(p=!0));var x=S(y.value)?y.value:null;x?(x.comment&&(b=x.comment),x.commentBefore&&(p=!0)):null==y.value&&k&&k.comment&&(b=k.comment)}b&&(p=!0);var C=he(y,d,(function(){return b=null}));m<i.length-1&&(C+=","),b&&(C+=J(C,a,f(b))),!p&&(v.length>g||C.includes("\n"))&&(p=!0),v.push(C),g=v.length}var L=s.start,N=s.end;if(0===v.length)h=L+N;else{if(!p){var T=v.reduce((function(e,t){return e+t.length+2}),2);p=T>G.maxFlowStringSingleLineLength}if(p){h=L;var O,A=(0,o.Z)(v);try{for(A.s();!(O=A.n()).done;){var M=O.value;h+=M?"\n".concat(u).concat(c).concat(M):"\n"}}catch(E){A.e(E)}finally{A.f()}h+="\n".concat(c).concat(N)}else h="".concat(L," ").concat(v.join(" ")," ").concat(N)}return r&&(h+=J(h,f(r),c),l&&l()),h}function Ce(e,t,n,r){var i=e.indent,o=e.options.commentString;if(n&&r&&(n=n.replace(/^\n+/,"")),n){var s=X(o(n),i);t.push(s.trimStart())}}function Se(e,t){var n,r=k(t)?t.value:t,i=(0,o.Z)(e);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(w(s)){if(s.key===t||s.key===r)return s;if(k(s.key)&&s.key.value===r)return s}}}catch(a){i.e(a)}finally{i.f()}}var Le=function(e){(0,F.Z)(n,e);var t=(0,B.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,h,e)).items=[],r}return(0,a.Z)(n,[{key:"add",value:function(e,t){var n;n=w(e)?e:new ye(e&&"object"===typeof e&&"key"in e?e.key:e,e.value);var r=Se(this.items,n.key),i=this.schema&&this.schema.sortMapEntries;if(r){if(!t)throw new Error("Key ".concat(n.key," already set"));k(r.value)&&j(n.value)?r.value.value=n.value:r.value=n.value}else if(i){var o=this.items.findIndex((function(e){return i(n,e)<0}));-1===o?this.items.push(n):this.items.splice(o,0,n)}else this.items.push(n)}},{key:"delete",value:function(e){var t=Se(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}},{key:"get",value:function(e,t){var n=Se(this.items,e),r=n&&n.value;return!t&&k(r)?r.value:r}},{key:"has",value:function(e){return!!Se(this.items,e)}},{key:"set",value:function(e,t){this.add(new ye(e,t),!0)}},{key:"toJSON",value:function(e,t,n){var r=n?new n:t&&t.mapAsMap?new Map:{};t&&t.onCreate&&t.onCreate(r);var i,s=(0,o.Z)(this.items);try{for(s.s();!(i=s.n()).done;){pe(t,r,i.value)}}catch(a){s.e(a)}finally{s.f()}return r}},{key:"toString",value:function(e,t,n){if(!e)return JSON.stringify(this);var r,i=(0,o.Z)(this.items);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(!w(s))throw new Error("Map items must all be pairs; found ".concat(JSON.stringify(s)," instead"))}}catch(a){i.e(a)}finally{i.f()}return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),we(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}],[{key:"tagName",get:function(){return"tag:yaml.org,2002:map"}}]),n}(G);var Ne={collection:"map",createNode:function(e,t,n){var r=n.keepUndefined,i=n.replacer,s=new Le(e),a=function(e,o){if("function"===typeof i)o=i.call(t,e,o);else if(Array.isArray(i)&&!i.includes(e))return;(void 0!==o||r)&&s.items.push(me(e,o,n))};if(t instanceof Map){var l,u=(0,o.Z)(t);try{for(u.s();!(l=u.n()).done;){var f=(0,c.Z)(l.value,2);a(f[0],f[1])}}catch(g){u.e(g)}finally{u.f()}}else if(t&&"object"===typeof t)for(var h=0,d=Object.keys(t);h<d.length;h++){var p=d[h];a(p,t[p])}return"function"===typeof e.sortMapEntries&&s.items.sort(e.sortMapEntries),s},default:!0,nodeClass:Le,tag:"tag:yaml.org,2002:map",resolve:function(e,t){return b(e)||t("Expected a mapping for this tag"),e}},Te=function(e){(0,F.Z)(n,e);var t=(0,B.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,g,e)).items=[],r}return(0,a.Z)(n,[{key:"add",value:function(e){this.items.push(e)}},{key:"delete",value:function(e){var t=Oe(e);return"number"===typeof t&&this.items.splice(t,1).length>0}},{key:"get",value:function(e,t){var n=Oe(e);if("number"===typeof n){var r=this.items[n];return!t&&k(r)?r.value:r}}},{key:"has",value:function(e){var t=Oe(e);return"number"===typeof t&&t<this.items.length}},{key:"set",value:function(e,t){var n=Oe(e);if("number"!==typeof n)throw new Error("Expected a valid index, not ".concat(e,"."));var r=this.items[n];k(r)&&j(t)?r.value=t:this.items[n]=t}},{key:"toJSON",value:function(e,t){var n=[];t&&t.onCreate&&t.onCreate(n);var r,i=0,s=(0,o.Z)(this.items);try{for(s.s();!(r=s.n()).done;){var a=r.value;n.push(K(a,String(i++),t))}}catch(l){s.e(l)}finally{s.f()}return n}},{key:"toString",value:function(e,t,n){return e?we(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}],[{key:"tagName",get:function(){return"tag:yaml.org,2002:seq"}}]),n}(G);function Oe(e){var t=k(e)?e.value:e;return t&&"string"===typeof t&&(t=Number(t)),"number"===typeof t&&Number.isInteger(t)&&t>=0?t:null}var Ae={collection:"seq",createNode:function(e,t,n){var r=n.replacer,i=new Te(e);if(t&&Symbol.iterator in Object(t)){var s,a=0,l=(0,o.Z)(t);try{for(l.s();!(s=l.n()).done;){var c=s.value;if("function"===typeof r){var u=t instanceof Set?c:String(a++);c=r.call(t,u,c)}i.items.push(z(c,void 0,n))}}catch(f){l.e(f)}finally{l.f()}}return i},default:!0,nodeClass:Te,tag:"tag:yaml.org,2002:seq",resolve:function(e,t){return x(e)||t("Expected a sequence for this tag"),e}},Me={identify:function(e){return"string"===typeof e},default:!0,tag:"tag:yaml.org,2002:str",resolve:function(e){return e},stringify:function(e,t,n,r){return ue(e,t=Object.assign({actualString:!0},t),n,r)}},Ee={identify:function(e){return null==e},createNode:function(){return new Z(null)},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return new Z(null)},stringify:function(e,t){var n=e.source;return n&&Ee.test.test(n)?n:t.options.nullStr}},De={identify:function(e){return"boolean"===typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:function(e){return new Z("t"===e[0]||"T"===e[0])},stringify:function(e,t){var n=e.source,r=e.value;if(n&&De.test.test(n)&&r===("t"===n[0]||"T"===n[0]))return n;return r?t.options.trueStr:t.options.falseStr}};function Ie(e){var t=e.format,n=e.minFractionDigits,r=e.tag,i=e.value;if("bigint"===typeof i)return String(i);var o="number"===typeof i?i:Number(i);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";var s=JSON.stringify(i);if(!t&&n&&(!r||"tag:yaml.org,2002:float"===r)&&/^\d/.test(s)){var a=s.indexOf(".");a<0&&(a=s.length,s+=".");for(var l=n-(s.length-a-1);l-- >0;)s+="0"}return s}var Pe={identify:function(e){return"number"===typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:function(e){return"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:Ie},Fe={identify:function(e){return"number"===typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:function(e){return parseFloat(e)},stringify:function(e){var t=Number(e.value);return isFinite(t)?t.toExponential():Ie(e)}},Be={identify:function(e){return"number"===typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve:function(e){var t=new Z(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Ie},We=function(e){return"bigint"===typeof e||Number.isInteger(e)},He=function(e,t,n,r){return r.intAsBigInt?BigInt(e):parseInt(e.substring(t),n)};function Re(e,t,n){var r=e.value;return We(r)&&r>=0?n+r.toString(t):Ie(e)}var _e={identify:function(e){return We(e)&&e>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:function(e,t,n){return He(e,2,8,n)},stringify:function(e){return Re(e,8,"0o")}},Ye={identify:We,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:function(e,t,n){return He(e,0,10,n)},stringify:Ie},Ue={identify:function(e){return We(e)&&e>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:function(e,t,n){return He(e,2,16,n)},stringify:function(e){return Re(e,16,"0x")}},Ke=[Ne,Ae,Me,Ee,De,_e,Ye,Ue,Pe,Fe,Be];function je(e){return"bigint"===typeof e||Number.isInteger(e)}var Ze=function(e){var t=e.value;return JSON.stringify(t)},ze=[Ne,Ae].concat([{identify:function(e){return"string"===typeof e},default:!0,tag:"tag:yaml.org,2002:str",resolve:function(e){return e},stringify:Ze},{identify:function(e){return null==e},createNode:function(){return new Z(null)},default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:function(){return null},stringify:Ze},{identify:function(e){return"boolean"===typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:function(e){return"true"===e},stringify:Ze},{identify:je,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:function(e,t,n){return n.intAsBigInt?BigInt(e):parseInt(e,10)},stringify:function(e){var t=e.value;return je(t)?t.toString():JSON.stringify(t)}},{identify:function(e){return"number"===typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:function(e){return parseFloat(e)},stringify:Ze}],{default:!0,tag:"",test:/^/,resolve:function(e,t){return t("Unresolved plain scalar ".concat(JSON.stringify(e))),e}}),qe={identify:function(e){return e instanceof Uint8Array},default:!1,tag:"tag:yaml.org,2002:binary",resolve:function(e,t){if("function"===typeof Buffer)return Buffer.from(e,"base64");if("function"===typeof atob){for(var n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify:function(e,t,n,r){var i,o=e.comment,s=e.type,a=e.value;if("function"===typeof Buffer)i=a instanceof Buffer?a.toString("base64"):Buffer.from(a.buffer).toString("base64");else{if("function"!==typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");for(var l="",c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);i=btoa(l)}if(s||(s=Z.BLOCK_LITERAL),s!==Z.QUOTE_DOUBLE){for(var u=Math.max(t.options.lineWidth-t.indent.length,t.options.minContentWidth),f=Math.ceil(i.length/u),h=new Array(f),d=0,p=0;d<f;++d,p+=u)h[d]=i.substr(p,u);i=h.join(s===Z.BLOCK_LITERAL?"\n":" ")}return ue({comment:o,type:s,value:i},t,n,r)}},Ve=n(35928),Ge=n(4392);function $e(e,t){if(x(e))for(var n=0;n<e.items.length;++n){var r=e.items[n];if(!w(r)){if(b(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");var i=r.items[0]||new ye(new Z(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?"".concat(r.commentBefore,"\n").concat(i.key.commentBefore):r.commentBefore),r.comment){var o=i.value||i.key;o.comment=o.comment?"".concat(r.comment,"\n").concat(o.comment):r.comment}r=i}e.items[n]=w(r)?r:new ye(r)}}else t("Expected a sequence for this tag");return e}function Xe(e,t,n){var r=n.replacer,i=new Te(e);i.tag="tag:yaml.org,2002:pairs";var s=0;if(t&&Symbol.iterator in Object(t)){var a,l=(0,o.Z)(t);try{for(l.s();!(a=l.n()).done;){var c=a.value;"function"===typeof r&&(c=r.call(t,String(s++),c));var u=void 0,f=void 0;if(Array.isArray(c)){if(2!==c.length)throw new TypeError("Expected [key, value] tuple: ".concat(c));u=c[0],f=c[1]}else if(c&&c instanceof Object){var h=Object.keys(c);if(1!==h.length)throw new TypeError("Expected { key: value } tuple: ".concat(c));f=c[u=h[0]]}else u=c;i.items.push(me(u,f,n))}}catch(d){l.e(d)}finally{l.f()}}return i}var Je={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:$e,createNode:Xe},Qe=function(e){(0,F.Z)(n,e);var t=(0,B.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this)).add=Le.prototype.add.bind((0,P.Z)(e)),e.delete=Le.prototype.delete.bind((0,P.Z)(e)),e.get=Le.prototype.get.bind((0,P.Z)(e)),e.has=Le.prototype.has.bind((0,P.Z)(e)),e.set=Le.prototype.set.bind((0,P.Z)(e)),e.tag=n.tag,e}return(0,a.Z)(n,[{key:"toJSON",value:function(e,t){if(!t)return(0,Ve.Z)((0,Ge.Z)(n.prototype),"toJSON",this).call(this,e);var r=new Map;t&&t.onCreate&&t.onCreate(r);var i,s=(0,o.Z)(this.items);try{for(s.s();!(i=s.n()).done;){var a=i.value,l=void 0,c=void 0;if(w(a)?(l=K(a.key,"",t),c=K(a.value,l,t)):l=K(a,"",t),r.has(l))throw new Error("Ordered maps must not include duplicate keys");r.set(l,c)}}catch(u){s.e(u)}finally{s.f()}return r}}]),n}(Te);Qe.tag="tag:yaml.org,2002:omap";var et={collection:"seq",identify:function(e){return e instanceof Map},nodeClass:Qe,default:!1,tag:"tag:yaml.org,2002:omap",resolve:function(e,t){var n,r=$e(e,t),i=[],s=(0,o.Z)(r.items);try{for(s.s();!(n=s.n()).done;){var a=n.value.key;k(a)&&(i.includes(a.value)?t("Ordered maps must not include duplicate keys: ".concat(a.value)):i.push(a.value))}}catch(l){s.e(l)}finally{s.f()}return Object.assign(new Qe,r)},createNode:function(e,t,n){var r=Xe(e,t,n),i=new Qe;return i.items=r.items,i}};function tt(e,t){var n=e.value,r=e.source;return r&&(n?nt:rt).test.test(r)?r:n?t.options.trueStr:t.options.falseStr}var nt={identify:function(e){return!0===e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:function(){return new Z(!0)},stringify:tt},rt={identify:function(e){return!1===e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:function(){return new Z(!1)},stringify:tt},it={identify:function(e){return"number"===typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:function(e){return"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:Ie},ot={identify:function(e){return"number"===typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:function(e){return parseFloat(e.replace(/_/g,""))},stringify:function(e){var t=Number(e.value);return isFinite(t)?t.toExponential():Ie(e)}},st={identify:function(e){return"number"===typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve:function(e){var t=new Z(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){var r=e.substring(n+1).replace(/_/g,"");"0"===r[r.length-1]&&(t.minFractionDigits=r.length)}return t},stringify:Ie},at=function(e){return"bigint"===typeof e||Number.isInteger(e)};function lt(e,t,n,r){var i=r.intAsBigInt,o=e[0];if("-"!==o&&"+"!==o||(t+=1),e=e.substring(t).replace(/_/g,""),i){switch(n){case 2:e="0b".concat(e);break;case 8:e="0o".concat(e);break;case 16:e="0x".concat(e)}var s=BigInt(e);return"-"===o?BigInt(-1)*s:s}var a=parseInt(e,n);return"-"===o?-1*a:a}function ct(e,t,n){var r=e.value;if(at(r)){var i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Ie(e)}var ut={identify:at,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:function(e,t,n){return lt(e,2,2,n)},stringify:function(e){return ct(e,2,"0b")}},ft={identify:at,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:function(e,t,n){return lt(e,1,8,n)},stringify:function(e){return ct(e,8,"0")}},ht={identify:at,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:function(e,t,n){return lt(e,0,10,n)},stringify:Ie},dt={identify:at,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:function(e,t,n){return lt(e,2,16,n)},stringify:function(e){return ct(e,16,"0x")}},pt=function(e){(0,F.Z)(n,e);var t=(0,B.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).tag=n.tag,r}return(0,a.Z)(n,[{key:"add",value:function(e){var t;t=w(e)?e:"object"===typeof e&&"key"in e&&"value"in e&&null===e.value?new ye(e.key,null):new ye(e,null),Se(this.items,t.key)||this.items.push(t)}},{key:"get",value:function(e,t){var n=Se(this.items,e);return!t&&w(n)?k(n.key)?n.key.value:n.key:n}},{key:"set",value:function(e,t){if("boolean"!==typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not ".concat(typeof t));var n=Se(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new ye(e))}},{key:"toJSON",value:function(e,t){return(0,Ve.Z)((0,Ge.Z)(n.prototype),"toJSON",this).call(this,e,t,Set)}},{key:"toString",value:function(e,t,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return(0,Ve.Z)((0,Ge.Z)(n.prototype),"toString",this).call(this,Object.assign({},e,{allNullValues:!0}),t,r);throw new Error("Set items must all have null values")}}]),n}(Le);pt.tag="tag:yaml.org,2002:set";var gt={collection:"map",identify:function(e){return e instanceof Set},nodeClass:pt,default:!1,tag:"tag:yaml.org,2002:set",resolve:function(e,t){if(b(e)){if(e.hasAllNullValues(!0))return Object.assign(new pt,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode:function(e,t,n){var r=n.replacer,i=new pt(e);if(t&&Symbol.iterator in Object(t)){var s,a=(0,o.Z)(t);try{for(a.s();!(s=a.n()).done;){var l=s.value;"function"===typeof r&&(l=r.call(t,l,l)),i.items.push(me(l,null,n))}}catch(c){a.e(c)}finally{a.f()}}return i}};function vt(e,t){var n=e[0],r="-"===n||"+"===n?e.substring(1):e,i=function(e){return t?BigInt(e):Number(e)},o=r.replace(/_/g,"").split(":").reduce((function(e,t){return e*i(60)+i(t)}),i(0));return"-"===n?i(-1)*o:o}function mt(e){var t=e.value,n=function(e){return e};if("bigint"===typeof t)n=function(e){return BigInt(e)};else if(isNaN(t)||!isFinite(t))return Ie(e);var r="";t<0&&(r="-",t*=n(-1));var i=n(60),o=[t%i];return t<60?o.unshift(0):(t=(t-o[0])/i,o.unshift(t%i),t>=60&&(t=(t-o[0])/i,o.unshift(t))),r+o.map((function(e){return e<10?"0"+String(e):String(e)})).join(":").replace(/000000\d*$/,"")}var yt={identify:function(e){return"bigint"===typeof e||Number.isInteger(e)},default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:function(e,t,n){return vt(e,n.intAsBigInt)},stringify:mt},bt={identify:function(e){return"number"===typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:function(e){return vt(e,!1)},stringify:mt},wt={identify:function(e){return e instanceof Date},default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve:function(e){var t=e.match(wt.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");var n=t.map(Number),r=(0,c.Z)(n,7),i=r[1],o=r[2],s=r[3],a=r[4],l=r[5],u=r[6],f=t[7]?Number((t[7]+"00").substr(1,3)):0,h=Date.UTC(i,o-1,s,a||0,l||0,u||0,f),d=t[8];if(d&&"Z"!==d){var p=vt(d,!1);Math.abs(p)<30&&(p*=60),h-=6e4*p}return new Date(h)},stringify:function(e){return e.value.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")}},kt=[Ne,Ae,Me,Ee,nt,rt,ut,ft,ht,dt,it,ot,st,qe,et,Je,gt,yt,bt,wt],xt=new Map([["core",Ke],["failsafe",[Ne,Ae,Me]],["json",ze],["yaml11",kt],["yaml-1.1",kt]]),Ct={binary:qe,bool:De,float:Be,floatExp:Fe,floatNaN:Pe,floatTime:bt,int:Ye,intHex:Ue,intOct:_e,intTime:yt,map:Ne,null:Ee,omap:et,pairs:Je,seq:Ae,set:gt,timestamp:wt},St={"tag:yaml.org,2002:binary":qe,"tag:yaml.org,2002:omap":et,"tag:yaml.org,2002:pairs":Je,"tag:yaml.org,2002:set":gt,"tag:yaml.org,2002:timestamp":wt};function Lt(e,t){var n=xt.get(t);if(!n){if(!Array.isArray(e)){var r=Array.from(xt.keys()).filter((function(e){return"yaml11"!==e})).map((function(e){return JSON.stringify(e)})).join(", ");throw new Error('Unknown schema "'.concat(t,'"; use one of ').concat(r," or define customTags array"))}n=[]}if(Array.isArray(e)){var i,s=(0,o.Z)(e);try{for(s.s();!(i=s.n()).done;){var a=i.value;n=n.concat(a)}}catch(l){s.e(l)}finally{s.f()}}else"function"===typeof e&&(n=e(n.slice()));return n.map((function(e){if("string"!==typeof e)return e;var t=Ct[e];if(t)return t;var n=Object.keys(Ct).map((function(e){return JSON.stringify(e)})).join(", ");throw new Error('Unknown custom tag "'.concat(e,'"; use one of ').concat(n))}))}var Nt=function(e,t){return e.key<t.key?-1:e.key>t.key?1:0},Tt=function(){function e(t){var n=t.compat,r=t.customTags,i=t.merge,o=t.resolveKnownTags,a=t.schema,l=t.sortMapEntries,c=t.toStringDefaults;(0,s.Z)(this,e),this.compat=Array.isArray(n)?Lt(n,"compat"):n?Lt(null,n):null,this.merge=!!i,this.name="string"===typeof a&&a||"core",this.knownTags=o?St:{},this.tags=Lt(r,this.name),this.toStringOptions=c||null,Object.defineProperty(this,h,{value:Ne}),Object.defineProperty(this,p,{value:Me}),Object.defineProperty(this,g,{value:Ae}),this.sortMapEntries=!0===l?Nt:l||null}return(0,a.Z)(e,[{key:"clone",value:function(){var t=Object.create(e.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}]),e}();function Ot(e,t){var n=[],r=!0===t.directives;if(!1!==t.directives&&e.directives){var i=e.directives.toString(e);i?(n.push(i),r=!0):e.directives.marker&&(r=!0)}r&&n.push("---");var o=fe(e,t),s=o.options.commentString;if(e.commentBefore){1!==n.length&&n.unshift("");var a=s(e.commentBefore);n.unshift(X(a,""))}var l=!1,c=null;if(e.contents){if(S(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){var u=s(e.contents.commentBefore);n.push(X(u,""))}o.forceBlockIndent=!!e.comment,c=e.contents.comment}var f=c?void 0:function(){return l=!0},h=he(e.contents,o,(function(){return c=null}),f);c&&(h+=J(h,"",s(c))),"|"!==h[0]&&">"!==h[0]||"---"!==n[n.length-1]?n.push(h):n[n.length-1]="--- ".concat(h)}else n.push(he(e.contents,o));var d=e.comment;return d&&l&&(d=d.replace(/^\n+/,"")),d&&(l&&!c||""===n[n.length-1]||n.push(""),n.push(X(s(d),""))),n.join("\n")+"\n"}function At(e,t,n,r){if(r&&"object"===typeof r)if(Array.isArray(r))for(var i=0,o=r.length;i<o;++i){var s=r[i],a=At(e,r,String(i),s);void 0===a?delete r[i]:a!==s&&(r[i]=a)}else if(r instanceof Map)for(var l=0,u=Array.from(r.keys());l<u.length;l++){var f=u[l],h=r.get(f),d=At(e,r,f,h);void 0===d?r.delete(f):d!==h&&r.set(f,d)}else if(r instanceof Set)for(var p=0,g=Array.from(r);p<g.length;p++){var v=g[p],m=At(e,r,v,v);void 0===m?r.delete(v):m!==v&&(r.delete(v),r.add(m))}else for(var y=0,b=Object.entries(r);y<b.length;y++){var w=(0,c.Z)(b[y],2),k=w[0],x=w[1],C=At(e,r,k,x);void 0===C?delete r[k]:C!==x&&(r[k]=C)}return e.call(t,n,r)}var Mt=function(){function e(t,n,r){(0,s.Z)(this,e),this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,v,{value:f});var i=null;"function"===typeof n||Array.isArray(n)?i=n:void 0===r&&n&&(r=n,n=void 0);var o=Object.assign({},be,r);this.options=o;var a=o.version;(null===r||void 0===r?void 0:r.directives)?(this.directives=r.directives.atDocument(),this.directives.yaml.explicit&&(a=this.directives.yaml.version)):this.directives=new D({version:a}),this.setSchema(a,r),this.contents=void 0===t?null:this.createNode(t,i,r)}return(0,a.Z)(e,[{key:"clone",value:function(){var t=Object.create(e.prototype,(0,I.Z)({},v,{value:f}));return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=S(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}},{key:"add",value:function(e){Et(this.contents)&&this.contents.add(e)}},{key:"addIn",value:function(e,t){Et(this.contents)&&this.contents.addIn(e,t)}},{key:"createAlias",value:function(e,t){if(!e.anchor){var n=H(this);e.anchor=!t||n.has(t)?R(t||"a",n):t}return new _(e.anchor)}},{key:"createNode",value:function(e,t,n){var r=void 0;if("function"===typeof t)e=t.call({"":e},"",e),r=t;else if(Array.isArray(t)){var i=t.filter((function(e){return"number"===typeof e||e instanceof String||e instanceof Number})).map(String);i.length>0&&(t=t.concat(i)),r=t}else void 0===n&&t&&(n=t,t=void 0);var s=n||{},a=s.aliasDuplicateObjects,l=s.anchorPrefix,c=s.flow,u=s.keepUndefined,f=s.onTagObj,h=s.tag,d=function(e,t){var n=[],r=new Map,i=null;return{onAnchor:function(r){n.push(r),i||(i=H(e));var o=R(t,i);return i.add(o),o},setAnchors:function(){var e,t=(0,o.Z)(n);try{for(t.s();!(e=t.n()).done;){var i=e.value,s=r.get(i);if("object"!==typeof s||!s.anchor||!k(s.node)&&!C(s.node)){var a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=i,a}s.node.anchor=s.anchor}}catch(l){t.e(l)}finally{t.f()}},sourceObjects:r}}(this,l||"a"),p=d.onAnchor,g=d.setAnchors,v=d.sourceObjects,m=z(e,h,{aliasDuplicateObjects:null===a||void 0===a||a,keepUndefined:null!==u&&void 0!==u&&u,onAnchor:p,onTagObj:f,replacer:r,schema:this.schema,sourceObjects:v});return c&&C(m)&&(m.flow=!0),g(),m}},{key:"createPair",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.createNode(e,null,n),i=this.createNode(t,null,n);return new ye(r,i)}},{key:"delete",value:function(e){return!!Et(this.contents)&&this.contents.delete(e)}},{key:"deleteIn",value:function(e){return V(e)?null!=this.contents&&(this.contents=null,!0):!!Et(this.contents)&&this.contents.deleteIn(e)}},{key:"get",value:function(e,t){return C(this.contents)?this.contents.get(e,t):void 0}},{key:"getIn",value:function(e,t){return V(e)?!t&&k(this.contents)?this.contents.value:this.contents:C(this.contents)?this.contents.getIn(e,t):void 0}},{key:"has",value:function(e){return!!C(this.contents)&&this.contents.has(e)}},{key:"hasIn",value:function(e){return V(e)?void 0!==this.contents:!!C(this.contents)&&this.contents.hasIn(e)}},{key:"set",value:function(e,t){null==this.contents?this.contents=q(this.schema,[e],t):Et(this.contents)&&this.contents.set(e,t)}},{key:"setIn",value:function(e,t){V(e)?this.contents=t:null==this.contents?this.contents=q(this.schema,Array.from(e),t):Et(this.contents)&&this.contents.setIn(e,t)}},{key:"setSchema",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch("number"===typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new D({version:"1.1"}),t={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":this.directives?this.directives.yaml.version="1.2":this.directives=new D({version:"1.2"}),t={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,t=null;break;default:var r=JSON.stringify(e);throw new Error("Expected '1.1', '1.2' or null as first argument, but found: ".concat(r))}if(n.schema instanceof Object)this.schema=n.schema;else{if(!t)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new Tt(Object.assign(t,n))}}},{key:"toJS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.json,n=e.jsonArg,r=e.mapAsMap,i=e.maxAliasCount,s=e.onAnchor,a=e.reviver,l={anchors:new Map,doc:this,keep:!t,mapAsMap:!0===r,mapKeyWarned:!1,maxAliasCount:"number"===typeof i?i:100,stringify:he},c=K(this.contents,n||"",l);if("function"===typeof s){var u,f=(0,o.Z)(l.anchors.values());try{for(f.s();!(u=f.n()).done;){var h=u.value,d=h.count,p=h.res;s(p,d)}}catch(g){f.e(g)}finally{f.f()}}return"function"===typeof a?At(a,{"":c},"",c):c}},{key:"toJSON",value:function(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){var t=JSON.stringify(e.indent);throw new Error('"indent" option must be a positive integer, not '.concat(t))}return Ot(this,e)}}]),e}();function Et(e){if(C(e))return!0;throw new Error("Expected a YAML collection as document contents")}var Dt=function(e){(0,F.Z)(n,e);var t=(0,B.Z)(n);function n(e,r,i,o){var a;return(0,s.Z)(this,n),(a=t.call(this)).name=e,a.code=i,a.message=o,a.pos=r,a}return(0,a.Z)(n)}((0,n(73738).Z)(Error)),It=function(e){(0,F.Z)(n,e);var t=(0,B.Z)(n);function n(e,r,i){return(0,s.Z)(this,n),t.call(this,"YAMLParseError",e,r,i)}return(0,a.Z)(n)}(Dt),Pt=function(e){(0,F.Z)(n,e);var t=(0,B.Z)(n);function n(e,r,i){return(0,s.Z)(this,n),t.call(this,"YAMLWarning",e,r,i)}return(0,a.Z)(n)}(Dt),Ft=function(e,t){return function(n){if(-1!==n.pos[0]){n.linePos=n.pos.map((function(e){return t.linePos(e)}));var r=n.linePos[0],i=r.line,o=r.col;n.message+=" at line ".concat(i,", column ").concat(o);var s=o-1,a=e.substring(t.lineStarts[i-1],t.lineStarts[i]).replace(/[\n\r]+$/,"");if(s>=60&&a.length>80){var l=Math.min(s-39,a.length-79);a="\u2026"+a.substring(l),s-=l-1}if(a.length>80&&(a=a.substring(0,79)+"\u2026"),i>1&&/^ *$/.test(a.substring(0,s))){var c=e.substring(t.lineStarts[i-2],t.lineStarts[i-1]);c.length>80&&(c=c.substring(0,79)+"\u2026\n"),a=c+a}if(/[^ ]/.test(a)){var u=1,f=n.linePos[1];f&&f.line===i&&f.col>o&&(u=Math.min(f.col-o,80-s));var h=" ".repeat(s)+"^".repeat(u);n.message+=":\n\n".concat(a,"\n").concat(h,"\n")}}}};function Bt(e,t){var n,r=t.flow,i=t.indicator,s=t.next,a=t.offset,l=t.onError,c=t.startOnNewline,u=!1,f=c,h=c,d="",p="",g=!1,v=!1,m=null,y=null,b=null,w=null,k=null,x=(0,o.Z)(e);try{for(x.s();!(n=x.n()).done;){var C=n.value;switch(v&&("space"!==C.type&&"newline"!==C.type&&"comma"!==C.type&&l(C.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),v=!1),C.type){case"space":!r&&f&&"doc-start"!==i&&"\t"===C.source[0]&&l(C,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=!0;break;case"comment":h||l(C,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");var S=C.source.substring(1)||" ";d?d+=p+S:d=S,p="",f=!1;break;case"newline":f?d?d+=C.source:u=!0:p+=C.source,f=!0,g=!0,h=!0;break;case"anchor":m&&l(C,"MULTIPLE_ANCHORS","A node can have at most one anchor"),m=C,null===k&&(k=C.offset),f=!1,h=!1,v=!0;break;case"tag":y&&l(C,"MULTIPLE_TAGS","A node can have at most one tag"),y=C,null===k&&(k=C.offset),f=!1,h=!1,v=!0;break;case i:(m||y)&&l(C,"BAD_PROP_ORDER","Anchors and tags must be after the ".concat(C.source," indicator")),w&&l(C,"UNEXPECTED_TOKEN","Unexpected ".concat(C.source," in ").concat(r||"collection")),w=C,f=!1,h=!1;break;case"comma":if(r){b&&l(C,"UNEXPECTED_TOKEN","Unexpected , in ".concat(r)),b=C,f=!1,h=!1;break}default:l(C,"UNEXPECTED_TOKEN","Unexpected ".concat(C.type," token")),f=!1,h=!1}}}catch(T){x.e(T)}finally{x.f()}var L=e[e.length-1],N=L?L.offset+L.source.length:a;return v&&s&&"space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&("scalar"!==s.type||""!==s.source)&&l(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:b,found:w,spaceBefore:u,comment:d,hasNewline:g,anchor:m,tag:y,end:N,start:null!==k&&void 0!==k?k:N}}function Wt(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end){var t,n=(0,o.Z)(e.end);try{for(n.s();!(t=n.n()).done;){if("newline"===t.value.type)return!0}}catch(f){n.e(f)}finally{n.f()}}return!1;case"flow-collection":var r,i=(0,o.Z)(e.items);try{for(i.s();!(r=i.n()).done;){var s,a=r.value,l=(0,o.Z)(a.start);try{for(l.s();!(s=l.n()).done;){if("newline"===s.value.type)return!0}}catch(f){l.e(f)}finally{l.f()}if(a.sep){var c,u=(0,o.Z)(a.sep);try{for(u.s();!(c=u.n()).done;){if("newline"===c.value.type)return!0}}catch(f){u.e(f)}finally{u.f()}}if(Wt(a.key)||Wt(a.value))return!0}}catch(f){i.e(f)}finally{i.f()}return!1;default:return!0}}function Ht(e,t,n){if("flow-collection"===(null===t||void 0===t?void 0:t.type)){var r=t.end[0];if(r.indent===e&&("]"===r.source||"}"===r.source)&&Wt(t)){n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function Rt(e,t,n){var r=e.options.uniqueKeys;if(!1===r)return!1;var i="function"===typeof r?r:function(t,n){return t===n||k(t)&&k(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge)};return t.some((function(e){return i(e.key,n)}))}var _t="All mapping items must start at the same column";function Yt(e,t,n,r){var i="";if(e){var s,a=!1,l="",c=(0,o.Z)(e);try{for(c.s();!(s=c.n()).done;){var u=s.value,f=u.source,h=u.type;switch(h){case"space":a=!0;break;case"comment":n&&!a&&r(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");var d=f.substring(1)||" ";i?i+=l+d:i=d,l="";break;case"newline":i&&(l+=f),a=!0;break;default:r(u,"UNEXPECTED_TOKEN","Unexpected ".concat(h," at node end"))}t+=f.length}}catch(p){c.e(p)}finally{c.f()}}return{comment:i,offset:t}}var Ut="Block collections are not allowed within flow collections",Kt=function(e){return e&&("block-map"===e.type||"block-seq"===e.type)};function jt(e,t,n,r,i){var s;switch(n.type){case"block-map":s=function(e,t,n,r){var i,s=e.composeNode,a=e.composeEmptyNode,l=new Le(t.schema);t.atRoot&&(t.atRoot=!1);var c,u=n.offset,f=(0,o.Z)(n.items);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=h.start,p=h.key,g=h.sep,v=h.value,m=Bt(d,{indicator:"explicit-key-ind",next:p||(null===g||void 0===g?void 0:g[0]),offset:u,onError:r,startOnNewline:!0}),y=!m.found;if(y){if(p&&("block-seq"===p.type?r(u,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==n.indent&&r(u,"BAD_INDENT",_t)),!m.anchor&&!m.tag&&!g){m.comment&&(l.comment?l.comment+="\n"+m.comment:l.comment=m.comment);continue}}else(null===(i=m.found)||void 0===i?void 0:i.indent)!==n.indent&&r(u,"BAD_INDENT",_t);y&&Wt(p)&&r(p,"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line");var b=m.end,w=p?s(t,p,m,r):a(t,b,d,null,m,r);t.schema.compat&&Ht(n.indent,p,r),Rt(t,l.items,w)&&r(b,"DUPLICATE_KEY","Map keys must be unique");var k=Bt(g||[],{indicator:"map-value-ind",next:v,offset:w.range[2],onError:r,startOnNewline:!p||"block-scalar"===p.type});if(u=k.end,k.found){y&&("block-map"!==(null===v||void 0===v?void 0:v.type)||k.hasNewline||r(u,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&m.start<k.found.offset-1024&&r(w.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));var x=v?s(t,v,k,r):a(t,u,g,null,k,r);t.schema.compat&&Ht(n.indent,v,r),u=x.range[2];var C=new ye(w,x);t.options.keepSourceTokens&&(C.srcToken=h),l.items.push(C)}else{y&&r(w.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),k.comment&&(w.comment?w.comment+="\n"+k.comment:w.comment=k.comment);var S=new ye(w);t.options.keepSourceTokens&&(S.srcToken=h),l.items.push(S)}}}catch(L){f.e(L)}finally{f.f()}return l.range=[n.offset,u,u],l}(e,t,n,i);break;case"block-seq":s=function(e,t,n,r){var i=e.composeNode,s=e.composeEmptyNode,a=new Te(t.schema);t.atRoot&&(t.atRoot=!1);var l,c=n.offset,u=(0,o.Z)(n.items);try{for(u.s();!(l=u.n()).done;){var f=l.value,h=f.start,d=f.value,p=Bt(h,{indicator:"seq-item-ind",next:d,offset:c,onError:r,startOnNewline:!0});if(c=p.end,!p.found){if(!(p.anchor||p.tag||d)){p.comment&&(a.comment=p.comment);continue}d&&"block-seq"===d.type?r(c,"BAD_INDENT","All sequence items must start at the same column"):r(c,"MISSING_CHAR","Sequence item without - indicator")}var g=d?i(t,d,p,r):s(t,c,h,null,p,r);t.schema.compat&&Ht(n.indent,d,r),c=g.range[2],a.items.push(g)}}catch(v){u.e(v)}finally{u.f()}return a.range=[n.offset,c,c],a}(e,t,n,i);break;case"flow-collection":s=function(e,t,n,r){var i=e.composeNode,s=e.composeEmptyNode,a="{"===n.start.source,l=a?"flow map":"flow sequence",c=a?new Le(t.schema):new Te(t.schema);c.flow=!0;var u=t.atRoot;u&&(t.atRoot=!1);for(var f=n.offset+n.start.source.length,h=0;h<n.items.length;++h){var d=n.items[h],p=d.start,g=d.key,v=d.sep,m=d.value,y=Bt(p,{flow:l,indicator:"explicit-key-ind",next:g||(null===v||void 0===v?void 0:v[0]),offset:f,onError:r,startOnNewline:!1});if(!y.found){if(!y.anchor&&!y.tag&&!v&&!m){0===h&&y.comma?r(y.comma,"UNEXPECTED_TOKEN","Unexpected , in ".concat(l)):h<n.items.length-1&&r(y.start,"UNEXPECTED_TOKEN","Unexpected empty item in ".concat(l)),y.comment&&(c.comment?c.comment+="\n"+y.comment:c.comment=y.comment),f=y.end;continue}!a&&t.options.strict&&Wt(g)&&r(g,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===h)y.comma&&r(y.comma,"UNEXPECTED_TOKEN","Unexpected , in ".concat(l));else if(y.comma||r(y.start,"MISSING_CHAR","Missing , between ".concat(l," items")),y.comment){var b,k="",x=(0,o.Z)(p);try{e:for(x.s();!(b=x.n()).done;){var C=b.value;switch(C.type){case"comma":case"space":break;case"comment":k=C.source.substring(1);break e;default:break e}}}catch(j){x.e(j)}finally{x.f()}if(k){var S=c.items[c.items.length-1];w(S)&&(S=S.value||S.key),S.comment?S.comment+="\n"+k:S.comment=k,y.comment=y.comment.substring(k.length+1)}}if(a||v||y.found){var L=y.end,N=g?i(t,g,y,r):s(t,L,p,null,y,r);Kt(g)&&r(N.range,"BLOCK_IN_FLOW",Ut);var T=Bt(v||[],{flow:l,indicator:"map-value-ind",next:m,offset:N.range[2],onError:r,startOnNewline:!1});if(T.found){if(!a&&!y.found&&t.options.strict){if(v){var O,A=(0,o.Z)(v);try{for(A.s();!(O=A.n()).done;){var M=O.value;if(M===T.found)break;if("newline"===M.type){r(M,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}}catch(j){A.e(j)}finally{A.f()}}y.start<T.found.offset-1024&&r(T.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else m&&("source"in m&&m.source&&":"===m.source[0]?r(m,"MISSING_CHAR","Missing space after : in ".concat(l)):r(T.start,"MISSING_CHAR","Missing , or : between ".concat(l," items")));var E=m?i(t,m,T,r):T.found?s(t,T.end,v,null,T,r):null;E?Kt(m)&&r(E.range,"BLOCK_IN_FLOW",Ut):T.comment&&(N.comment?N.comment+="\n"+T.comment:N.comment=T.comment);var D=new ye(N,E);if(t.options.keepSourceTokens&&(D.srcToken=d),a){var I=c;Rt(t,I.items,N)&&r(L,"DUPLICATE_KEY","Map keys must be unique"),I.items.push(D)}else{var P=new Le(t.schema);P.flow=!0,P.items.push(D),c.items.push(P)}f=E?E.range[2]:T.end}else{var F=m?i(t,m,y,r):s(t,y.end,v,null,y,r);c.items.push(F),f=F.range[2],Kt(m)&&r(F.range,"BLOCK_IN_FLOW",Ut)}}var B=a?"}":"]",W=(0,U.Z)(n.end),H=W[0],R=W.slice(1),_=f;if(H&&H.source===B)_=H.offset+H.source.length;else{var Y=l[0].toUpperCase()+l.substring(1);r(f,u?"MISSING_CHAR":"BAD_INDENT",u?"".concat(Y," must end with a ").concat(B):"".concat(Y," in block collection must be sufficiently indented and end with a ").concat(B)),H&&1!==H.source.length&&R.unshift(H)}if(R.length>0){var K=Yt(R,_,t.options.strict,r);K.comment&&(c.comment?c.comment+="\n"+K.comment:c.comment=K.comment),c.range=[n.offset,_,K.offset]}else c.range=[n.offset,_,_];return c}(e,t,n,i)}if(!r)return s;var a=t.directives.tagName(r.source,(function(e){return i(r,"TAG_RESOLVE_FAILED",e)}));if(!a)return s;var l=s.constructor;if("!"===a||a===l.tagName)return s.tag=l.tagName,s;var c=b(s)?"map":"seq",u=t.schema.tags.find((function(e){return e.collection===c&&e.tag===a}));if(!u){var f=t.schema.knownTags[a];if(!f||f.collection!==c)return i(r,"TAG_RESOLVE_FAILED","Unresolved tag: ".concat(a),!0),s.tag=a,s;t.schema.tags.push(Object.assign({},f,{default:!1})),u=f}var h=u.resolve(s,(function(e){return i(r,"TAG_RESOLVE_FAILED",e)}),t.options),d=S(h)?h:new Z(h);return d.range=s.range,d.tag=a,(null===u||void 0===u?void 0:u.format)&&(d.format=u.format),d}function Zt(e,t,n){var r=e.offset,i=function(e,t,n){var r=e.offset,i=e.props;if("block-scalar-header"!==i[0].type)return n(i[0],"IMPOSSIBLE","Block scalar header not found"),null;for(var o=i[0].source,s=o[0],a=0,l="",c=-1,u=1;u<o.length;++u){var f=o[u];if(l||"-"!==f&&"+"!==f){var h=Number(f);!a&&h?a=h:-1===c&&(c=r+u)}else l=f}-1!==c&&n(c,"UNEXPECTED_TOKEN","Block scalar header includes extra characters: ".concat(o));for(var d=!1,p="",g=o.length,v=1;v<i.length;++v){var m=i[v];switch(m.type){case"space":d=!0;case"newline":g+=m.source.length;break;case"comment":if(t&&!d)n(m,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");g+=m.source.length,p=m.source.substring(1);break;case"error":n(m,"UNEXPECTED_TOKEN",m.message),g+=m.source.length;break;default:n(m,"UNEXPECTED_TOKEN","Unexpected token in block scalar header: ".concat(m.type));var y=m.source;y&&"string"===typeof y&&(g+=y.length)}}return{mode:s,indent:a,chomp:l,comment:p,length:g}}(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};for(var o=">"===i.mode?Z.BLOCK_FOLDED:Z.BLOCK_LITERAL,s=e.source?function(e){for(var t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),i=[r&&r[1]?[r[1],n.slice(r[1].length)]:["",n]],o=1;o<t.length;o+=2)i.push([t[o],t[o+1]]);return i}(e.source):[],a=s.length,l=s.length-1;l>=0;--l){var u=s[l][1];if(""!==u&&"\r"!==u)break;a=l}if(!e.source||0===a){var f="+"===i.chomp?"\n".repeat(Math.max(0,s.length-1)):"",h=r+i.length;return e.source&&(h+=e.source.length),{value:f,type:o,comment:i.comment,range:[r,h,h]}}for(var d=e.indent+i.indent,p=e.offset+i.length,g=0,v=0;v<a;++v){var m=(0,c.Z)(s[v],2),y=m[0],b=m[1];if(""!==b&&"\r"!==b){if(y.length<d){n(p+y.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator")}0===i.indent&&(d=y.length),g=v;break}0===i.indent&&y.length>d&&(d=y.length),p+=y.length+b.length+1}for(var w="",k="",x=!1,C=0;C<g;++C)w+=s[C][0].slice(d)+"\n";for(var S=g;S<a;++S){var L=(0,c.Z)(s[S],2),N=L[0],T=L[1];p+=N.length+T.length+1;var O="\r"===T[T.length-1];if(O&&(T=T.slice(0,-1)),T&&N.length<d){var A=i.indent?"explicit indentation indicator":"first line",M="Block scalar lines must not be less indented than their ".concat(A);n(p-T.length-(O?2:1),"BAD_INDENT",M),N=""}o===Z.BLOCK_LITERAL?(w+=k+N.slice(d)+T,k="\n"):N.length>d||"\t"===T[0]?(" "===k?k="\n":x||"\n"!==k||(k="\n\n"),w+=k+N.slice(d)+T,k="\n",x=!0):""===T?"\n"===k?w+="\n":k="\n":(w+=k+T,k=" ",x=!1)}switch(i.chomp){case"-":break;case"+":for(var E=a;E<s.length;++E)w+="\n"+s[E][0].slice(d);"\n"!==w[w.length-1]&&(w+="\n");break;default:w+="\n"}var D=r+i.length+e.source.length;return{value:w,type:o,comment:i.comment,range:[r,D,D]}}function zt(e,t,n){var r,i,o=e.offset,s=e.type,a=e.source,l=e.end,c=function(e,t,r){return n(o+e,t,r)};switch(s){case"scalar":r=Z.PLAIN,i=function(e,t){var n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n="block scalar indicator ".concat(e[0]);break;case"@":case"`":n="reserved character ".concat(e[0])}n&&t(0,"BAD_SCALAR_START","Plain value cannot start with ".concat(n));return qt(e)}(a,c);break;case"single-quoted-scalar":r=Z.QUOTE_SINGLE,i=function(e,t){"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote");return qt(e.slice(1,-1)).replace(/''/g,"'")}(a,c);break;case"double-quoted-scalar":r=Z.QUOTE_DOUBLE,i=function(e,t){for(var n="",r=1;r<e.length-1;++r){var i=e[r];if("\r"!==i||"\n"!==e[r+1])if("\n"===i){var o=Vt(e,r);n+=o.fold,r=o.offset}else if("\\"===i){var s=e[++r],a=Gt[s];if(a)n+=a;else if("\n"===s)for(s=e[r+1];" "===s||"\t"===s;)s=e[1+ ++r];else if("\r"===s&&"\n"===e[r+1])for(s=e[1+ ++r];" "===s||"\t"===s;)s=e[1+ ++r];else if("x"===s||"u"===s||"U"===s){var l={x:2,u:4,U:8}[s];n+=$t(e,r+1,l,t),r+=l}else{var c=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE","Invalid escape sequence ".concat(c)),n+=c}}else if(" "===i||"\t"===i){for(var u=r,f=e[r+1];" "===f||"\t"===f;)f=e[1+ ++r];"\n"===f||"\r"===f&&"\n"===e[r+2]||(n+=r>u?e.slice(u,r+1):i)}else n+=i}'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote');return n}(a,c);break;default:return n(e,"UNEXPECTED_TOKEN","Expected a flow scalar value, but found: ".concat(s)),{value:"",type:null,comment:"",range:[o,o+a.length,o+a.length]}}var u=o+a.length,f=Yt(l,u,t,n);return{value:i,type:r,comment:f.comment,range:[o,u,f.offset]}}function qt(e){var t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(l){t=new RegExp("([\\s\\S]*?)[\\t ]*\\r?\\n","y"),n=new RegExp("[\\t ]*([\\s\\S]*?)[\\t ]*\\r?\\n","y")}var r=t.exec(e);if(!r)return e;var i=r[1],o=" ",s=t.lastIndex;for(n.lastIndex=s;r=n.exec(e);)""===r[1]?"\n"===o?i+=o:o="\n":(i+=o+r[1],o=" "),s=n.lastIndex;var a=new RegExp("[\\t ]*([\\s\\S]*)","y");return a.lastIndex=s,i+o+((r=a.exec(e))&&r[1]||"")}function Vt(e,t){for(var n="",r=e[t+1];(" "===r||"\t"===r||"\n"===r||"\r"===r)&&("\r"!==r||"\n"===e[t+2]);)"\n"===r&&(n+="\n"),r=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}var Gt={0:"\0",a:"\x07",b:"\b",e:"\x1b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"\x85",_:"\xa0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function $t(e,t,n,r){var i=e.substr(t,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){var s=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE","Invalid escape sequence ".concat(s)),s}return String.fromCodePoint(o)}function Xt(e,t,n,r){var i,s="block-scalar"===t.type?Zt(t,e.options.strict,r):zt(t,e.options.strict,r),a=s.value,l=s.type,c=s.comment,u=s.range,f=n?e.directives.tagName(n.source,(function(e){return r(n,"TAG_RESOLVE_FAILED",e)})):null,h=n&&f?function(e,t,n,r,i){var s;if("!"===n)return e[p];var a,l=[],c=(0,o.Z)(e.tags);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(!u.collection&&u.tag===n){if(!u.default||!u.test)return u;l.push(u)}}}catch(v){c.e(v)}finally{c.f()}for(var f=0,h=l;f<h.length;f++){var d=h[f];if(null===(s=d.test)||void 0===s?void 0:s.test(t))return d}var g=e.knownTags[n];if(g&&!g.collection)return e.tags.push(Object.assign({},g,{default:!1,test:void 0})),g;return i(r,"TAG_RESOLVE_FAILED","Unresolved tag: ".concat(n),"tag:yaml.org,2002:str"!==n),e[p]}(e.schema,a,f,n,r):"scalar"===t.type?function(e,t,n,r){var i=e.directives,o=e.schema,s=o.tags.find((function(e){var n;return e.default&&(null===(n=e.test)||void 0===n?void 0:n.test(t))}))||o[p];if(o.compat){var a=o.compat.find((function(e){var n;return e.default&&(null===(n=e.test)||void 0===n?void 0:n.test(t))}))||o[p];if(s.tag!==a.tag){var l=i.tagString(s.tag),c=i.tagString(a.tag);r(n,"TAG_RESOLVE_FAILED","Value may be parsed as either ".concat(l," or ").concat(c),!0)}}return s}(e,a,t,r):e.schema[p];try{var d=h.resolve(a,(function(e){return r(n||t,"TAG_RESOLVE_FAILED",e)}),e.options);i=k(d)?d:new Z(d)}catch(v){var g=v instanceof Error?v.message:String(v);r(n||t,"TAG_RESOLVE_FAILED",g),i=new Z(a)}return i.range=u,i.source=a,l&&(i.type=l),f&&(i.tag=f),h.format&&(i.format=h.format),c&&(i.comment=c),i}function Jt(e,t,n){if(t){null===n&&(n=t.length);for(var r=n-1;r>=0;--r){var i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];"space"===(null===i||void 0===i?void 0:i.type);)e+=i.source.length,i=t[++r];break}}return e}var Qt={composeNode:en,composeEmptyNode:tn};function en(e,t,n,r){var i,o=n.spaceBefore,s=n.comment,a=n.anchor,l=n.tag;switch(t.type){case"alias":i=function(e,t,n){var r=e.options,i=t.offset,o=t.source,s=t.end,a=new _(o.substring(1));""===a.source&&n(i,"BAD_ALIAS","Alias cannot be an empty string");var l=i+o.length,c=Yt(s,l,r.strict,n);a.range=[i,l,c.offset],c.comment&&(a.comment=c.comment);return a}(e,t,r),(a||l)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":i=Xt(e,t,l,r),a&&(i.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":i=jt(Qt,e,t,l,r),a&&(i.anchor=a.source.substring(1));break;default:throw console.log(t),new Error("Unsupporten token type: ".concat(t.type))}return a&&""===i.anchor&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),o&&(i.spaceBefore=!0),s&&("scalar"===t.type&&""===t.source?i.comment=s:i.commentBefore=s),e.options.keepSourceTokens&&(i.srcToken=t),i}function tn(e,t,n,r,i,o){var s=i.spaceBefore,a=i.comment,l=i.anchor,c=i.tag,u=Xt(e,{type:"scalar",offset:Jt(t,n,r),indent:-1,source:""},c,o);return l&&(u.anchor=l.source.substring(1),""===u.anchor&&o(l,"BAD_ALIAS","Anchor cannot be an empty string")),s&&(u.spaceBefore=!0),a&&(u.comment=a),u}function nn(e,t,n,r){var i=n.offset,o=n.start,s=n.value,a=n.end,l=Object.assign({directives:t},e),c=new Mt(void 0,l),u={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},f=Bt(o,{indicator:"doc-start",next:s||(null===a||void 0===a?void 0:a[0]),offset:i,onError:r,startOnNewline:!0});f.found&&(c.directives.marker=!0,!s||"block-map"!==s.type&&"block-seq"!==s.type||f.hasNewline||r(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=s?en(u,s,f,r):tn(u,f.end,o,null,f,r);var h=c.contents.range[2],d=Yt(a,h,!1,r);return d.comment&&(c.comment=d.comment),c.range=[i,h,d.offset],c}function rn(e){if("number"===typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];var t=e.offset,n=e.source;return[t,t+("string"===typeof n?n.length:1)]}function on(e){for(var t,n="",r=!1,i=!1,o=0;o<e.length;++o){var s=e[o];switch(s[0]){case"#":n+=(""===n?"":i?"\n\n":"\n")+(s.substring(1)||" "),r=!0,i=!1;break;case"%":"#"!==(null===(t=e[o+1])||void 0===t?void 0:t[0])&&(o+=1),r=!1;break;default:r||(i=!0),r=!1}}return{comment:n,afterEmptyLine:i}}var sn=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.Z)(this,e),this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=function(e,n,r,i){var o=rn(e);i?t.warnings.push(new Pt(o,n,r)):t.errors.push(new It(o,n,r))},this.directives=new D({version:n.version||be.version}),this.options=n}return(0,a.Z)(e,[{key:"decorate",value:function(e,t){var n=on(this.prelude),r=n.comment,i=n.afterEmptyLine;if(r){var o=e.contents;if(t)e.comment=e.comment?"".concat(e.comment,"\n").concat(r):r;else if(i||e.directives.marker||!o)e.commentBefore=r;else if(C(o)&&!o.flow&&o.items.length>0){var s=o.items[0];w(s)&&(s=s.key);var a=s.commentBefore;s.commentBefore=a?"".concat(r,"\n").concat(a):r}else{var l=o.commentBefore;o.commentBefore=l?"".concat(r,"\n").concat(l):r}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}},{key:"streamInfo",value:function(){return{comment:on(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}},{key:"compose",value:l.mark((function e(t){var n,r,i,s,a,c=arguments;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]&&c[1],r=c.length>2&&void 0!==c[2]?c[2]:-1,i=(0,o.Z)(t),e.prev=3,i.s();case 5:if((s=i.n()).done){e.next=10;break}return a=s.value,e.delegateYield(this.next(a),"t0",8);case 8:e.next=5;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),i.e(e.t1);case 15:return e.prev=15,i.f(),e.finish(15);case 18:return e.delegateYield(this.end(n,r),"t2",19);case 19:case"end":return e.stop()}}),e,this,[[3,12,15,18]])}))},{key:"next",value:l.mark((function e(t){var n,r,i,o,s,a=this;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="directive"===e.t0?3:"document"===e.t0?7:"byte-order-mark"===e.t0||"space"===e.t0?16:"comment"===e.t0||"newline"===e.t0?17:"error"===e.t0?19:"doc-end"===e.t0?23:32;break;case 3:return this.directives.add(t.source,(function(e,n,r){var i=rn(t);i[0]+=e,a.onError(i,"BAD_DIRECTIVE",n,r)})),this.prelude.push(t.source),this.atDirectives=!0,e.abrupt("break",33);case 7:if(n=nn(this.options,this.directives,t,this.onError),this.atDirectives&&!n.directives.marker&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),this.decorate(n,!1),!this.doc){e.next=13;break}return e.next=13,this.doc;case 13:return this.doc=n,this.atDirectives=!1,e.abrupt("break",33);case 16:return e.abrupt("break",33);case 17:return this.prelude.push(t.source),e.abrupt("break",33);case 19:return r=t.source?"".concat(t.message,": ").concat(JSON.stringify(t.source)):t.message,i=new It(rn(t),"UNEXPECTED_TOKEN",r),this.atDirectives||!this.doc?this.errors.push(i):this.doc.errors.push(i),e.abrupt("break",33);case 23:if(this.doc){e.next=27;break}return"Unexpected doc-end without preceding document",this.errors.push(new It(rn(t),"UNEXPECTED_TOKEN","Unexpected doc-end without preceding document")),e.abrupt("break",33);case 27:return o=Yt(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError),this.decorate(this.doc,!0),o.comment&&(s=this.doc.comment,this.doc.comment=s?"".concat(s,"\n").concat(o.comment):o.comment),this.doc.range[2]=o.offset,e.abrupt("break",33);case 32:this.errors.push(new It(rn(t),"UNEXPECTED_TOKEN","Unsupported token ".concat(t.type)));case 33:case"end":return e.stop()}}),e,this)}))},{key:"end",value:l.mark((function e(){var t,n,r,i,o=arguments;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],n=o.length>1&&void 0!==o[1]?o[1]:-1,!this.doc){e.next=9;break}return this.decorate(this.doc,!0),e.next=6,this.doc;case 6:this.doc=null,e.next=17;break;case 9:if(!t){e.next=17;break}return r=Object.assign({directives:this.directives},this.options),i=new Mt(void 0,r),this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),e.next=17,i;case 17:case"end":return e.stop()}}),e,this)}))}]),e}();function an(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(e){var r=function(e,t,r){var i="number"===typeof e?e:Array.isArray(e)?e[0]:e.offset;if(!n)throw new It([i,i+1],t,r);n(i,t,r)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return zt(e,t,r);case"block-scalar":return Zt(e,t,r)}}return null}function ln(e,t){var n,r=t.implicitKey,i=void 0!==r&&r,o=t.indent,s=t.inFlow,a=void 0!==s&&s,l=t.offset,c=void 0===l?-1:l,u=t.type,f=ue({type:void 0===u?"PLAIN":u,value:e},{implicitKey:i,indent:o>0?" ".repeat(o):"",inFlow:a,options:{blockQuote:!0,lineWidth:-1}}),h=null!==(n=t.end)&&void 0!==n?n:[{type:"newline",offset:-1,indent:o,source:"\n"}];switch(f[0]){case"|":case">":var d=f.indexOf("\n"),p=f.substring(0,d),g=f.substring(d+1)+"\n",v=[{type:"block-scalar-header",offset:c,indent:o,source:p}];return fn(v,h)||v.push({type:"newline",offset:-1,indent:o,source:"\n"}),{type:"block-scalar",offset:c,indent:o,props:v,source:g};case'"':return{type:"double-quoted-scalar",offset:c,indent:o,source:f,end:h};case"'":return{type:"single-quoted-scalar",offset:c,indent:o,source:f,end:h};default:return{type:"scalar",offset:c,indent:o,source:f,end:h}}}function cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.afterKey,i=void 0!==r&&r,o=n.implicitKey,s=void 0!==o&&o,a=n.inFlow,l=void 0!==a&&a,c=n.type,u="indent"in e?e.indent:null;if(i&&"number"===typeof u&&(u+=2),!c)switch(e.type){case"single-quoted-scalar":c="QUOTE_SINGLE";break;case"double-quoted-scalar":c="QUOTE_DOUBLE";break;case"block-scalar":var f=e.props[0];if("block-scalar-header"!==f.type)throw new Error("Invalid block scalar header");c=">"===f.source[0]?"BLOCK_FOLDED":"BLOCK_LITERAL";break;default:c="PLAIN"}var h=ue({type:c,value:t},{implicitKey:s||null===u,indent:null!==u&&u>0?" ".repeat(u):"",inFlow:l,options:{blockQuote:!0,lineWidth:-1}});switch(h[0]){case"|":case">":un(e,h);break;case'"':hn(e,h,"double-quoted-scalar");break;case"'":hn(e,h,"single-quoted-scalar");break;default:hn(e,h,"scalar")}}function un(e,t){var n=t.indexOf("\n"),r=t.substring(0,n),i=t.substring(n+1)+"\n";if("block-scalar"===e.type){var o=e.props[0];if("block-scalar-header"!==o.type)throw new Error("Invalid block scalar header");o.source=r,e.source=i}else{var s=e.offset,a="indent"in e?e.indent:-1,l=[{type:"block-scalar-header",offset:s,indent:a,source:r}];fn(l,"end"in e?e.end:void 0)||l.push({type:"newline",offset:-1,indent:a,source:"\n"});for(var c=0,u=Object.keys(e);c<u.length;c++){var f=u[c];"type"!==f&&"offset"!==f&&delete e[f]}Object.assign(e,{type:"block-scalar",indent:a,props:l,source:i})}}function fn(e,t){if(t){var n,r=(0,o.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;switch(i.type){case"space":case"comment":e.push(i);break;case"newline":return e.push(i),!0}}}catch(s){r.e(s)}finally{r.f()}}return!1}function hn(e,t,n){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=n,e.source=t;break;case"block-scalar":var r=e.props.slice(1),i=t.length;"block-scalar-header"===e.props[0].type&&(i-=e.props[0].source.length);var s,a=(0,o.Z)(r);try{for(a.s();!(s=a.n()).done;){s.value.offset+=i}}catch(p){a.e(p)}finally{a.f()}delete e.props,Object.assign(e,{type:n,source:t,end:r});break;case"block-map":case"block-seq":var l={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:n,source:t,end:[l]});break;default:for(var c=("indent"in e?e.indent:-1),u=("end"in e&&Array.isArray(e.end)?e.end.filter((function(e){return"space"===e.type||"comment"===e.type||"newline"===e.type})):[]),f=0,h=Object.keys(e);f<h.length;f++){var d=h[f];"type"!==d&&"offset"!==d&&delete e[d]}Object.assign(e,{type:n,indent:c,source:t,end:u})}}var dn=function(e){return"type"in e?pn(e):gn(e)};function pn(e){switch(e.type){case"block-scalar":var t,n="",r=(0,o.Z)(e.props);try{for(r.s();!(t=r.n()).done;){n+=pn(t.value)}}catch(b){r.e(b)}finally{r.f()}return n+e.source;case"block-map":case"block-seq":var i,s="",a=(0,o.Z)(e.items);try{for(a.s();!(i=a.n()).done;){s+=gn(i.value)}}catch(b){a.e(b)}finally{a.f()}return s;case"flow-collection":var l,c=e.start.source,u=(0,o.Z)(e.items);try{for(u.s();!(l=u.n()).done;){c+=gn(l.value)}}catch(b){u.e(b)}finally{u.f()}var f,h=(0,o.Z)(e.end);try{for(h.s();!(f=h.n()).done;){c+=f.value.source}}catch(b){h.e(b)}finally{h.f()}return c;case"document":var d=gn(e);if(e.end){var p,g=(0,o.Z)(e.end);try{for(g.s();!(p=g.n()).done;){d+=p.value.source}}catch(b){g.e(b)}finally{g.f()}}return d;default:var v=e.source;if("end"in e&&e.end){var m,y=(0,o.Z)(e.end);try{for(y.s();!(m=y.n()).done;){v+=m.value.source}}catch(b){y.e(b)}finally{y.f()}}return v}}function gn(e){var t,n=e.start,r=e.key,i=e.sep,s=e.value,a="",l=(0,o.Z)(n);try{for(l.s();!(t=l.n()).done;){a+=t.value.source}}catch(f){l.e(f)}finally{l.f()}if(r&&(a+=pn(r)),i){var c,u=(0,o.Z)(i);try{for(u.s();!(c=u.n()).done;){a+=c.value.source}}catch(f){u.e(f)}finally{u.f()}}return s&&(a+=pn(s)),a}var vn=Symbol("break visit"),mn=Symbol("skip children"),yn=Symbol("remove item");function bn(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),wn(Object.freeze([]),e,t)}function wn(e,t,n){var r=n(t,e);if("symbol"===typeof r)return r;for(var i=0,o=["key","value"];i<o.length;i++){var s=o[i],a=t[s];if(a&&"items"in a){for(var l=0;l<a.items.length;++l){var c=wn(Object.freeze(e.concat([[s,l]])),a.items[l],n);if("number"===typeof c)l=c-1;else{if(c===vn)return vn;c===yn&&(a.items.splice(l,1),l-=1)}}"function"===typeof r&&"key"===s&&(r=r(t,e))}}return"function"===typeof r?r(t,e):r}bn.BREAK=vn,bn.SKIP=mn,bn.REMOVE=yn,bn.itemAtPath=function(e,t){var n,r=e,i=(0,o.Z)(t);try{for(i.s();!(n=i.n()).done;){var s=(0,c.Z)(n.value,2),a=s[0],l=s[1],u=r&&r[a];if(!u||!("items"in u))return;r=u.items[l]}}catch(f){i.e(f)}finally{i.f()}return r},bn.parentCollection=function(e,t){var n=bn.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n&&n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};var kn="\ufeff",xn="\x02",Cn="\x18",Sn="\x1f",Ln=function(e){return!!e&&"items"in e},Nn=function(e){return!!e&&("scalar"===e.type||"single-quoted-scalar"===e.type||"double-quoted-scalar"===e.type||"block-scalar"===e.type)};function Tn(e){switch(e){case kn:return"<BOM>";case xn:return"<DOC>";case Cn:return"<FLOW_END>";case Sn:return"<SCALAR>";default:return JSON.stringify(e)}}function On(e){switch(e){case kn:return"byte-order-mark";case xn:return"doc-mode";case Cn:return"flow-error-end";case Sn:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function An(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}var Mn="0123456789ABCDEFabcdef".split(""),En="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),Dn=",[]{}".split(""),In=" ,[]{}\n\r\t".split(""),Pn=function(e){return!e||In.includes(e)},Fn=function(){function e(){(0,s.Z)(this,e),this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}return(0,a.Z)(e,[{key:"lex",value:l.mark((function e(t){var n,r,i=arguments;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>1&&void 0!==i[1]&&i[1],t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!n,r=this.next||"stream";case 4:if(!r||!n&&!this.hasChars(1)){e.next=9;break}return e.delegateYield(this.parseNext(r),"t0",6);case 6:r=e.t0,e.next=4;break;case 9:case"end":return e.stop()}}),e,this)}))},{key:"atLineEnd",value:function(){for(var e=this.pos,t=this.buffer[e];" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}},{key:"charAt",value:function(e){return this.buffer[this.pos+e]}},{key:"continueScalar",value:function(e){var t=this.buffer[e];if(this.indentNext>0){for(var n=0;" "===t;)t=this.buffer[++n+e];if("\r"===t){var r=this.buffer[n+e+1];if("\n"===r||!r&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){var i=this.buffer.substr(e,3);if(("---"===i||"..."===i)&&An(this.buffer[e+3]))return-1}return e}},{key:"getLine",value:function(){var e=this.lineEndPos;return("number"!==typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}},{key:"hasChars",value:function(e){return this.pos+e<=this.buffer.length}},{key:"setNext",value:function(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}},{key:"peek",value:function(e){return this.buffer.substr(this.pos,e)}},{key:"parseNext",value:l.mark((function e(t){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="stream"===e.t0?3:"line-start"===e.t0?5:"block-start"===e.t0?7:"doc"===e.t0?9:"flow"===e.t0?11:"quoted-scalar"===e.t0?13:"block-scalar"===e.t0?15:"plain-scalar"===e.t0?17:19;break;case 3:return e.delegateYield(this.parseStream(),"t1",4);case 4:return e.abrupt("return",e.t1);case 5:return e.delegateYield(this.parseLineStart(),"t2",6);case 6:return e.abrupt("return",e.t2);case 7:return e.delegateYield(this.parseBlockStart(),"t3",8);case 8:return e.abrupt("return",e.t3);case 9:return e.delegateYield(this.parseDocument(),"t4",10);case 10:return e.abrupt("return",e.t4);case 11:return e.delegateYield(this.parseFlowCollection(),"t5",12);case 12:return e.abrupt("return",e.t5);case 13:return e.delegateYield(this.parseQuotedScalar(),"t6",14);case 14:return e.abrupt("return",e.t6);case 15:return e.delegateYield(this.parseBlockScalar(),"t7",16);case 16:return e.abrupt("return",e.t7);case 17:return e.delegateYield(this.parsePlainScalar(),"t8",18);case 18:return e.abrupt("return",e.t8);case 19:case"end":return e.stop()}}),e,this)}))},{key:"parseStream",value:l.mark((function e(){var t,n,r,i,o,s,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=this.getLine())){e.next=3;break}return e.abrupt("return",this.setNext("stream"));case 3:if(t[0]!==kn){e.next=6;break}return e.delegateYield(this.pushCount(1),"t0",5);case 5:t=t.substring(1);case 6:if("%"!==t[0]){e.next=27;break}n=t.length,-1!==(r=t.indexOf("#"))&&(" "!==(i=t[r-1])&&"\t"!==i||(n=r-1));case 10:if(" "!==(o=t[n-1])&&"\t"!==o){e.next=16;break}n-=1,e.next=17;break;case 16:return e.abrupt("break",19);case 17:e.next=10;break;case 19:return e.delegateYield(this.pushCount(n),"t1",20);case 20:return e.t2=e.t1,e.delegateYield(this.pushSpaces(!0),"t3",22);case 22:return e.t4=e.t3,s=e.t2+e.t4,e.delegateYield(this.pushCount(t.length-s),"t5",25);case 25:return this.pushNewline(),e.abrupt("return","stream");case 27:if(!this.atLineEnd()){e.next=33;break}return e.delegateYield(this.pushSpaces(!0),"t6",29);case 29:return a=e.t6,e.delegateYield(this.pushCount(t.length-a),"t7",31);case 31:return e.delegateYield(this.pushNewline(),"t8",32);case 32:return e.abrupt("return","stream");case 33:return e.next=35,xn;case 35:return e.delegateYield(this.parseLineStart(),"t9",36);case 36:return e.abrupt("return",e.t9);case 37:case"end":return e.stop()}}),e,this)}))},{key:"parseLineStart",value:l.mark((function e(){var t,n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.charAt(0))||this.atEnd){e.next=3;break}return e.abrupt("return",this.setNext("line-start"));case 3:if("-"!==t&&"."!==t){e.next=17;break}if(this.atEnd||this.hasChars(4)){e.next=6;break}return e.abrupt("return",this.setNext("line-start"));case 6:if("---"!==(n=this.peek(3))||!An(this.charAt(3))){e.next=14;break}return e.delegateYield(this.pushCount(3),"t0",9);case 9:return this.indentValue=0,this.indentNext=0,e.abrupt("return","doc");case 14:if("..."!==n||!An(this.charAt(3))){e.next=17;break}return e.delegateYield(this.pushCount(3),"t1",16);case 16:return e.abrupt("return","stream");case 17:return e.delegateYield(this.pushSpaces(!1),"t2",18);case 18:return this.indentValue=e.t2,this.indentNext>this.indentValue&&!An(this.charAt(1))&&(this.indentNext=this.indentValue),e.delegateYield(this.parseBlockStart(),"t3",21);case 21:return e.abrupt("return",e.t3);case 22:case"end":return e.stop()}}),e,this)}))},{key:"parseBlockStart",value:l.mark((function e(){var t,n,r,i,o;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.peek(2),n=(0,c.Z)(t,2),r=n[0],(i=n[1])||this.atEnd){e.next=3;break}return e.abrupt("return",this.setNext("block-start"));case 3:if("-"!==r&&"?"!==r&&":"!==r||!An(i)){e.next=13;break}return e.delegateYield(this.pushCount(1),"t0",5);case 5:return e.t1=e.t0,e.delegateYield(this.pushSpaces(!0),"t2",7);case 7:return e.t3=e.t2,o=e.t1+e.t3,this.indentNext=this.indentValue+1,this.indentValue+=o,e.delegateYield(this.parseBlockStart(),"t4",12);case 12:return e.abrupt("return",e.t4);case 13:return e.abrupt("return","doc");case 14:case"end":return e.stop()}}),e,this)}))},{key:"parseDocument",value:l.mark((function e(){var t,n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.pushSpaces(!0),"t0",1);case 1:if(null!==(t=this.getLine())){e.next=4;break}return e.abrupt("return",this.setNext("doc"));case 4:return e.delegateYield(this.pushIndicators(),"t1",5);case 5:n=e.t1,e.t2=t[n],e.next="#"===e.t2?9:void 0===e.t2?10:"{"===e.t2||"["===e.t2?13:"}"===e.t2||"]"===e.t2?17:"*"===e.t2?19:'"'===e.t2||"'"===e.t2?21:"|"===e.t2||">"===e.t2?23:33;break;case 9:return e.delegateYield(this.pushCount(t.length-n),"t3",10);case 10:return e.delegateYield(this.pushNewline(),"t4",11);case 11:return e.delegateYield(this.parseLineStart(),"t5",12);case 12:return e.abrupt("return",e.t5);case 13:return e.delegateYield(this.pushCount(1),"t6",14);case 14:return this.flowKey=!1,this.flowLevel=1,e.abrupt("return","flow");case 17:return e.delegateYield(this.pushCount(1),"t7",18);case 18:case 20:return e.abrupt("return","doc");case 19:return e.delegateYield(this.pushUntil(Pn),"t8",20);case 21:return e.delegateYield(this.parseQuotedScalar(),"t9",22);case 22:return e.abrupt("return",e.t9);case 23:return e.t10=n,e.delegateYield(this.parseBlockScalarHeader(),"t11",25);case 25:return n=e.t10+=e.t11,e.t12=n,e.delegateYield(this.pushSpaces(!0),"t13",28);case 28:return n=e.t12+=e.t13,e.delegateYield(this.pushCount(t.length-n),"t14",30);case 30:return e.delegateYield(this.pushNewline(),"t15",31);case 31:return e.delegateYield(this.parseBlockScalar(),"t16",32);case 32:return e.abrupt("return",e.t16);case 33:return e.delegateYield(this.parsePlainScalar(),"t17",34);case 34:return e.abrupt("return",e.t17);case 35:case"end":return e.stop()}}),e,this)}))},{key:"parseFlowCollection",value:l.mark((function e(){var t,n,r,i,o,s;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=-1;case 1:return e.delegateYield(this.pushNewline(),"t0",2);case 2:return t=e.t0,e.delegateYield(this.pushSpaces(!0),"t1",4);case 4:n=e.t1,t>0&&(this.indentValue=r=n);case 6:if(t+n>0){e.next=1;break}case 7:if(null!==(i=this.getLine())){e.next=10;break}return e.abrupt("return",this.setNext("flow"));case 10:if(!(-1!==r&&r<this.indentNext&&"#"!==i[0]||0===r&&(i.startsWith("---")||i.startsWith("..."))&&An(i[3]))){e.next=18;break}if(r===this.indentNext-1&&1===this.flowLevel&&("]"===i[0]||"}"===i[0])){e.next=18;break}return this.flowLevel=0,e.next=16,Cn;case 16:return e.delegateYield(this.parseLineStart(),"t2",17);case 17:return e.abrupt("return",e.t2);case 18:o=0;case 19:if(","!==i[o]){e.next=29;break}return e.t3=o,e.delegateYield(this.pushCount(1),"t4",22);case 22:return o=e.t3+=e.t4,e.t5=o,e.delegateYield(this.pushSpaces(!0),"t6",25);case 25:o=e.t5+=e.t6,this.flowKey=!1,e.next=19;break;case 29:return e.t7=o,e.delegateYield(this.pushIndicators(),"t8",31);case 31:o=e.t7+=e.t8,e.t9=i[o],e.next=void 0===e.t9?35:"#"===e.t9?36:"{"===e.t9||"["===e.t9?38:"}"===e.t9||"]"===e.t9?42:"*"===e.t9?46:'"'===e.t9||"'"===e.t9?48:":"===e.t9?51:57;break;case 35:return e.abrupt("return","flow");case 36:return e.delegateYield(this.pushCount(i.length-o),"t10",37);case 37:return e.abrupt("return","flow");case 38:return e.delegateYield(this.pushCount(1),"t11",39);case 39:return this.flowKey=!1,this.flowLevel+=1,e.abrupt("return","flow");case 42:return e.delegateYield(this.pushCount(1),"t12",43);case 43:return this.flowKey=!0,this.flowLevel-=1,e.abrupt("return",this.flowLevel?"flow":"doc");case 46:return e.delegateYield(this.pushUntil(Pn),"t13",47);case 47:return e.abrupt("return","flow");case 48:return this.flowKey=!0,e.delegateYield(this.parseQuotedScalar(),"t14",50);case 50:return e.abrupt("return",e.t14);case 51:if(s=this.charAt(1),!this.flowKey&&!An(s)&&","!==s){e.next=57;break}return this.flowKey=!1,e.delegateYield(this.pushCount(1),"t15",55);case 55:return e.delegateYield(this.pushSpaces(!0),"t16",56);case 56:return e.abrupt("return","flow");case 57:return this.flowKey=!1,e.delegateYield(this.parsePlainScalar(),"t17",59);case 59:return e.abrupt("return",e.t17);case 60:case"end":return e.stop()}}),e,this)}))},{key:"parseQuotedScalar",value:l.mark((function e(){var t,n,r,i,o,s;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.charAt(0),n=this.buffer.indexOf(t,this.pos+1),"'"!==t){e.next=6;break}for(;-1!==n&&"'"===this.buffer[n+1];)n=this.buffer.indexOf("'",n+2);e.next=14;break;case 6:if(-1===n){e.next=14;break}for(r=0;"\\"===this.buffer[n-1-r];)r+=1;if(r%2!==0){e.next=11;break}return e.abrupt("break",14);case 11:n=this.buffer.indexOf('"',n+1),e.next=6;break;case 14:if(i=this.buffer.substring(0,n),-1===(o=i.indexOf("\n",this.pos))){e.next=25;break}case 17:if(-1===o){e.next=24;break}if(-1!==(s=this.continueScalar(o+1))){e.next=21;break}return e.abrupt("break",24);case 21:o=i.indexOf("\n",s),e.next=17;break;case 24:-1!==o&&(n=o-("\r"===i[o-1]?2:1));case 25:if(-1!==n){e.next=29;break}if(this.atEnd){e.next=28;break}return e.abrupt("return",this.setNext("quoted-scalar"));case 28:n=this.buffer.length;case 29:return e.delegateYield(this.pushToIndex(n+1,!1),"t0",30);case 30:return e.abrupt("return",this.flowLevel?"flow":"doc");case 31:case"end":return e.stop()}}),e,this)}))},{key:"parseBlockScalarHeader",value:l.mark((function e(){var t,n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.blockScalarIndent=-1,this.blockScalarKeep=!1,t=this.pos;case 3:if("+"!==(n=this.buffer[++t])){e.next=9;break}this.blockScalarKeep=!0,e.next=15;break;case 9:if(!(n>"0"&&n<="9")){e.next=13;break}this.blockScalarIndent=Number(n)-1,e.next=15;break;case 13:if("-"===n){e.next=15;break}return e.abrupt("break",17);case 15:e.next=3;break;case 17:return e.delegateYield(this.pushUntil((function(e){return An(e)||"#"===e})),"t0",18);case 18:return e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,this)}))},{key:"parseBlockScalar",value:l.mark((function e(){var t,n,r,i,o,s,a,c;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.pos-1,n=0,i=this.pos;case 3:if(!(r=this.buffer[i])){e.next=21;break}e.t0=r,e.next=" "===e.t0?7:"\n"===e.t0?9:"\r"===e.t0?12:17;break;case 7:return n+=1,e.abrupt("break",18);case 9:return t=i,n=0,e.abrupt("break",18);case 12:if((o=this.buffer[i+1])||this.atEnd){e.next=15;break}return e.abrupt("return",this.setNext("block-scalar"));case 15:if("\n"!==o){e.next=17;break}return e.abrupt("break",18);case 17:return e.abrupt("break",21);case 18:++i,e.next=3;break;case 21:if(r||this.atEnd){e.next=23;break}return e.abrupt("return",this.setNext("block-scalar"));case 23:if(!(n>=this.indentNext)){e.next=34;break}-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;case 25:if(-1!==(s=this.continueScalar(t+1))){e.next=28;break}return e.abrupt("break",30);case 28:t=this.buffer.indexOf("\n",s);case 29:if(-1!==t){e.next=25;break}case 30:if(-1!==t){e.next=34;break}if(this.atEnd){e.next=33;break}return e.abrupt("return",this.setNext("block-scalar"));case 33:t=this.buffer.length;case 34:if(this.blockScalarKeep){e.next=45;break}case 35:for(a=t-1,"\r"===(c=this.buffer[a])&&(c=this.buffer[--a]);" "===c||"\t"===c;)c=this.buffer[--a];if(!("\n"===c&&a>=this.pos)){e.next=43;break}t=a,e.next=44;break;case 43:return e.abrupt("break",45);case 44:e.next=35;break;case 45:return e.next=47,Sn;case 47:return e.delegateYield(this.pushToIndex(t+1,!0),"t1",48);case 48:return e.delegateYield(this.parseLineStart(),"t2",49);case 49:return e.abrupt("return",e.t2);case 50:case"end":return e.stop()}}),e,this)}))},{key:"parsePlainScalar",value:l.mark((function e(){var t,n,r,i,o,s,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.flowLevel>0,n=this.pos-1,r=this.pos-1;case 3:if(!(i=this.buffer[++r])){e.next=28;break}if(":"!==i){e.next=11;break}if(!(An(o=this.buffer[r+1])||t&&","===o)){e.next=8;break}return e.abrupt("break",28);case 8:n=r,e.next=26;break;case 11:if(!An(i)){e.next=23;break}if(s=this.buffer[r+1],"\r"===i&&("\n"===s?(r+=1,i="\n",s=this.buffer[r+1]):n=r),!("#"===s||t&&Dn.includes(s))){e.next=16;break}return e.abrupt("break",28);case 16:if("\n"!==i){e.next=21;break}if(-1!==(a=this.continueScalar(r+1))){e.next=20;break}return e.abrupt("break",28);case 20:r=Math.max(r,a-2);case 21:e.next=26;break;case 23:if(!t||!Dn.includes(i)){e.next=25;break}return e.abrupt("break",28);case 25:n=r;case 26:e.next=3;break;case 28:if(i||this.atEnd){e.next=30;break}return e.abrupt("return",this.setNext("plain-scalar"));case 30:return e.next=32,Sn;case 32:return e.delegateYield(this.pushToIndex(n+1,!0),"t0",33);case 33:return e.abrupt("return",t?"flow":"doc");case 34:case"end":return e.stop()}}),e,this)}))},{key:"pushCount",value:l.mark((function e(t){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>0)){e.next=5;break}return e.next=3,this.buffer.substr(this.pos,t);case 3:return this.pos+=t,e.abrupt("return",t);case 5:return e.abrupt("return",0);case 6:case"end":return e.stop()}}),e,this)}))},{key:"pushToIndex",value:l.mark((function e(t,n){var r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.buffer.slice(this.pos,t))){e.next=8;break}return e.next=4,r;case 4:return this.pos+=r.length,e.abrupt("return",r.length);case 8:if(!n){e.next=11;break}return e.next=11,"";case 11:return e.abrupt("return",0);case 12:case"end":return e.stop()}}),e,this)}))},{key:"pushIndicators",value:l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.charAt(0),e.next="!"===e.t0?3:"&"===e.t0?11:":"===e.t0||"?"===e.t0||"-"===e.t0?19:29;break;case 3:return e.delegateYield(this.pushTag(),"t1",4);case 4:return e.t2=e.t1,e.delegateYield(this.pushSpaces(!0),"t3",6);case 6:return e.t4=e.t3,e.t5=e.t2+e.t4,e.delegateYield(this.pushIndicators(),"t6",9);case 9:return e.t7=e.t6,e.abrupt("return",e.t5+e.t7);case 11:return e.delegateYield(this.pushUntil(Pn),"t8",12);case 12:return e.t9=e.t8,e.delegateYield(this.pushSpaces(!0),"t10",14);case 14:return e.t11=e.t10,e.t12=e.t9+e.t11,e.delegateYield(this.pushIndicators(),"t13",17);case 17:return e.t14=e.t13,e.abrupt("return",e.t12+e.t14);case 19:if(!An(this.charAt(1))){e.next=29;break}return 0===this.flowLevel?this.indentNext=this.indentValue+1:this.flowKey&&(this.flowKey=!1),e.delegateYield(this.pushCount(1),"t15",22);case 22:return e.t16=e.t15,e.delegateYield(this.pushSpaces(!0),"t17",24);case 24:return e.t18=e.t17,e.t19=e.t16+e.t18,e.delegateYield(this.pushIndicators(),"t20",27);case 27:return e.t21=e.t20,e.abrupt("return",e.t19+e.t21);case 29:return e.abrupt("return",0);case 30:case"end":return e.stop()}}),e,this)}))},{key:"pushTag",value:l.mark((function e(){var t,n,r,i;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("<"!==this.charAt(1)){e.next=8;break}for(t=this.pos+2,n=this.buffer[t];!An(n)&&">"!==n;)n=this.buffer[++t];return e.delegateYield(this.pushToIndex(">"===n?t+1:t,!1),"t0",5);case 5:return e.abrupt("return",e.t0);case 8:r=this.pos+1,i=this.buffer[r];case 10:if(!i){e.next=22;break}if(!En.includes(i)){e.next=15;break}i=this.buffer[++r],e.next=20;break;case 15:if("%"!==i||!Mn.includes(this.buffer[r+1])||!Mn.includes(this.buffer[r+2])){e.next=19;break}i=this.buffer[r+=3],e.next=20;break;case 19:return e.abrupt("break",22);case 20:e.next=10;break;case 22:return e.delegateYield(this.pushToIndex(r,!1),"t1",23);case 23:return e.abrupt("return",e.t1);case 24:case"end":return e.stop()}}),e,this)}))},{key:"pushNewline",value:l.mark((function e(){var t;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\n"!==(t=this.buffer[this.pos])){e.next=6;break}return e.delegateYield(this.pushCount(1),"t0",3);case 3:return e.abrupt("return",e.t0);case 6:if("\r"!==t||"\n"!==this.charAt(1)){e.next=11;break}return e.delegateYield(this.pushCount(2),"t1",8);case 8:return e.abrupt("return",e.t1);case 11:return e.abrupt("return",0);case 12:case"end":return e.stop()}}),e,this)}))},{key:"pushSpaces",value:l.mark((function e(t){var n,r,i;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.pos-1;do{r=this.buffer[++n]}while(" "===r||t&&"\t"===r);if(!((i=n-this.pos)>0)){e.next=7;break}return e.next=6,this.buffer.substr(this.pos,i);case 6:this.pos=n;case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))},{key:"pushUntil",value:l.mark((function e(t){var n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=this.pos,r=this.buffer[n];!t(r);)r=this.buffer[++n];return e.delegateYield(this.pushToIndex(n,!1),"t0",4);case 4:return e.abrupt("return",e.t0);case 5:case"end":return e.stop()}}),e,this)}))}]),e}(),Bn=(0,a.Z)((function e(){var t=this;(0,s.Z)(this,e),this.lineStarts=[],this.addNewLine=function(e){return t.lineStarts.push(e)},this.linePos=function(e){for(var n=0,r=t.lineStarts.length;n<r;){var i=n+r>>1;t.lineStarts[i]<e?n=i+1:r=i}return t.lineStarts[n]===e?{line:n+1,col:1}:0===n?{line:0,col:e}:{line:n,col:e-t.lineStarts[n-1]+1}}}));function Wn(e,t){for(var n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Hn(e){for(var t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return!0}return!1}function Rn(e){switch(null===e||void 0===e?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function _n(e){switch(e.type){case"document":return e.start;case"block-map":var t=e.items[e.items.length-1];return t.sep||t.start;case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Yn(e){var t;if(0===e.length)return[];var n=e.length;e:for(;--n>=0;)switch(e[n].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===(null===(t=e[++n])||void 0===t?void 0:t.type););return e.splice(n,e.length)}function Un(e){if("flow-seq-start"===e.start.type){var t,n=(0,o.Z)(e.items);try{for(n.s();!(t=n.n()).done;){var r=t.value;!r.sep||r.value||Wn(r.start,"explicit-key-ind")||Wn(r.sep,"map-value-ind")||(r.key&&(r.value=r.key),delete r.key,Rn(r.value)?r.value.end?Array.prototype.push.apply(r.value.end,r.sep):r.value.end=r.sep:Array.prototype.push.apply(r.start,r.sep),delete r.sep)}}catch(i){n.e(i)}finally{n.f()}}}var Kn=function(){function e(t){(0,s.Z)(this,e),this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Fn,this.onNewLine=t}return(0,a.Z)(e,[{key:"parse",value:l.mark((function e(t){var n,r,i,s,a=arguments;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.length>1&&void 0!==a[1]&&a[1],this.onNewLine&&0===this.offset&&this.onNewLine(0),r=(0,o.Z)(this.lexer.lex(t,n)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=10;break}return s=i.value,e.delegateYield(this.next(s),"t0",8);case 8:e.next=5;break;case 10:e.next=15;break;case 12:e.prev=12,e.t1=e.catch(3),r.e(e.t1);case 15:return e.prev=15,r.f(),e.finish(15);case 18:if(n){e.next=20;break}return e.delegateYield(this.end(),"t2",20);case 20:case"end":return e.stop()}}),e,this,[[3,12,15,18]])}))},{key:"next",value:l.mark((function e(t){var n,r;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.source=t,!this.atScalar){e.next=6;break}return this.atScalar=!1,e.delegateYield(this.step(),"t0",4);case 4:return this.offset+=t.length,e.abrupt("return");case 6:if(n=On(t)){e.next=13;break}return r="Not a YAML token: ".concat(t),e.delegateYield(this.pop({type:"error",offset:this.offset,message:r,source:t}),"t1",10);case 10:this.offset+=t.length,e.next=35;break;case 13:if("scalar"!==n){e.next=19;break}this.atNewLine=!1,this.atScalar=!0,this.type="scalar",e.next=35;break;case 19:return this.type=n,e.delegateYield(this.step(),"t2",21);case 21:e.t3=n,e.next="newline"===e.t3?24:"space"===e.t3?28:"explicit-key-ind"===e.t3||"map-value-ind"===e.t3||"seq-item-ind"===e.t3?30:"doc-mode"===e.t3||"flow-error-end"===e.t3?32:33;break;case 24:return this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length),e.abrupt("break",34);case 28:return this.atNewLine&&" "===t[0]&&(this.indent+=t.length),e.abrupt("break",34);case 30:return this.atNewLine&&(this.indent+=t.length),e.abrupt("break",34);case 32:return e.abrupt("return");case 33:this.atNewLine=!1;case 34:this.offset+=t.length;case 35:case"end":return e.stop()}}),e,this)}))},{key:"end",value:l.mark((function e(){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.stack.length>0)){e.next=4;break}return e.delegateYield(this.pop(),"t0",2);case 2:e.next=0;break;case 4:case"end":return e.stop()}}),e,this)}))},{key:"sourceToken",get:function(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}},{key:"step",value:l.mark((function e(){var t;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.peek(1),"doc-end"!==this.type||t&&"doc-end"===t.type){e.next=8;break}case 2:if(!(this.stack.length>0)){e.next=6;break}return e.delegateYield(this.pop(),"t0",4);case 4:e.next=2;break;case 6:return this.stack.push({type:"doc-end",offset:this.offset,source:this.source}),e.abrupt("return");case 8:if(t){e.next=11;break}return e.delegateYield(this.stream(),"t1",10);case 10:return e.abrupt("return",e.t1);case 11:e.t2=t.type,e.next="document"===e.t2?14:"alias"===e.t2||"scalar"===e.t2||"single-quoted-scalar"===e.t2||"double-quoted-scalar"===e.t2?16:"block-scalar"===e.t2?18:"block-map"===e.t2?20:"block-seq"===e.t2?22:"flow-collection"===e.t2?24:"doc-end"===e.t2?26:28;break;case 14:return e.delegateYield(this.document(t),"t3",15);case 15:return e.abrupt("return",e.t3);case 16:return e.delegateYield(this.scalar(t),"t4",17);case 17:return e.abrupt("return",e.t4);case 18:return e.delegateYield(this.blockScalar(t),"t5",19);case 19:return e.abrupt("return",e.t5);case 20:return e.delegateYield(this.blockMap(t),"t6",21);case 21:return e.abrupt("return",e.t6);case 22:return e.delegateYield(this.blockSequence(t),"t7",23);case 23:return e.abrupt("return",e.t7);case 24:return e.delegateYield(this.flowCollection(t),"t8",25);case 25:return e.abrupt("return",e.t8);case 26:return e.delegateYield(this.documentEnd(t),"t9",27);case 27:return e.abrupt("return",e.t9);case 28:return e.delegateYield(this.pop(),"t10",29);case 29:case"end":return e.stop()}}),e,this)}))},{key:"peek",value:function(e){return this.stack[this.stack.length-e]}},{key:"pop",value:l.mark((function e(t){var n,r,i,o,s,a;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t||this.stack.pop()){e.next=7;break}return"Tried to pop an empty stack",e.next=5,{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};case 5:e.next=46;break;case 7:if(0!==this.stack.length){e.next=12;break}return e.next=10,n;case 10:e.next=46;break;case 12:r=this.peek(1),"block-scalar"===n.type?n.indent="indent"in r?r.indent:0:"flow-collection"===n.type&&"document"===r.type&&(n.indent=0),"flow-collection"===n.type&&Un(n),e.t0=r.type,e.next="document"===e.t0?18:"block-scalar"===e.t0?20:"block-map"===e.t0?22:"block-seq"===e.t0?37:"flow-collection"===e.t0?40:43;break;case 18:return r.value=n,e.abrupt("break",45);case 20:return r.props.push(n),e.abrupt("break",45);case 22:if(!(i=r.items[r.items.length-1]).value){e.next=29;break}return r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0,e.abrupt("return");case 29:if(!i.sep){e.next=33;break}i.value=n,e.next=36;break;case 33:return Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!Wn(i.start,"explicit-key-ind"),e.abrupt("return");case 36:return e.abrupt("break",45);case 37:return(o=r.items[r.items.length-1]).value?r.items.push({start:[],value:n}):o.value=n,e.abrupt("break",45);case 40:return!(s=r.items[r.items.length-1])||s.value?r.items.push({start:[],key:n,sep:[]}):s.sep?s.value=n:Object.assign(s,{key:n,sep:[]}),e.abrupt("return");case 43:return e.delegateYield(this.pop(),"t1",44);case 44:return e.delegateYield(this.pop(n),"t2",45);case 45:"document"!==r.type&&"block-map"!==r.type&&"block-seq"!==r.type||"block-map"!==n.type&&"block-seq"!==n.type||(a=n.items[n.items.length-1])&&!a.sep&&!a.value&&a.start.length>0&&!Hn(a.start)&&(0===n.indent||a.start.every((function(e){return"comment"!==e.type||e.indent<n.indent})))&&("document"===r.type?r.end=a.start:r.items.push({start:a.start}),n.items.splice(-1,1));case 46:case"end":return e.stop()}}),e,this)}))},{key:"stream",value:l.mark((function e(){var t;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.type,e.next="directive-line"===e.t0?3:"byte-order-mark"===e.t0||"space"===e.t0||"comment"===e.t0||"newline"===e.t0?6:"doc-mode"===e.t0||"doc-start"===e.t0?9:13;break;case 3:return e.next=5,{type:"directive",offset:this.offset,source:this.source};case 5:case 8:return e.abrupt("return");case 6:return e.next=8,this.sourceToken;case 9:return t={type:"document",offset:this.offset,start:[]},"doc-start"===this.type&&t.start.push(this.sourceToken),this.stack.push(t),e.abrupt("return");case 13:return e.next=15,{type:"error",offset:this.offset,message:"Unexpected ".concat(this.type," token in YAML stream"),source:this.source};case 15:case"end":return e.stop()}}),e,this)}))},{key:"document",value:l.mark((function e(t){var n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.value){e.next=3;break}return e.delegateYield(this.lineEnd(t),"t0",2);case 2:return e.abrupt("return",e.t0);case 3:e.t1=this.type,e.next="doc-start"===e.t1?6:"anchor"===e.t1||"tag"===e.t1||"space"===e.t1||"comment"===e.t1||"newline"===e.t1?13:15;break;case 6:if(!Hn(t.start)){e.next=11;break}return e.delegateYield(this.pop(),"t2",8);case 8:return e.delegateYield(this.step(),"t3",9);case 9:e.next=12;break;case 11:t.start.push(this.sourceToken);case 12:return e.abrupt("return");case 13:return t.start.push(this.sourceToken),e.abrupt("return");case 15:if(!(n=this.startBlockValue(t))){e.next=20;break}this.stack.push(n),e.next=22;break;case 20:return e.next=22,{type:"error",offset:this.offset,message:"Unexpected ".concat(this.type," token in YAML document"),source:this.source};case 22:case"end":return e.stop()}}),e,this)}))},{key:"scalar",value:l.mark((function e(t){var n,r,i,o;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("map-value-ind"!==this.type){e.next=9;break}n=_n(this.peek(2)),r=Yn(n),t.end?((i=t.end).push(this.sourceToken),delete t.end):i=[this.sourceToken],o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]},this.onKeyLine=!0,this.stack[this.stack.length-1]=o,e.next=10;break;case 9:return e.delegateYield(this.lineEnd(t),"t0",10);case 10:case"end":return e.stop()}}),e,this)}))},{key:"blockScalar",value:l.mark((function e(t){var n;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.type,e.next="space"===e.t0||"comment"===e.t0||"newline"===e.t0?3:"scalar"===e.t0?5:11;break;case 3:return t.props.push(this.sourceToken),e.abrupt("return");case 5:if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine)for(n=this.source.indexOf("\n")+1;0!==n;)this.onNewLine(this.offset+n),n=this.source.indexOf("\n",n)+1;return e.delegateYield(this.pop(),"t1",10);case 10:return e.abrupt("break",13);case 11:return e.delegateYield(this.pop(),"t2",12);case 12:return e.delegateYield(this.step(),"t3",13);case 13:case"end":return e.stop()}}),e,this)}))},{key:"blockMap",value:l.mark((function e(t){var n,r,i,o,s,a,c,u,f,h,d,p;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.items[t.items.length-1],e.t0=this.type,e.next="newline"===e.t0?4:"space"===e.t0||"comment"===e.t0?7:25;break;case 4:return this.onKeyLine=!1,r.value?(i="end"in r.value?r.value.end:void 0,"comment"===(null===(o=Array.isArray(i)?i[i.length-1]:void 0)||void 0===o?void 0:o.type)?null===i||void 0===i||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken),e.abrupt("return");case 7:if(!r.value){e.next=11;break}t.items.push({start:[this.sourceToken]}),e.next=24;break;case 11:if(!r.sep){e.next=15;break}r.sep.push(this.sourceToken),e.next=24;break;case 15:if(!this.atIndentedComment(r.start,t.indent)){e.next=23;break}if(s=t.items[t.items.length-2],a=null===(n=null===s||void 0===s?void 0:s.value)||void 0===n?void 0:n.end,!Array.isArray(a)){e.next=23;break}return Array.prototype.push.apply(a,r.start),a.push(this.sourceToken),t.items.pop(),e.abrupt("return");case 23:r.start.push(this.sourceToken);case 24:return e.abrupt("return");case 25:if(!(this.indent>=t.indent)){e.next=46;break}c=!this.onKeyLine&&this.indent===t.indent&&(r.sep||Hn(r.start)),e.t1=this.type,e.next="anchor"===e.t1||"tag"===e.t1?30:"explicit-key-ind"===e.t1?32:"map-value-ind"===e.t1?35:"alias"===e.t1||"scalar"===e.t1||"single-quoted-scalar"===e.t1||"double-quoted-scalar"===e.t1?38:41;break;case 30:return c||r.value?(t.items.push({start:[this.sourceToken]}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken),e.abrupt("return");case 32:return r.sep||Wn(r.start,"explicit-key-ind")?c||r.value?t.items.push({start:[this.sourceToken]}):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):r.start.push(this.sourceToken),this.onKeyLine=!0,e.abrupt("return");case 35:return r.sep?r.value||c&&!Wn(r.start,"explicit-key-ind")?t.items.push({start:[],key:null,sep:[this.sourceToken]}):Wn(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):Wn(r.start,"explicit-key-ind")&&Rn(r.key)&&!Wn(r.sep,"newline")?(u=Yn(r.start),f=r.key,(h=r.sep).push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:u,key:f,sep:h}]})):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]}),this.onKeyLine=!0,e.abrupt("return");case 38:return d=this.flowScalar(this.type),c||r.value?(t.items.push({start:[],key:d,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(d):(Object.assign(r,{key:d,sep:[]}),this.onKeyLine=!0),e.abrupt("return");case 41:if(!(p=this.startBlockValue(t))){e.next=46;break}return c&&"block-seq"!==p.type&&Wn(r.start,"explicit-key-ind")&&t.items.push({start:[]}),this.stack.push(p),e.abrupt("return");case 46:return e.delegateYield(this.pop(),"t2",47);case 47:return e.delegateYield(this.step(),"t3",48);case 48:case"end":return e.stop()}}),e,this)}))},{key:"blockSequence",value:l.mark((function e(t){var n,r,i,o,s,a,c;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.items[t.items.length-1],e.t0=this.type,e.next="newline"===e.t0?4:"space"===e.t0||"comment"===e.t0?6:"anchor"===e.t0||"tag"===e.t0?20:"seq-item-ind"===e.t0?24:28;break;case 4:return r.value?(i="end"in r.value?r.value.end:void 0,"comment"===(null===(o=Array.isArray(i)?i[i.length-1]:void 0)||void 0===o?void 0:o.type)?null===i||void 0===i||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})):r.start.push(this.sourceToken),e.abrupt("return");case 6:if(!r.value){e.next=10;break}t.items.push({start:[this.sourceToken]}),e.next=19;break;case 10:if(!this.atIndentedComment(r.start,t.indent)){e.next=18;break}if(s=t.items[t.items.length-2],a=null===(n=null===s||void 0===s?void 0:s.value)||void 0===n?void 0:n.end,!Array.isArray(a)){e.next=18;break}return Array.prototype.push.apply(a,r.start),a.push(this.sourceToken),t.items.pop(),e.abrupt("return");case 18:r.start.push(this.sourceToken);case 19:return e.abrupt("return");case 20:if(!(r.value||this.indent<=t.indent)){e.next=22;break}return e.abrupt("break",28);case 22:return r.start.push(this.sourceToken),e.abrupt("return");case 24:if(this.indent===t.indent){e.next=26;break}return e.abrupt("break",28);case 26:return r.value||Wn(r.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken),e.abrupt("return");case 28:if(!(this.indent>t.indent)){e.next=33;break}if(!(c=this.startBlockValue(t))){e.next=33;break}return this.stack.push(c),e.abrupt("return");case 33:return e.delegateYield(this.pop(),"t1",34);case 34:return e.delegateYield(this.step(),"t2",35);case 35:case"end":return e.stop()}}),e,this)}))},{key:"flowCollection",value:l.mark((function e(t){var n,r,i,o,s,a,c,u,f;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.items[t.items.length-1],"flow-error-end"!==this.type){e.next=7;break}case 2:return e.delegateYield(this.pop(),"t0",3);case 3:r=this.peek(1);case 4:if(r&&"flow-collection"===r.type){e.next=2;break}case 5:e.next=49;break;case 7:if(0!==t.end.length){e.next=31;break}e.t1=this.type,e.next="comma"===e.t1||"explicit-key-ind"===e.t1?11:"map-value-ind"===e.t1?13:"space"===e.t1||"comment"===e.t1||"newline"===e.t1||"anchor"===e.t1||"tag"===e.t1?15:"alias"===e.t1||"scalar"===e.t1||"single-quoted-scalar"===e.t1||"double-quoted-scalar"===e.t1?17:"flow-map-end"===e.t1||"flow-seq-end"===e.t1?20:22;break;case 11:return!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken),e.abrupt("return");case 13:return!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]}),e.abrupt("return");case 15:return!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken),e.abrupt("return");case 17:return i=this.flowScalar(this.type),!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]}),e.abrupt("return");case 20:return t.end.push(this.sourceToken),e.abrupt("return");case 22:if(!(o=this.startBlockValue(t))){e.next=27;break}this.stack.push(o),e.next=29;break;case 27:return e.delegateYield(this.pop(),"t2",28);case 28:return e.delegateYield(this.step(),"t3",29);case 29:e.next=49;break;case 31:if("block-map"!==(s=this.peek(2)).type||"map-value-ind"!==this.type&&("newline"!==this.type||s.items[s.items.length-1].sep)){e.next=37;break}return e.delegateYield(this.pop(),"t4",34);case 34:return e.delegateYield(this.step(),"t5",35);case 35:e.next=49;break;case 37:if("map-value-ind"!==this.type||"flow-collection"===s.type){e.next=48;break}a=_n(s),c=Yn(a),Un(t),(u=t.end.splice(1,t.end.length)).push(this.sourceToken),f={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:c,key:t,sep:u}]},this.onKeyLine=!0,this.stack[this.stack.length-1]=f,e.next=49;break;case 48:return e.delegateYield(this.lineEnd(t),"t6",49);case 49:case"end":return e.stop()}}),e,this)}))},{key:"flowScalar",value:function(e){if(this.onNewLine)for(var t=this.source.indexOf("\n")+1;0!==t;)this.onNewLine(this.offset+t),t=this.source.indexOf("\n",t)+1;return{type:e,offset:this.offset,indent:this.indent,source:this.source}}},{key:"startBlockValue",value:function(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":this.onKeyLine=!0;var t=Yn(_n(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]};case"map-value-ind":this.onKeyLine=!0;var n=Yn(_n(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}return null}},{key:"atIndentedComment",value:function(e,t){return"comment"===this.type&&(!(this.indent<=t)&&e.every((function(e){return"newline"===e.type||"space"===e.type})))}},{key:"documentEnd",value:l.mark((function e(t){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("doc-mode"===this.type){e.next=4;break}if(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],"newline"!==this.type){e.next=4;break}return e.delegateYield(this.pop(),"t0",4);case 4:case"end":return e.stop()}}),e,this)}))},{key:"lineEnd",value:l.mark((function e(t){return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.type,e.next="comma"===e.t0||"doc-start"===e.t0||"doc-end"===e.t0||"flow-seq-end"===e.t0||"flow-map-end"===e.t0||"map-value-ind"===e.t0?3:"newline"===e.t0?6:("space"===e.t0||e.t0,7);break;case 3:return e.delegateYield(this.pop(),"t1",4);case 4:return e.delegateYield(this.step(),"t2",5);case 5:return e.abrupt("break",10);case 6:this.onKeyLine=!1;case 7:if(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],"newline"!==this.type){e.next=10;break}return e.delegateYield(this.pop(),"t3",10);case 10:case"end":return e.stop()}}),e,this)}))}]),e}();function jn(e){var t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new Bn||null,prettyErrors:t}}function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=jn(t),r=n.lineCounter,i=n.prettyErrors,s=new Kn(null===r||void 0===r?void 0:r.addNewLine),a=new sn(t),l=Array.from(a.compose(s.parse(e)));if(i&&r){var c,u=(0,o.Z)(l);try{for(u.s();!(c=u.n()).done;){var f=c.value;f.errors.forEach(Ft(e,r)),f.warnings.forEach(Ft(e,r))}}catch(h){u.e(h)}finally{u.f()}}return l.length>0?l:Object.assign([],{empty:!0},a.streamInfo())}function zn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=jn(n),i=r.lineCounter,s=r.prettyErrors,a=new Kn(null===i||void 0===i?void 0:i.addNewLine),l=new sn(n),c=null,u=(0,o.Z)(l.compose(a.parse(e),!0,e.length));try{for(u.s();!(t=u.n()).done;){var f=t.value;if(c){if("silent"!==c.options.logLevel){c.errors.push(new It(f.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else c=f}}catch(h){u.e(h)}finally{u.f()}return s&&i&&(c.errors.forEach(Ft(e,i)),c.warnings.forEach(Ft(e,i))),c}function qn(e,t,n){var r=void 0;"function"===typeof t?r=t:void 0===n&&t&&"object"===typeof t&&(n=t);var i=zn(e,n);if(!i)return null;if(i.warnings.forEach((function(e){return de(i.options.logLevel,e)})),i.errors.length>0){if("silent"!==i.options.logLevel)throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function Vn(e,t,n){var r=null;if("function"===typeof t||Array.isArray(t)?r=t:void 0===n&&t&&(n=t),"string"===typeof n&&(n=n.length),"number"===typeof n){var i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(void 0===e&&!(n||t||{}).keepUndefined)return;return new Mt(e,r,n).toString(n)}var Gn=i},35928:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4392);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}}}]);
//# sourceMappingURL=616.3dc241d7.chunk.js.map