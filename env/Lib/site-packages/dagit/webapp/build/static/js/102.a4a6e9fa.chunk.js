"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[102],{86655:function(e,n,t){t.d(n,{R:function(){return u}});var r=t(59019),i=t(32030),s=t(75497),o=t(7838),a=t(61653),l=(t(325),t(74549)),c=t(77171),d=t(32289),u=function(e){var n=e.path,t=e.icon,u=e.url,h=e.isGroup,p=e.textStyle,x=void 0===p?"break-word":p,f=u||(0,c.p)({path:n}),m=n.reduce((function(e,n,t){return[].concat((0,r.Z)(e),[t>0?" / ":"",n])}),[]).join("")+(h?"/":"");return(0,d.jsxs)(i.x,{flex:{direction:"row",alignItems:"flex-start",display:"inline-flex"},style:{maxWidth:"100%"},children:[t?(0,d.jsx)(i.x,{margin:{right:8,top:2},children:(0,d.jsx)(s.JO,{name:t,color:o.w.Gray400})}):null,(0,d.jsx)(l.rU,{to:f,style:{overflow:"hidden"},children:"break-word"===x?(0,d.jsx)("span",{style:{wordBreak:"break-word"},children:m}):(0,d.jsx)(a.g,{text:m})})]})}},76450:function(e,n,t){t.d(n,{b:function(){return Ne},G:function(){return Ce}});var r,i,s,o,a=t(99500),l=t(85358),c=t(19065),d=t(95550),u=t.n(d),h=t(49148),p=t(3159),x=t(6466),f=t(55113),m=t(325),g=t(14156),j=t(13065),v=t(79082),y=t(12436),w=t(8358),b=t(8546),S=t(32030),k=t(75453),C=t(32289),N=function(e){var n=e.backfill,t=e.onClose;return(0,C.jsxs)(w.Vq,{isOpen:!!n,title:(0,C.jsxs)("span",{children:["Partitions requested for backfill:"," ",(0,C.jsx)("span",{style:{fontSize:"18px",fontFamily:b.b.monospace},children:null===n||void 0===n?void 0:n.id})]}),onClose:t,children:[(0,C.jsx)(w.a7,{children:n&&n.partitionNames?(0,C.jsx)(S.x,{flex:{direction:"column",gap:8},style:{maxHeight:"80vh",overflowY:"auto"},children:n.partitionNames.map((function(e){return(0,C.jsx)("div",{children:e},e)}))}):null}),(0,C.jsx)(w.cN,{topBorder:!0,children:(0,C.jsx)(k.zx,{onClick:t,children:"Done"})})]})},R=t(922),I=t(65880),P=t(12745),E=t(762),T=t(8412),_=t(75497),Z=t(7838),O=t(54268),U=t(18612),D=t.n(U),A=t(74549),L=t(27601),F=t(47678),z=t(39061),$=t(69305),q=t(54920),G=t(62e3),M=t(4998),B=t(34653),V=t(52453),K=t(45302),J=t(68156),H=t(16279),W=t(76336),Q=t(37099),Y=t(33902),X=t(25582),ee=[function(){return Promise.resolve({data:void 0})},{data:void 0,called:!0,loading:!1}],ne=function(e){var n=e.backfill,t=e.allPartitions,r=e.showBackfillTarget,i=e.onTerminateBackfill,s=e.onResumeBackfill,o=e.onShowStepStatus,a=e.onShowPartitionsRequested,l=(0,I.t)(ue,{variables:{backfillId:n.id},notifyOnNetworkStatusChange:!0}),d=(0,I.t)(de,{variables:{backfillId:n.id},notifyOnNetworkStatusChange:!0}),u=null===n.numPartitions||null===n.partitionNames,h=u?ee:(n.numPartitions||0)>re?d:l,p=(0,c.Z)(h,2),x=p[0],f=p[1];(0,H.v5)(x),(0,F.C4)(f,F.dT);var g=f.data,j=m.useMemo((function(){if("PartitionBackfill"!==(null===g||void 0===g?void 0:g.partitionBackfillOrError.__typename))return{counts:null,statuses:null};if("partitionStatusCounts"in g.partitionBackfillOrError)return{counts:Object.fromEntries(g.partitionBackfillOrError.partitionStatusCounts.map((function(e){return[e.runStatus,e.count]}))),statuses:null};var e=g.partitionBackfillOrError.partitionStatuses.results;return{counts:D()(e,(function(e){return e.runStatus})),statuses:e}}),[g]),v=j.counts,y=j.statuses;return(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{style:{width:120},children:(0,C.jsx)(P.fv,{style:{fontSize:"16px",lineHeight:"18px"},children:(0,C.jsx)(A.rU,{to:n.isAssetBackfill?"/overview/backfills/".concat(n.id):(0,K.it)([{token:"tag",value:"dagster/backfill=".concat(n.id)}]),children:n.id})})}),(0,C.jsx)("td",{style:{width:220},children:n.timestamp?(0,C.jsx)(J.v,{timestamp:n.timestamp}):"-"}),r?(0,C.jsx)("td",{style:{width:"20%"},children:(0,C.jsx)(se,{backfill:n})}):null,(0,C.jsx)("td",{style:{width:t?300:140},children:(0,C.jsx)(oe,{backfill:n,allPartitions:t,onExpand:function(){return a(n)}})}),(0,C.jsx)("td",{style:{width:140},children:v||u?(0,C.jsx)(le,{backfill:n,counts:v}):(0,C.jsx)(H.mq,{queryResult:f,noneString:"\u2013"})}),(0,C.jsx)("td",{children:n.isValidSerialization?v?(0,C.jsx)(ie,{backfill:n,counts:v,statuses:y}):(0,C.jsx)(H.mq,{queryResult:f,noneString:"\u2013"}):(0,C.jsx)("p",{children:"A partitions definition has changed since this backfill ran."})}),(0,C.jsx)("td",{children:(0,C.jsx)(te,{backfill:n,onResumeBackfill:s,onTerminateBackfill:i,onShowStepStatus:o,canCancelRuns:!!v&&(v[$.VOA.QUEUED]>0||v[$.VOA.STARTED]>0)})})]})},te=function(e){var n=e.backfill,t=e.canCancelRuns,r=e.onTerminateBackfill,i=e.onResumeBackfill,s=e.onShowStepStatus,o=(0,L.k6)(),a=n.hasResumePermission,l=(0,K.it)([{token:"tag",value:"dagster/backfill=".concat(n.id)}]);return(0,C.jsx)(E.J,{content:(0,C.jsxs)(T.v2,{children:[n.hasCancelPermission?(0,C.jsxs)(C.Fragment,{children:[n.numCancelable>0?(0,C.jsx)(T.sN,{text:"Cancel backfill submission",icon:"cancel",intent:"danger",onClick:function(){return r(n)}}):null,t?(0,C.jsx)(T.sN,{text:"Terminate unfinished runs",icon:"cancel",intent:"danger",onClick:function(){return r(n)}}):null]}):null,a&&n.status===$.Jv3.FAILED&&n.partitionSet?(0,C.jsx)(T.sN,{text:"Resume failed backfill",title:"Submits runs for all partitions in the backfill that do not have a corresponding run. Does not retry failed runs.",icon:"refresh",onClick:function(){return i(n)}}):null,(0,C.jsx)(T.sN,{text:"View backfill runs",icon:"settings_backup_restore",onClick:function(){return o.push(l)}}),(0,C.jsx)(T.sN,{text:"View step status",icon:"view_list",onClick:function(){s(n)}})]}),position:"bottom-right",children:(0,C.jsx)(k.zx,{icon:(0,C.jsx)(_.JO,{name:"expand_more"})})})},re=1e3,ie=function(e){var n=e.backfill,t=e.statuses,r=e.counts,i=(0,L.k6)(),s=Object.entries(r).reduce((function(e,n){var t=(0,c.Z)(n,2),r=t[0],i=t[1];return e[r]=(e[r]||0)+i,e}),{}),o=m.useMemo((function(){return{runStatusForPartitionKey:function(e){var n;return(null===t||void 0===t||null===(n=t.filter((function(n){return n.partitionName===e}))[0])||void 0===n?void 0:n.runStatus)||$.VOA.NOT_STARTED}}}),[t]);return t&&n.partitionNames?(0,C.jsx)(q.b,{partitionNames:n.partitionNames,health:o,splitPartitions:!0,onClick:function(e){var n=t.find((function(n){return n.partitionName===e}));null!==n&&void 0!==n&&n.runId&&i.push("/runs/".concat(n.runId))}}):(0,C.jsx)(V.Y,{succeededCount:s[$.VOA.SUCCESS],inProgressCount:s[$.VOA.STARTED],failedCount:s[$.VOA.FAILURE]})},se=function(e){var n=e.backfill,t=n.assetSelection,r=n.partitionSet,i=n.partitionSetName,s=r?(0,Q.kQ)(r.repositoryOrigin.repositoryName,r.repositoryOrigin.repositoryLocationName):null,o=(0,W.Ux)(s),a=(0,z.pv)(i||"");return(0,C.jsxs)(S.x,{flex:{direction:"column",gap:8},children:[a?null:r&&o?(0,C.jsx)(A.rU,{style:{fontWeight:500},to:(0,X.jT)({repoName:r.repositoryOrigin.repositoryName,repoLocation:r.repositoryOrigin.repositoryLocationName,pipelineName:r.pipelineName,isJob:(0,W.E8)(o,r.pipelineName),path:"/partitions?partitionSet=".concat(encodeURIComponent(r.name))}),children:r.name}):i?(0,C.jsx)("span",{style:{fontWeight:500},children:i}):null,(0,C.jsxs)(S.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:[s?(0,C.jsxs)(S.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{fontSize:"12px"},children:[(0,C.jsx)(_.JO,{name:"repo",color:Z.w.Gray400}),(0,C.jsx)(A.rU,{to:(0,X.$U)(s),children:(0,Y.Uz)(s)})]}):void 0,null!==t&&void 0!==t&&t.length?(0,C.jsx)(M.m,{assetKeys:t,modalTitle:"Assets in backfill"}):r&&o?(0,C.jsx)(G.h,{showIcon:!0,size:"small",pipelineName:r.pipelineName,pipelineHrefContext:{name:r.repositoryOrigin.repositoryName,location:r.repositoryOrigin.repositoryLocationName},isJob:(0,W.E8)(o,r.pipelineName)}):null]})]})},oe=function(e){var n=e.allPartitions,t=e.backfill,r=e.onExpand,i=t.partitionNames,s=t.numPartitions;if(null===s)return(0,C.jsx)("span",{});var o="".concat(s.toLocaleString()," ").concat(1===s?"partition":"partitions");return(0,C.jsxs)(S.x,{flex:{direction:"column",gap:8},children:[(0,C.jsx)("div",{children:i?(0,C.jsx)(ce,{onClick:r,children:(0,C.jsx)(O.V,{intent:"primary",interactive:!0,children:o})}):(0,C.jsx)(O.V,{intent:"primary",children:o})}),n&&i&&(0,C.jsx)(ae,{all:n,requested:i})]})},ae=function(e){var n=e.all,t=e.requested,r=m.useMemo((function(){return{runStatusForPartitionKey:function(e){return t&&t.includes(e)?$.VOA.QUEUED:$.VOA.NOT_STARTED}}}),[t]);return(0,C.jsx)(q.b,{small:!0,hideStatusTooltip:!0,partitionNames:n,health:r})},le=function(e){var n=e.backfill,t=e.counts;switch(n.status){case $.Jv3.REQUESTED:return(0,C.jsx)(O.V,{children:"Requested"});case $.Jv3.CANCELED:case $.Jv3.FAILED:return(0,C.jsx)(S.x,{margin:{bottom:12},children:(0,C.jsx)(ce,{onClick:function(){return n.error&&(0,g._)({title:"Error",body:(0,C.jsx)(y.T,{error:n.error})})},children:(0,C.jsx)(O.V,{intent:"danger",children:"FAILED"===n.status?"Failed":"Canceled"})})});case $.Jv3.COMPLETED:return null===n.partitionNames?(0,C.jsx)(O.V,{intent:"success",children:"Completed"}):t?t[$.VOA.SUCCESS]===n.partitionNames.length?(0,C.jsx)(O.V,{intent:"success",children:"Completed"}):Array.from(B.Ys).some((function(e){return t[e]}))?(0,C.jsx)(O.V,{intent:"primary",children:"In progress"}):(0,C.jsx)(O.V,{intent:"warning",children:"Incomplete"}):(0,C.jsx)("div",{style:{color:Z.w.Gray500},children:"None"})}},ce=R.ZP.button.withConfig({displayName:"BackfillRow__TagButton",componentId:"rau032-0"})(["border:none;background:none;cursor:pointer;padding:0;margin:0;:focus{outline:none;}"]),de=(0,p.Ps)(r||(r=(0,a.Z)(["\n  query SingleBackfillCountsQuery($backfillId: String!) {\n    partitionBackfillOrError(backfillId: $backfillId) {\n      ... on PartitionBackfill {\n        id\n        partitionStatusCounts {\n          runStatus\n          count\n        }\n      }\n    }\n  }\n"]))),ue=(0,p.Ps)(i||(i=(0,a.Z)(["\n  query SingleBackfillQuery($backfillId: String!) {\n    partitionBackfillOrError(backfillId: $backfillId) {\n      ... on PartitionBackfill {\n        id\n        partitionStatuses {\n          ...PartitionStatusesForBackfill\n        }\n      }\n    }\n  }\n\n  fragment PartitionStatusesForBackfill on PartitionStatuses {\n    results {\n      id\n      partitionName\n      runId\n      runStatus\n    }\n  }\n"]))),he=t(51012),pe=t(73974),xe=t(28064),fe=t(26306),me=function(e){var n=e.backfill,t=e.onClose;return(0,C.jsxs)(w.Vq,{isOpen:!(null===n||void 0===n||!n.partitionSet),title:"Step status for backfill: ".concat(null===n||void 0===n?void 0:n.id),onClose:t,style:{width:"80vw"},children:[function(){if(null===n||void 0===n||!n.partitionSet||null===n.partitionNames)return null;var e=(0,Q.kQ)(n.partitionSet.repositoryOrigin.repositoryName,n.partitionSet.repositoryOrigin.repositoryLocationName);return(0,C.jsx)(ge,{backfill:n,partitionSet:n.partitionSet,partitionNames:n.partitionNames,repoAddress:e,onClose:t})}(),(0,C.jsx)(w.cN,{topBorder:!0,children:(0,C.jsx)(k.zx,{onClick:t,children:"Done"})})]})},ge=function(e){var n=e.backfill,t=e.partitionSet,r=e.partitionNames,i=e.repoAddress,s=m.useState(60),o=(0,c.Z)(s,2),a=o[0],l=o[1],d=m.useState(0),u=(0,c.Z)(d,2),h=u[0],p=u[1],x=m.useMemo((function(){return[{token:"tag",value:"dagster/backfill=".concat(n.id)}]}),[n.id]),f=(0,pe.T)({partitionSetName:t.name,partitionTagName:xe.H.Partition,partitionNames:r,pageSize:a,runsFilter:x,repositorySelector:(0,fe.$)(i),jobName:t.pipelineName,offset:h,skipQuery:!n});return(0,C.jsx)(he.ux,{partitionNames:r,partitions:f,pipelineName:null===t||void 0===t?void 0:t.pipelineName,repoAddress:i,setPageSize:l,offset:h,setOffset:p})},je=t(16798),ve=t(95764),ye=t(73701),we=t(38568),be=function(e){var n=e.backfill,t=e.onClose,r=e.onComplete,i=(0,h.D)(Se),s=(0,c.Z)(i,1)[0],o=(0,ye.a)(ue,{variables:{backfillId:(null===n||void 0===n?void 0:n.id)||""},notifyOnNetworkStatusChange:!0,skip:!n}).data,a=m.useState(!1),d=(0,c.Z)(a,2),p=d[0],x=d[1],f=m.useMemo((function(){return n&&o&&"PartitionBackfill"===o.partitionBackfillOrError.__typename&&o.partitionBackfillOrError.partitionStatuses.results.filter((function(e){return e.runStatus&&e.runId&&B.oV.has(e.runStatus)})).reduce((function(e,n){return n&&n.runId?(0,ve.Z)((0,ve.Z)({},e),{},(0,je.Z)({},n.runId,!0)):e}),{})||{}}),[n,o]);if(!n||!o)return null;var g=n.numCancelable,j=function(){var e=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,s({variables:{backfillId:n.id}});case 3:r(),x(!1),t();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(w.Vq,{isOpen:!!n&&n.status!==$.Jv3.CANCELED&&!!g,title:"Cancel backfill",onClose:t,children:[(0,C.jsxs)(w.a7,{children:["There ",1===g?"is 1 partition ":"are ".concat(g," partitions "),"yet to be queued or launched."]}),(0,C.jsxs)(w.cN,{children:[(0,C.jsx)(k.zx,{intent:"none",onClick:t,children:"Close"}),p?(0,C.jsx)(k.zx,{intent:"danger",disabled:!0,children:"Canceling..."}):(0,C.jsx)(k.zx,{intent:"danger",onClick:j,children:"Cancel backfill"})]})]}),(0,C.jsx)(we.A,{isOpen:!!n&&(!g||"REQUESTED"!==n.status)&&!!Object.keys(f).length,onClose:t,onComplete:r,selectedRuns:f})]})},Se=(0,p.Ps)(s||(s=(0,a.Z)(["\n  mutation CancelBackfill($backfillId: String!) {\n    cancelPartitionBackfill(backfillId: $backfillId) {\n      __typename\n      ... on CancelBackfillSuccess {\n        backfillId\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),v.B),ke=t(22013),Ce=function(e){var n=e.showBackfillTarget,t=void 0===n||n,r=e.allPartitions,i=e.backfills,s=e.refetch,o=m.useState(),a=(0,c.Z)(o,2),d=a[0],p=a[1],v=m.useState(),w=(0,c.Z)(v,2),b=w[0],S=w[1],k=m.useState(),R=(0,c.Z)(k,2),I=R[0],P=R[1],E=(0,h.D)(ke.g),T=(0,c.Z)(E,1)[0],_=null===d||void 0===d?void 0:d.id;m.useEffect((function(){if(_){var e=i.filter((function(e){return e.id===_&&e.hasCancelPermission})),n=(0,c.Z)(e,1)[0];p(n)}}),[i,_]);var Z=function(){var e=(0,l.Z)(u().mark((function e(n){var t,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({variables:{backfillId:n.id}});case 2:t=e.sent,(r=t.data)&&"ResumeBackfillSuccess"===r.resumePartitionBackfill.__typename?s():r&&"UnauthorizedError"===r.resumePartitionBackfill.__typename?j.L.show({message:(0,C.jsx)(x.Z,{direction:"column",spacing:4,children:(0,C.jsx)("div",{children:"Attempted to retry the backfill in read-only mode. This backfill was not retried."})}),icon:"error",intent:"danger"}):r&&"PythonError"===r.resumePartitionBackfill.__typename&&(i=r.resumePartitionBackfill,j.L.show({message:(0,C.jsx)("div",{children:"An unexpected error occurred. This backfill was not retried."}),icon:"error",intent:"danger",action:{text:"View error",onClick:function(){return(0,g._)({body:(0,C.jsx)(y.T,{error:i})})}}}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(f.i,{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:"Backfill ID"}),(0,C.jsx)("th",{children:"Created"}),t?(0,C.jsx)("th",{children:"Backfill target"}):null,(0,C.jsx)("th",{children:"Requested"}),(0,C.jsx)("th",{children:"Backfill status"}),(0,C.jsx)("th",{children:"Run status"}),(0,C.jsx)("th",{style:{width:80}})]})}),(0,C.jsx)("tbody",{children:i.map((function(e){return(0,C.jsx)(ne,{showBackfillTarget:t,backfill:e,allPartitions:r,onTerminateBackfill:p,onResumeBackfill:Z,onShowStepStatus:S,onShowPartitionsRequested:P},e.id)}))})]}),(0,C.jsx)(me,{backfill:b,onClose:function(){return S(void 0)}}),(0,C.jsx)(N,{backfill:I,onClose:function(){return P(void 0)}}),(0,C.jsx)(be,{backfill:d,onClose:function(){return p(void 0)},onComplete:function(){return s()}})]})},Ne=(0,p.Ps)(o||(o=(0,a.Z)(["\n  fragment BackfillTableFragment on PartitionBackfill {\n    id\n    status\n    isAssetBackfill\n    hasCancelPermission\n    hasResumePermission\n    numCancelable\n    partitionNames\n    isValidSerialization\n    numPartitions\n    timestamp\n    partitionSetName\n    partitionSet {\n      id\n      ...PartitionSetForBackfillTable\n    }\n    assetSelection {\n      path\n    }\n    error {\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment PartitionSetForBackfillTable on PartitionSet {\n    id\n    name\n    mode\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n  }\n\n  ","\n"])),v.B)},85548:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(54268),i=t(32030),s=t(762),o=t(325),a=t(69305),l=t(59549),c=t(9091),d=t(34653),u=t(55752),h=t(28797),p=t(80609),x=t(32289),f=o.memo((function(e){var n=e.name,t=e.run,f=e.showHover,m=void 0!==f&&f,g=e.showButton,j=void 0===g||g,v=e.showSummary,y=void 0===v||v,w=t.status,b=o.useMemo((function(){switch(w){case a.VOA.SUCCESS:return"success";case a.VOA.CANCELED:case a.VOA.CANCELING:case a.VOA.FAILURE:return"danger";default:return"none"}}),[w]);return(0,x.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-start",gap:16},children:[(0,x.jsxs)(i.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,x.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[function(){var e=(0,x.jsx)(r.V,{intent:b,children:(0,x.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,x.jsx)(l.K9,{status:t.status,size:10}),(0,x.jsx)(u.Zr,{run:t})]})});return m?(0,x.jsx)(s.J,{position:"top",interactionKind:"hover",content:(0,x.jsx)("div",{children:(0,x.jsx)(c.qL,{run:t,name:n})}),hoverOpenDelay:100,children:e}):e}(),y?(0,x.jsx)(u.Tw,{run:t}):null]}),y&&(d.hd.has(t.status)||d.Ys.has(t.status))?(0,x.jsx)(p.I,{runId:t.id}):void 0]}),j?(0,x.jsx)(h.A,{to:"/runs/".concat(t.id),children:"View run"}):null]})}))},80609:function(e,n,t){t.d(n,{I:function(){return m}});var r,i=t(99500),s=t(73701),o=t(3159),a=t(12745),l=t(7838),c=t(41332),d=t.n(c),u=t(325),h=t(74549),p=t(69305),x=t(34653),f=t(32289),m=function(e){var n=e.runId,t=(0,s.a)(g,{variables:{runId:n}}).data,r=null===t||void 0===t?void 0:t.pipelineRunOrError,i="Run"===(null===r||void 0===r?void 0:r.__typename)?r.status:null,o=u.useMemo((function(){if("Run"!==(null===r||void 0===r?void 0:r.__typename))return[];var e=r.status;return x.hd.has(e)?r.stepStats.filter((function(e){return e.status===p.SGm.FAILURE})):x.Ys.has(e)?r.stepStats.filter((function(e){return e.status===p.SGm.IN_PROGRESS})):[]}),[r]),c=o.length;if(!c||!i)return null;if(x.hd.has(i)){if(1===c){var m=o[0],j=m.endTime?d().stringify({focusedTime:Math.floor(1e3*m.endTime)},{addQueryPrefix:!0}):"";return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["Failed at ",(0,f.jsx)(h.rU,{to:"/runs/".concat(n).concat(j),children:m.stepKey})]})}return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["Failed at ",(0,f.jsxs)(h.rU,{to:"/runs/".concat(n),children:[c," steps"]})]})}if(x.Ys.has(i)){if(1===c){var v=o[0],y=v.endTime?d().stringify({focusedTime:Math.floor(1e3*v.endTime)},{addQueryPrefix:!0}):"";return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["In progress at ",(0,f.jsx)(h.rU,{to:"/runs/".concat(n).concat(y),children:v.stepKey})]})}return(0,f.jsxs)(a.YS,{color:l.w.Gray500,children:["In progress at ",(0,f.jsxs)(h.rU,{to:"/runs/".concat(n),children:[c," steps"]})]})}return null},g=(0,o.Ps)(r||(r=(0,i.Z)(["\n  query StepSummaryForRunQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        stepStats {\n          endTime\n          stepKey\n          status\n        }\n      }\n    }\n  }\n"])))},62997:function(e,n,t){t.d(n,{TW:function(){return E},i0:function(){return T},lB:function(){return _},dY:function(){return O}});var r,i,s=t(99500),o=t(19065),a=t(922),l=t(73701),c=t(3159),d=t(54268),u=t(60652),h=t(8358),p=t(75453),x=t(11831),f=t(32030),m=t(34595),g=t(89646),j=t(6466),v=t(7838),y=t(12745),w=t(75497),b=t(325),S=t(14156),k=t(79082),C=t(12436),N=t(76341),R=t(69305),I=t(22797),P=t(32289),E=function(e){var n=e.tick,t=e.instigationType,r=b.useState(!1),i=(0,o.Z)(r,2),s=i[0],a=i[1];switch(n.status){case R.izS.STARTED:return(0,P.jsx)(d.V,{children:"Started"});case R.izS.SUCCESS:if(!n.runIds.length)return(0,P.jsx)(d.V,{intent:"primary",children:"Requested"});var l=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(d.V,{intent:"primary",interactive:!0,children:(0,P.jsxs)(u.Z,{underline:"never",onClick:function(){return a(!0)},children:[n.runIds.length," Requested"]})}),(0,P.jsxs)(h.Vq,{isOpen:s,onClose:function(){return a(!1)},style:{width:"90vw"},title:"Launched runs",children:[(0,P.jsx)(T,{runIds:n.runIds}),(0,P.jsx)(h.cN,{children:(0,P.jsx)(p.zx,{intent:"primary",onClick:function(){return a(!1)},children:"OK"})})]})]});if(n.runKeys.length>n.runIds.length){var c="".concat(n.runKeys.length," runs requested, but ").concat(n.runKeys.length-n.runIds.length," skipped because the runs already exist for those requested keys.");return(0,P.jsx)(x.u,{position:"right",content:c,children:l})}return l;case R.izS.SKIPPED:if(n.runKeys.length){var f="".concat(n.runKeys.length," runs requested, but skipped because the runs already exist for the requested keys.");return(0,P.jsx)(x.u,{position:"right",content:f,children:(0,P.jsx)(d.V,{intent:"warning",children:"Skipped"})})}return n.skipReason?(0,P.jsx)(x.u,{position:"right",content:n.skipReason,targetTagName:"div",children:(0,P.jsx)(d.V,{intent:"warning",children:"Skipped"})}):(0,P.jsx)(d.V,{intent:"warning",children:"Skipped"});case R.izS.FAILURE:if(n.error){var m=n.error,g=function(){return(0,S._)({title:t?t===R._5b.SCHEDULE?"Schedule Response":"Sensor Response":"Python Error",body:(0,P.jsx)(C.T,{error:m})})};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Z,{onClick:g,children:(0,P.jsx)(d.V,{minimal:!0,intent:"danger",children:"Failure"})}),(0,P.jsx)(u.Z,{onClick:g,style:{marginLeft:4,fontSize:12},children:"View"})]})}return(0,P.jsx)(d.V,{intent:"danger",children:"Failure"});default:return(0,N.UT)(n.status)}},T=function(e){var n=e.runIds,t=(0,l.a)(U,{variables:{filter:{runIds:n}}}),r=t.data;return t.loading||!r?(0,P.jsx)(f.x,{padding:32,children:(0,P.jsx)(m.$,{purpose:"section"})}):"Runs"!==r.pipelineRunsOrError.__typename?(0,P.jsx)(f.x,{padding:32,children:(0,P.jsx)(g.t,{icon:"error",title:"An error occurred",description:r.pipelineRunsOrError.message})}):(0,P.jsx)(f.x,{padding:{bottom:8},children:(0,P.jsx)(I.A,{runs:r.pipelineRunsOrError.results})})},_=function(e){var n=e.originRunIds;return n&&n.length?(0,P.jsxs)(j.Z,{direction:"column",spacing:16,children:[(0,P.jsxs)(f.x,{padding:12,border:{side:"bottom",width:1,color:v.w.Gray200},children:[(0,P.jsxs)(y.uT,{children:["Failed Runs",(0,P.jsx)(x.u,{content:"Failed runs this tick reacted on and reported back to.",children:(0,P.jsx)(w.JO,{name:"info",color:v.w.Gray500})})]}),(0,P.jsx)(T,{runIds:n})]}),(0,P.jsxs)(f.x,{padding:12,margin:{bottom:8},children:[(0,P.jsxs)(y.uT,{children:["Requested Runs",(0,P.jsx)(x.u,{content:"Runs launched by the run requests in this tick.",children:(0,P.jsx)(w.JO,{name:"info",color:v.w.Gray500})})]}),(0,P.jsx)(g.t,{icon:"sensors",title:"No runs to display",description:"This sensor does not target a pipeline or job."})]})]}):null},Z=a.ZP.button.withConfig({displayName:"InstigationTick__LinkButton",componentId:"o7n48i-0"})(["background:inherit;border:none;cursor:pointer;font-size:inherit;text-decoration:none;padding:0;"]),O=(0,c.Ps)(r||(r=(0,s.Z)(["\n  fragment TickTagFragment on InstigationTick {\n    id\n    status\n    timestamp\n    skipReason\n    runIds\n    runKeys\n    error {\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),k.B),U=(0,c.Ps)(i||(i=(0,s.Z)(["\n  query LaunchedRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n          runId\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),I.Z,k.B)},45352:function(e,n,t){t.d(n,{UD:function(){return g},RX:function(){return j},S9:function(){return v},ai:function(){return y},Jy:function(){return w}});var r,i,s=t(99500),o=t(922),a=t(3159),l=t(7838),c=t(6466),d=t(12745),u=(t(325),t(74549)),h=t(85548),p=t(59549),x=t(55752),f=t(62997),m=t(32289),g=function(e){var n=e.instigationState;return n.runs.length?(0,m.jsx)(h.Z,{run:n.runs[0],name:n.name}):(0,m.jsx)("span",{style:{color:l.w.Gray300},children:"None"})},j=function(e){var n=e.run;return(0,m.jsxs)(c.Z,{direction:"row",spacing:4,alignItems:"center",children:[(0,m.jsx)(p.K9,{status:n.status}),(0,m.jsx)(u.rU,{to:"/runs/".concat(n.runId),target:"_blank",rel:"noreferrer",children:(0,m.jsx)(d.fv,{children:(0,x.EI)({runId:n.runId})})})]})},v=(0,a.Ps)(r||(r=(0,s.Z)(["\n  fragment RunStatusFragment on Run {\n    id\n    runId\n    status\n  }\n"]))),y=(0,a.Ps)(i||(i=(0,s.Z)(["\n  fragment InstigationStateFragment on InstigationState {\n    id\n    selectorId\n    name\n    instigationType\n    status\n    hasStartPermission\n    hasStopPermission\n    repositoryName\n    repositoryLocationName\n    typeSpecificData {\n      ... on SensorData {\n        lastRunKey\n        lastCursor\n      }\n      ... on ScheduleData {\n        cronSchedule\n      }\n    }\n    runs(limit: 1) {\n      id\n      ...RunStatusFragment\n      ...RunTimeFragment\n    }\n    status\n    ticks(limit: 1) {\n      id\n      cursor\n      ...TickTagFragment\n    }\n    runningCount\n  }\n\n  ","\n  ","\n  ","\n"])),v,x.$X,f.dY),w=o.ZP.table.withConfig({displayName:"InstigationUtils__StatusTable",componentId:"sc-1od21u7-0"})(["font-size:13px;border-spacing:0;&&&&& tr{box-shadow:none;}&&&&& tbody > tr > td{background:transparent;box-shadow:none !important;padding:1px 0;}&&&&& tbody > tr > td:first-child{color:",";}"],l.w.Gray500)},30057:function(e,n,t){t.d(n,{b:function(){return f}});var r=t(922),i=t(32030),s=t(75497),o=t(7838),a=t(61653),l=t(34595),c=t(11831),d=(t(325),t(74549)),u=t(33902),h=t(25582),p=t(86562),x=t(32289),f=function(e){var n=e.repoAddress,t=e.showIcon,r=void 0!==t&&t,c=e.showRefresh,d=void 0===c||c,f=n.location,v=(0,u.Uz)(n);return(0,x.jsxs)(i.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center"},title:v,children:[r&&(0,x.jsx)(s.JO,{name:"folder",style:{marginRight:8},color:o.w.Gray400}),(0,x.jsx)(m,{to:(0,h.$U)(n),style:{flex:1},children:(0,x.jsx)(a.g,{text:v})}),d?(0,x.jsx)(p.s,{location:f,ChildComponent:function(e){var n=e.codeLocation,t=e.tryReload,r=e.reloading,i=e.hasReloadPermission;return(0,x.jsx)(g,{content:i?r?"Reloading\u2026":(0,x.jsxs)(x.Fragment,{children:["Reload location ",(0,x.jsx)("strong",{children:n})]}):p.H,children:r?(0,x.jsx)(l.$,{purpose:"body-text"}):(0,x.jsx)(j,{disabled:!i,onClick:t,children:(0,x.jsx)(s.JO,{name:"refresh",color:i?o.w.Gray400:o.w.Gray300})})})}}):null]})},m=(0,r.ZP)(d.rU).withConfig({displayName:"RepositoryLink__RepositoryName",componentId:"sc-1ocg9ga-0"})(["max-width:280px;"]),g=(0,r.ZP)(c.u).withConfig({displayName:"RepositoryLink__ReloadTooltip",componentId:"sc-1ocg9ga-1"})(["margin-left:4px;&&{display:block;}"]),j=r.ZP.button.withConfig({displayName:"RepositoryLink__StyledButton",componentId:"sc-1ocg9ga-2"})(["background-color:transparent;border:0;cursor:pointer;display:block;padding:0;margin:0;:disabled{cursor:default;}:focus:not(:focus-visible){outline:none;}& ","{display:block;transition:color 100ms linear;}:hover ","{color:",";}"],s.a1,s.a1,o.w.Blue500)},86476:function(e,n,t){t.d(n,{I:function(){return v}});var r=t(19065),i=t(54268),s=t(60652),o=t(7838),a=t(32030),l=t(11831),c=t(8546),d=t(61653),u=t(325),h=t(74549),p=t(9315),x=t(36243),f=t(86875),m=t(25582),g=t(72444),j=t(32289),v=function(e){var n=e.schedules,t=e.sensors,a=e.repoAddress,l=e.showSwitch,c=void 0===l||l,d=u.useState(!1),h=(0,r.Z)(d,2),p=h[0],x=h[1],f=n.length,m=t.length;if(f>1||m>1||f&&m){var v=f&&m?"".concat(f+m," schedules/sensors"):f?"".concat(f," schedules"):"".concat(m," sensors"),b=f>1?"schedule":"sensors";return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.V,{icon:b,children:(0,j.jsx)(s.Z,{onClick:function(){return x(!0)},color:o.w.Link,children:v})}),(0,j.jsx)(g.f,{isOpen:p,onClose:function(){return x(!1)},repoAddress:a,schedules:n,sensors:t,showSwitch:c})]})}return f?(0,j.jsx)(y,{schedule:n[0],repoAddress:a,showSwitch:c}):m?(0,j.jsx)(w,{sensor:t[0],repoAddress:a,showSwitch:c}):null},y=function(e){var n=e.schedule,t=e.repoAddress,r=e.showSwitch,s=n.cronSchedule,o=n.executionTimezone,d="RUNNING"===n.scheduleState.status,u=(0,j.jsx)(i.V,{intent:d?"primary":"none",icon:"schedule",children:(0,j.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,j.jsx)(h.rU,{to:(0,m.$U)(t,"/schedules/".concat(n.name)),style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,x.A)(s,o||"UTC")}),r?(0,j.jsx)(p.M,{size:"small",repoAddress:t,schedule:n}):null]})});return n.cronSchedule?(0,j.jsx)(l.u,{placement:"top-start",content:(0,j.jsxs)(a.x,{flex:{direction:"column",gap:4},children:[(0,j.jsxs)("div",{children:["Name: ",(0,j.jsx)("strong",{children:n.name})]}),(0,j.jsxs)("div",{children:["Cron:"," ",(0,j.jsxs)("span",{style:{fontFamily:c.b.monospace,marginLeft:"4px"},children:["(",n.cronSchedule,")"]})]}),(0,j.jsxs)("div",{children:["Timezone: ",(0,j.jsx)("strong",{children:n.executionTimezone||"UTC"})]})]}),children:u}):u},w=function(e){var n=e.sensor,t=e.repoAddress,r=e.showSwitch,s="RUNNING"===n.sensorState.status;return(0,j.jsx)(i.V,{intent:s?"primary":"none",icon:"sensors",children:(0,j.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,j.jsx)(h.rU,{to:(0,m.$U)(t,"/sensors/".concat(n.name)),style:{maxWidth:200,overflow:"hidden"},children:(0,j.jsx)(d.g,{text:n.name})}),r?(0,j.jsx)(f.c,{size:"small",repoAddress:t,sensor:n}):null]})})}},13688:function(e,n,t){t.d(n,{y:function(){return r}});var r="overview-collapsed-state"},51012:function(e,n,t){t.d(n,{ac:function(){return M},ux:function(){return V},Rc:function(){return G}});var r,i,s=t(99500),o=t(19065),a=t(95764),l=t(81034),c=t(47427),d=t(922),u=t(73701),h=t(3159),p=t(8803),x=t(8358),f=t(32030),m=t(75453),g=t(75497),j=t(7838),v=t(762),y=t(8412),w=t(325),b=t(39061),S=t(23300),k=t(47619),C=t(57676),N=t(39151),R=t(69305),I=t(55752),P=t(90933),E=t(26306),T=t(34595),_=t(89646),Z=t(79082),O=t(22797),U=t(28064),D=t(32289),A=function(e){var n=(0,u.a)(L,{variables:{filter:{pipelineName:e.pipelineName,tags:[{key:U.H.Partition,value:e.partitionName}]}}}),t=n.data;return n.loading||!t?(0,D.jsx)(T.$,{purpose:"section"}):"Runs"!==t.pipelineRunsOrError.__typename?(0,D.jsx)(_.t,{icon:"error",title:"Query Error",description:t.pipelineRunsOrError.message}):(0,D.jsx)("div",{children:(0,D.jsx)(O.A,{runs:t.pipelineRunsOrError.results})})},L=(0,h.Ps)(r||(r=(0,s.Z)(["\n  query PartitionRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n          runId\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),O.Z,Z.B),F=t(87188),z=t(30150),$=["assetHealth","rangeDimension","rangeDimensionIdx","assetQueryItems"],q=["repoAddress","pipelineName","partitions","partitionNames"],G=function(e){return Math.ceil(e/F.Bj)-3},M=function(e){var n,t=e.assetHealth,r=e.rangeDimension,i=e.rangeDimensionIdx,s=e.assetQueryItems,o=(0,l.Z)(e,$),d={},u=(0,c.Z)(t);try{for(u.s();!(n=u.n()).done;){var h,p=n.value;if((null===(h=p.dimensions[i])||void 0===h?void 0:h.name)===r.name){var x=p.rangesForSingleDimension(i);d[(0,b.Je)(p.assetKey)]=x}}}catch(g){u.e(g)}finally{u.f()}var f=(0,N.tc)({nodes:s,mode:C.hS.FLAT}).boxes.filter((function(e){return!!d[e.node.name]})),m={stepRows:f.map((function(e){return{x:e.x,name:e.node.name,totalFailurePercent:0,finalFailurePercent:0}})),partitions:[],partitionColumns:r.partitionKeys.map((function(e,n){return{idx:n,name:e,runsLoaded:!0,runs:[],steps:f.map((function(e){return{name:e.node.name,unix:0,color:B((0,k.h1)(d[e.node.name],n))}}))}}))};return(0,D.jsx)(K,(0,a.Z)((0,a.Z)({},o),{},{partitionNames:r.partitionKeys,data:m,showLatestRun:!1}))},B=function(e){return e.includes(S.yo.MATERIALIZED)&&e.includes(S.yo.MISSING)?"SUCCESS-MISSING":e.includes(S.yo.MATERIALIZED)?"SUCCESS":e.includes(S.yo.FAILED)&&e.includes(S.yo.MISSING)?"FAILURE-MISSING":e.includes(S.yo.FAILED)?"FAILURE":"MISSING"},V=function(e){var n,t=e.repoAddress,r=e.pipelineName,i=e.partitions,s=e.partitionNames,o=(0,l.Z)(e,q),c=(0,E.$)(t),d=(0,a.Z)((0,a.Z)({},c),{},{pipelineName:r}),h=(0,u.a)(Q,{variables:{pipelineSelector:d}}),p="PipelineSnapshot"===(null===(n=h.data)||void 0===n?void 0:n.pipelineSnapshotOrError.__typename)&&h.data.pipelineSnapshotOrError.solidHandles,x=(0,z.J2)({partitionNames:s,partitions:i,stepQuery:"",solidHandles:p});return x?(0,D.jsx)(K,(0,a.Z)((0,a.Z)({},o),{},{showLatestRun:!0,pipelineName:r,partitionNames:s,data:x})):(0,D.jsx)("span",{})},K=function(e){var n=(0,p.S)(),t=n.viewport,r=n.containerProps,i=w.useState(null),s=(0,o.Z)(i,2),l=s[0],d=s[1],u=w.useState(null),h=(0,o.Z)(u,2),j=h[0],v=h[1],y=e.setPageSize,b=e.data;w.useEffect((function(){t.width&&y(G(t.width))}),[t.width,y]);var S=b.stepRows,k=b.partitionColumns,C=function(e){var n={};return e.forEach((function(e){return n[e.name]=e})),S.map((function(e){return n[e.name]}))},N=G(t.width),R=Math.max(0,k.length-e.offset-N),I=Math.max(N,k.length-e.offset),P=k.slice(R,I),E=function(e){var n,t=Date.now()/1e3,r=1,i=(0,c.Z)(e);try{for(i.s();!(n=i.n()).done;){var s,o=n.value,a=(0,c.Z)(o.steps);try{for(a.s();!(s=a.n()).done;){var l=s.value;if(0!==l.unix){var d=[Math.min(t,l.unix),Math.max(r,l.unix)];t=d[0],r=d[1]}}}catch(u){a.e(u)}finally{a.f()}}}catch(u){i.e(u)}finally{i.f()}return[t,r]}(k),T=(0,o.Z)(E,2),_=T[0],Z=T[1],O=(0,F.G3)(k.map((function(e){return e.name})));return(0,D.jsxs)(H,{children:[(0,D.jsxs)(x.Vq,{isOpen:!!j,onClose:function(){return v(null)},style:{width:"90vw"},title:j?"".concat(j.partitionName," runs"):"",children:[(0,D.jsx)(f.x,{padding:{bottom:12},children:j&&(0,D.jsx)(A,{pipelineName:e.pipelineName,partitionName:j.partitionName})}),(0,D.jsx)(x.cN,{children:(0,D.jsx)(m.zx,{intent:"primary",autoFocus:!0,onClick:function(){return v(null)},children:"OK"})})]}),(0,D.jsxs)("div",{style:{position:"relative",display:"flex"},children:[(0,D.jsx)(F.NF,{floating:e.offset+N<e.partitionNames.length,children:(0,D.jsxs)(F.C4,{disabled:!0,style:{flex:1,flexShrink:1,overflow:"hidden"},children:[(0,D.jsx)(F.eh,{style:{height:O}}),e.showLatestRun&&(0,D.jsx)(F.p$,{style:{paddingLeft:24},children:"Last Run"}),(0,D.jsx)(W,{}),S.map((function(e){return(0,D.jsx)(F.p$,{style:{paddingLeft:8+e.x},"data-tooltip":e.name,hovered:e.name===(null===l||void 0===l?void 0:l.stepName),children:e.name},e.name)}))]})}),e.offset+N<e.partitionNames.length?(0,D.jsx)(J,{$direction:"left",onClick:function(){return e.setOffset(Math.max(0,Math.min(e.offset+N-1,e.partitionNames.length-N)))},children:(0,D.jsx)(g.JO,{name:"chevron_left"})}):null,(0,D.jsx)("div",(0,a.Z)((0,a.Z)({style:{flex:1,overflow:"hidden",position:"relative"}},r),{},{children:(0,D.jsx)("div",{style:{width:k.length*F.Bj,position:"absolute",height:"100%",right:0,zIndex:1},children:P.map((function(n,t){return(0,D.jsxs)(F.C4,{style:{zIndex:P.length-t,width:F.Bj,position:"absolute",right:(N-t)*F.Bj+20},children:[(0,D.jsx)(F.kD,{$height:O,label:n.name}),e.showLatestRun&&(0,D.jsx)(F.p$,{style:{textAlign:"center"},children:(0,D.jsx)(X,{runs:n.runs,runsLoaded:n.runsLoaded,minUnix:_,maxUnix:Z,hovered:l,setHovered:d,setFocused:v,partitionName:n.name},"".concat(n.name,":__full_status"))}),(0,D.jsx)(W,{}),C(n.steps).map((function(e){return(0,D.jsx)(X,{step:e,runs:n.runs,runsLoaded:n.runsLoaded,minUnix:_,maxUnix:Z,hovered:l,setHovered:d,setFocused:v,partitionName:n.name},e.name)}))]},n.name)}))})})),e.offset>0?(0,D.jsx)(J,{$direction:"right",onClick:function(){return e.setOffset(Math.max(0,e.offset-N))},children:(0,D.jsx)(g.JO,{name:"chevron_right"})}):null]})]})},J=d.ZP.div.withConfig({displayName:"PartitionStepStatus__PagerControl",componentId:"fy1jed-0"})(["width:30px;position:absolute;border:1px solid ",";border-radius:3px;display:flex;justify-content:center;align-items:center;top:calc(50% - 15px);bottom:calc(50% - 15px);"," background:white;z-index:10;justify-content:center;align-items:center;cursor:pointer;display:flex;&:hover{background:#ececec;}"],j.w.KeylineGray,(function(e){return"left"===e.$direction?"left: 315px;":"right: 0;"})),H=d.ZP.div.withConfig({displayName:"PartitionStepStatus__PartitionRunMatrixContainer",componentId:"fy1jed-1"})(["display:block;"]),W=d.ZP.div.withConfig({displayName:"PartitionStepStatus__Divider",componentId:"fy1jed-2"})(["height:1px;width:100%;margin-top:5px;border-top:1px solid ",";"],j.w.KeylineGray),Q=(0,h.Ps)(i||(i=(0,s.Z)(["\n  query PartitionStepStatusPipelineQuery($pipelineSelector: PipelineSelector) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          ...PartitionMatrixSolidHandleFragment\n        }\n      }\n    }\n  }\n\n  ","\n"])),z.Tg),Y=JSON.stringify({top:20,left:10}),X=function(e){var n,t=e.step,r=e.runs,i=e.runsLoaded,s=e.hovered,a=e.setHovered,l=e.setFocused,c=e.partitionName,d=w.useState(!1),u=(0,o.Z)(d,2),h=u[0],p=u[1];if(i)if(t)n=t.color.toLowerCase();else if(0===r.length)n="empty";else{var x=r[r.length-1].status;n=x===R.VOA.CANCELED?"failure":x.toLowerCase()}else n="loading";var f=(0,D.jsx)("div",{className:"square ".concat(n),onMouseEnter:function(){return a({stepName:null===t||void 0===t?void 0:t.name,partitionName:c})},onMouseLeave:function(){return a(null)},"data-tooltip":i&&!t?1===r.length?"1 run":"".concat(r.length," runs"):void 0,"data-tooltip-style":Y});return h||r.length&&(null===s||void 0===s?void 0:s.stepName)===(null===t||void 0===t?void 0:t.name)&&(null===s||void 0===s?void 0:s.partitionName)===c?(0,D.jsx)(v.J,{interactionKind:"click",placement:"bottom-start",onOpening:function(){return p(!0)},onClosed:function(){return p(!1)},content:(0,D.jsxs)(y.v2,{children:[(0,D.jsx)(P.U,{icon:"open_in_new",text:"Show logs from last run",to:(0,I.tA)(r[r.length-1],{stepKey:t?t.name:null})}),(0,D.jsx)(y.sN,{icon:"settings_backup_restore",text:"View runs (".concat(r.length,")"),onClick:function(){return l({stepName:null===t||void 0===t?void 0:t.name,partitionName:c})}})]}),children:f}):f}},87188:function(e,n,t){t.d(n,{Bj:function(){return a},C4:function(){return d},p$:function(){return u},eh:function(){return h},G3:function(){return p},kD:function(){return x},AQ:function(){return m},NF:function(){return g}});var r=t(59019),i=t(922),s=t(7838),o=(t(325),t(32289)),a=32,l={SUCCESS:s.w.Green500,SUCCESS_SKIPPED:s.w.Green200,FAILURE:s.w.Red500,FAILURE_SKIPPED:s.w.Red200,SKIPPED:s.w.Yellow500,IN_PROGRESS:"#eee"},c=function(e){return"linear-gradient(to left, ".concat(e," 0%, ").concat(e," 100%)")},d=i.ZP.div.withConfig({displayName:"RunMatrixUtils__GridColumn",componentId:"sc-2pzmq3-0"})(["display:flex;flex-direction:column;flex-shrink:0;line-height:0;"," "," "," "," .cell{height:","px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:12px;padding:2px;box-sizing:border-box;line-height:initial;}.square{width:20px;height:20px;margin:6px;display:inline-block;&:hover:not(.empty):before{box-shadow:"," 0 0 0 3px;}&:before{content:' ';background:rgba(248,247,245,1);border-radius:10px;display:inline-block;width:20px;height:20px;}&.loading{&:before{background:radial-gradient(white 0%,white 45%,rgba(248,247,245,1) 60%);}}&.success{&:before{background:",";}}&.failure{&:before{background:",";}}&.success-missing{&:before{background:",";}}&.failure-missing{&:before{background:",";}}&.failure-blank{&:before{background:",";}}&.skipped{&:before{background:",";}}}"],(function(e){var n=e.disabled,t=e.focused,r=e.multiselectFocused,i=e.hovered;return!n&&!t&&!r&&"&".concat(i?"":":hover"," {\n      background: ").concat(s.w.Gray100,";\n      cursor: default;\n      ").concat(f," {\n        background: ").concat(s.w.White,";\n        .tilted {\n          background: ").concat(s.w.Gray100,";\n        }\n      }\n      .square {\n        filter: brightness(95%);\n      }\n    }")}),(function(e){return e.disabled&&"\n      ".concat(f," {\n        color: ").concat(s.w.Gray400,"\n      }\n    ")}),(function(e){return e.focused&&"background: ".concat(s.w.Blue500,";\n    ").concat(u," {\n      color: white;\n    }\n    ").concat(f," {\n      background: ").concat(s.w.White,";\n      color: white;\n      .tilted {\n        background: ").concat(s.w.Blue500,";\n      }\n    }\n  }")}),(function(e){return e.multiselectFocused&&"background: ".concat(s.w.Blue200,";\n    ").concat(u," {\n      color: white;\n    }\n    ").concat(f," {\n      background: ").concat(s.w.White,";\n      color: white;\n      .tilted {\n        background: ").concat(s.w.Blue200,";\n      }\n    }\n  }")}),a,s.w.Blue500,l.SUCCESS,l.FAILURE,l.SUCCESS_SKIPPED,l.FAILURE_SKIPPED,l.FAILURE_SKIPPED,l.SKIPPED),u=i.ZP.div.withConfig({displayName:"RunMatrixUtils__LeftLabel",componentId:"sc-2pzmq3-1"})(["height:","px;line-height:","px;font-size:13px;overflow:hidden;text-overflow:ellipsis;position:relative;background:",";"],a,a,(function(e){var n=e.hovered;return[n?s.w.Gray100:"transparent"].map(c).join(",")})),h=i.ZP.div.withConfig({displayName:"RunMatrixUtils__TopLabel",componentId:"sc-2pzmq3-2"})(["position:relative;height:70px;padding:4px;padding-bottom:0;min-width:15px;align-items:flex-end;display:flex;"]);function p(e){var n=Math.max.apply(Math,(0,r.Z)(e.map((function(e){return e.length}))));return 15+(n>10?4.9*n:55)}var x=function(e){var n=e.label,t=e.$height;return(0,o.jsx)(f,{style:{height:t-15},children:(0,o.jsx)("div",{className:"tilted",children:n})})},f=i.ZP.div.withConfig({displayName:"RunMatrixUtils__TopLabelTiltedInner",componentId:"sc-2pzmq3-3"})(["position:relative;height:unset;padding:4px;padding-bottom:0;min-width:15px;margin-bottom:","px;align-items:end;display:flex;line-height:normal;& > div.tilted{font-size:12px;white-space:nowrap;position:absolute;bottom:-20px;left:0;padding:2px;padding-right:4px;padding-left:0;transform:rotate(-","deg);transform-origin:top left;}"],15,41),m=330,g=i.ZP.div.withConfig({displayName:"RunMatrixUtils__GridFloatingContainer",componentId:"sc-2pzmq3-4"})(["display:flex;border-right:1px solid ",";padding-bottom:16px;width:","px;z-index:1;",";"],s.w.Gray200,m,(function(e){return e.floating?"box-shadow: 1px 0 4px rgba(0, 0, 0, 0.15)":""}))},30150:function(e,n,t){t.d(n,{J2:function(){return y},iv:function(){return w},Tg:function(){return b}});var r,i,s=t(99500),o=t(95764),a=t(3159),l=t(24972),c=t(325),d=t(25496),u=t(47072),h=t(39151),p=t(69305),x=t(27218),f=t(2112),m=new Set([p.SGm.IN_PROGRESS,p.SGm.SKIPPED]);function g(e){return e.startTime||0}function j(e,n){return g(e)-g(n)}function v(e,n){var t=new RegExp(e+"\\[.*\\]");return n===e||n==="".concat(e,".compute")||n.match(t)}var y=function(e){var n=c.useRef();if(!e.solidHandles)return null;if(n.current&&(0,l.shallowCompareKeys)(e,n.current.inputs))return n.current.result;var t=(0,x.i)(e.solidHandles).map((function(e){return e.solid})),r=(0,d.V)(t,e.stepQuery),i=function(e,n,t,r){var i={};t.forEach((function(e){e.runs.sort(j),i[e.name]=e}));var s=n.map((function(n,t){var r=i[n]||{name:n,runsLoaded:!1,runs:[]},s=e.boxes.map((function(e){var n,t=e.node,i={name:t.name,color:"MISSING",unix:0};if(!r.runs.length)return i;var s,o=r.runs[r.runs.length-1],a=null===(n=o.stepStats.find((function(e){return v(t.name,e.stepKey)})))||void 0===n?void 0:n.status;if(r.runs.length>1&&(!a||m.has(a)))for(var l=r.runs.length-2;l>=0&&!s;){var c,d=null===(c=r.runs[l].stepStats.find((function(e){return v(t.name,e.stepKey)})))||void 0===c?void 0:c.status;if(d&&!m.has(d)){s=d;break}l--}if(!a&&!s)return i;var u=!a||m.has(a)?"".concat(s,"-MISSING"):a;return{name:t.name,unix:g(o),color:u}}));return(0,o.Z)((0,o.Z)({},r),{},{steps:s,idx:t})})),a=s.filter((function(e){return e.runs.length>0})).length,l=e.boxes.map((function(e,n){var t=s.filter((function(e){return e.steps[n].color.includes("FAILURE")})),r=s.filter((function(e){return e.steps[n].color.endsWith("FAILURE")}));return{x:e.x,name:e.node.name,totalFailurePercent:a?Math.round(t.length/a*100):0,finalFailurePercent:a?Math.round(r.length/a*100):0}}));if(null!==r&&void 0!==r&&r.showFailuresAndGapsOnly){for(var c=function(e){0===l[e].finalFailurePercent&&(l.splice(e,1),s.forEach((function(n){return n.steps.splice(e,1)})))},d=l.length-1;d>=0;d--)c(d);for(var u=s.length-1;u>=0;u--)(0===s[u].runs.length||s[u].steps.every((function(e){return e.color.includes("SUCCESS")})))&&s.splice(u,1)}return{stepRows:l,partitions:t,partitionColumns:s}}((0,h.tc)({nodes:r.all,mode:u.hS.FLAT}),e.partitionNames,e.partitions,e.options);return n.current={result:i,inputs:e},i},w=(0,a.Ps)(r||(r=(0,s.Z)(["\n  fragment PartitionMatrixStepRunFragment on Run {\n    id\n    runId\n    status\n    startTime\n    endTime\n    stepStats {\n      stepKey\n      startTime\n      endTime\n      status\n    }\n    tags {\n      key\n      value\n    }\n  }\n"]))),b=(0,a.Ps)(i||(i=(0,s.Z)(["\n  fragment PartitionMatrixSolidHandleFragment on SolidHandle {\n    handleID\n    solid {\n      name\n      definition {\n        name\n      }\n      inputs {\n        dependsOn {\n          solid {\n            name\n          }\n        }\n      }\n      outputs {\n        dependedBy {\n          solid {\n            name\n          }\n        }\n      }\n    }\n    ...GraphExplorerSolidHandleFragment\n  }\n\n  ","\n"])),f.Q)},73974:function(e,n,t){t.d(n,{T:function(){return v}});var r,i=t(99500),s=t(85358),o=t(95764),a=t(59019),l=t(19065),c=t(95550),d=t.n(c),u=t(31522),h=t(3159),p=t(325),x=t(79082),f=t(69305),m=t(28064),g=t(30150),j={runs:[],partitionNames:[],loading:!1,loadingCursorIdx:0};function v(e){var n=e.partitionSetName,t=e.partitionTagName,r=e.partitionNames,i=e.pageSize,c=e.runsFilter,h=e.jobName,x=e.repositorySelector,g=e.offset,v=e.skipQuery,w=(0,u.x)(),b=p.useRef(0),S=p.useState(j),k=(0,l.Z)(S,2),C=k[0],N=k[1],R=JSON.stringify([].concat((0,a.Z)(c.map((function(e){var n=e.value.split("="),t=(0,l.Z)(n,2);return{key:t[0],value:t[1]}}))),[{key:m.H.RepositoryLabelTag,value:"".concat(x.repositoryName,"@").concat(x.repositoryLocationName)}]));return p.useEffect((function(){var e=b.current+1;b.current=e;var l=JSON.parse(R);N((function(e){return(0,o.Z)((0,o.Z)({},e),{},{runs:[],loading:!0})}));var c=function(){var c=(0,s.Z)(d().mark((function c(){var u,p,x,j,v;return d().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(b.current===e){c.next=2;break}return c.abrupt("return");case 2:u=r.length-(g||0),p=Math.max(0,u-i),N((function(e){return(0,o.Z)((0,o.Z)({},e),{},{partitionNames:r,loadingCursorIdx:u})})),5,x=d().mark((function i(){var s,c,p;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=Math.max(u-5,0),c=r.slice(s,u),i.next=4,Promise.all(c.map((function(e){var r={key:m.H.PartitionSet,value:n},i={key:t,value:e},s=h?{pipelineName:h,tags:[].concat((0,a.Z)(l),[i])}:{tags:[].concat((0,a.Z)(l),[i,r])};return y(w,{limit:1e3,filter:s})})));case 4:if(p=i.sent,b.current===e){i.next=7;break}return i.abrupt("return",{v:void 0});case 7:u=s,N((function(e){var n;return(0,o.Z)((0,o.Z)({},e),{},{runs:(n=(0,a.Z)(e.runs)).concat.apply(n,(0,a.Z)(p)),loading:u>0,loadingCursorIdx:u})}));case 9:case"end":return i.stop()}}),i)}));case 7:if(!(u>p)){c.next=14;break}return c.delegateYield(x(),"t0",9);case 9:if("object"!==typeof(j=c.t0)){c.next=12;break}return c.abrupt("return",j.v);case 12:c.next=7;break;case 14:v=setInterval((0,s.Z)(d().mark((function i(){var s,c,u;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(b.current===e){i.next=2;break}return i.abrupt("return",clearInterval(v));case 2:return N((function(e){return(0,o.Z)((0,o.Z)({},e),{},{loading:!0})})),i.next=5,y(w,{limit:10,filter:{tags:[].concat((0,a.Z)(l),[{key:m.H.PartitionSet,value:n}])}});case 5:return s=i.sent,i.next=8,y(w,{filter:{statuses:[f.VOA.STARTED],tags:[].concat((0,a.Z)(l),[{key:m.H.PartitionSet,value:n}])}});case 8:if(c=i.sent,b.current===e){i.next=11;break}return i.abrupt("return",clearInterval(v));case 11:u=[].concat((0,a.Z)(c),(0,a.Z)(s)).filter((function(e){return e.tags.find((function(e){return e.key===t&&r.includes(e.value)}))})),N((function(e){var n=e.runs.filter((function(e){return!u.some((function(n){return n.runId===e.runId}))})).concat(u);return(0,o.Z)((0,o.Z)({},e),{},{loading:!1,runs:n})}));case 13:case"end":return i.stop()}}),i)}))),1e4);case 15:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return v||c(),function(){b.current+=1}}),[i,w,n,t,R,h,g,r,v]),function(e,n){var t=[],r={};return e.partitionNames.forEach((function(n,i){r[n]={name:n,runsLoaded:i>=e.loadingCursorIdx,runs:[]},t.push(r[n])})),e.runs.forEach((function(e){var t,i,s=(null===(t=e.tags.find((function(e){return e.key===n})))||void 0===t?void 0:t.value)||"";null===(i=r[s])||void 0===i||i.runs.push(e)})),t}(C,t)}function y(e,n){return w.apply(this,arguments)}function w(){return(w=(0,s.Z)(d().mark((function e(n,t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.query({fetchPolicy:"network-only",query:b,variables:t});case 2:return r=e.sent,e.abrupt("return","Runs"===r.data.pipelineRunsOrError.__typename&&r.data.pipelineRunsOrError.results||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=(0,h.Ps)(r||(r=(0,i.Z)(["\n  query PartitionStepLoaderQuery($filter: RunsFilter!, $cursor: String, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, cursor: $cursor, limit: $limit) {\n      ... on Runs {\n        results {\n          id\n          ...PartitionMatrixStepRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),g.iv,x.B)},5351:function(e,n,t){t.d(n,{r:function(){return B},$:function(){return q}});var r,i,s=t(99500),o=t(95764),a=t(922),l=t(73701),c=t(3159),d=t(32030),u=t(7838),h=t(30804),p=t(31112),x=t(12745),f=t(60736),m=t(6466),g=t(60652),j=t(17912),v=t(11831),y=t(54268),w=t(55113),b=t(89646),S=t(75497),k=t(61653),C=(t(325),t(74549)),N=t(27601),R=t(14156),I=t(79082),P=t(78093),E=t(86655),T=t(82348),_=t(30057),Z=t(53857),O=t(50741),U=t(26306),D=t(25582),A=t(31269),L=t(37286),F=t(32289),z={configuration:"Configuration",uses:"Uses"},$=function(e){var n=e.repoAddress,t=e.resourceName,r=e.numUses,i=(0,N.$B)(["/locations/:repoPath/resources/:name/:tab?"]),s=(null===i||void 0===i?void 0:i.params.tab)&&z[null===i||void 0===i?void 0:i.params.tab]||"Configuration";return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(A.mQ,{size:"large",selectedTabId:s,children:[(0,F.jsx)(L.f,{id:"Configuration",title:"Configuration",to:(0,D.$U)(n,"/resources/".concat(t))},"configuration"),(0,F.jsx)(L.f,{id:"Uses",title:(0,F.jsxs)(d.x,{flex:{gap:4,alignItems:"center"},children:["Uses",(0,F.jsx)(y.V,{intent:"none",minimal:!0,children:r})]}),to:(0,D.$U)(n,"/resources/".concat(t,"/uses"))},"uses")]})})},q=function(e){return(null===e||void 0===e?void 0:e.split(".").pop())||null},G=function(e){return e?e.name.startsWith("_nested_")?q(null===e||void 0===e?void 0:e.resourceType):e.name:null},M=function(e){return(0,F.jsx)(d.x,{padding:{left:24,vertical:16},background:u.w.Gray50,border:{width:1,color:u.w.KeylineGray,side:"all"},children:e.children})},B=function(e){var n,t,r,i;(0,P.Px)();var s=e.repoAddress,a=(0,N.UO)().resourceName;(0,T.j)("Resource: ".concat(a));var c=(0,o.Z)((0,o.Z)({},(0,U.$)(s)),{},{resourceName:a}),w=(0,l.a)(Y,{variables:{resourceSelector:c}}),b="ResourceDetails"===(null===(n=w.data)||void 0===n?void 0:n.topLevelResourceDetailsOrError.__typename)&&G(null===(t=w.data)||void 0===t?void 0:t.topLevelResourceDetailsOrError)||a,S="ResourceDetails"===(null===(r=w.data)||void 0===r?void 0:r.topLevelResourceDetailsOrError.__typename)?w.data.topLevelResourceDetailsOrError.parentResources.length+w.data.topLevelResourceDetailsOrError.assetKeysUsing.length+w.data.topLevelResourceDetailsOrError.jobsOpsUsing.length:0,k=null===(i=(0,N.$B)(["/locations/:repoPath/resources/:name/:tab?"]))||void 0===i?void 0:i.params.tab;return(0,F.jsxs)(h.T,{style:{height:"100%",overflow:"hidden"},children:[(0,F.jsx)(p.m,{title:(0,F.jsx)(x.X6,{children:b}),tabs:(0,F.jsx)($,{repoAddress:s,resourceName:a,numUses:S})}),(0,F.jsx)(O.g,{queryResult:w,allowStaleData:!0,children:function(e){var n=e.topLevelResourceDetailsOrError;if("ResourceDetails"!==n.__typename){var t=null;return"PythonError"===n.__typename&&(t=n.message),(0,F.jsx)(f.b,{intent:"warning",title:(0,F.jsxs)(m.Z,{direction:"row",spacing:4,children:[(0,F.jsx)("div",{children:"Could not load resource."}),t&&(0,F.jsx)(g.Z,{color:u.w.Link,underline:"always",onClick:function(){(0,R._)({title:"Python error",body:t})},children:"View error"})]})})}var r=q(n.resourceType);return(0,F.jsx)("div",{style:{height:"100%",display:"flex"},children:(0,F.jsx)(j.OS,{identifier:"explorer",firstInitialPercent:50,firstMinSize:400,first:(0,F.jsx)(d.x,{padding:{bottom:48},style:{overflowY:"auto"},children:"uses"===k?(0,F.jsx)(K,{resourceDetails:n,repoAddress:s,numUses:S}):(0,F.jsx)(V,{resourceDetails:n,repoAddress:s})}),second:(0,F.jsx)(H,{children:(0,F.jsxs)(W,{children:[(0,F.jsxs)(d.x,{flex:{gap:4,direction:"column"},margin:{left:24,right:12,vertical:16},children:[(0,F.jsx)(x.X6,{children:b}),(0,F.jsx)(v.u,{content:n.resourceType||"",children:(0,F.jsx)(x.fv,{children:r})})]}),(0,F.jsx)(Z.pC,{title:"Definition",children:(0,F.jsx)(d.x,{padding:{vertical:16,horizontal:24},children:(0,F.jsxs)(y.V,{icon:"resource",children:["Resource in"," ",(0,F.jsx)(_.b,{repoAddress:s,showRefresh:!1})]})})}),n.description?(0,F.jsx)(Z.pC,{title:"Description",children:(0,F.jsx)(d.x,{padding:{vertical:16,horizontal:24},children:n.description})}):null]})})})})}})]})},V=function(e){var n=e.resourceDetails,t=e.repoAddress,r=Object.fromEntries(n.configuredValues.map((function(e){return[e.key,{value:e.value,type:e.type}]}))),i=n.nestedResources;return(0,F.jsxs)(F.Fragment,{children:[i.length>0&&(0,F.jsxs)(d.x,{children:[(0,F.jsx)(M,{children:(0,F.jsx)(x.pm,{children:"Resource dependencies"})}),(0,F.jsxs)(w.i,{children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{style:{width:120},children:"Key"}),(0,F.jsx)("th",{style:{width:180},children:"Resource"})]})}),(0,F.jsx)("tbody",{children:i.map((function(e){var n="TOP_LEVEL"===e.type&&e.resource?(0,F.jsx)(J,{url:(0,D.$U)(t,"/resources/".concat(e.name)),name:G(e.resource)||"",description:e.resource.description||void 0}):(0,F.jsx)(J,{name:e.name});return(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsx)("strong",{children:e.name})}),(0,F.jsx)("td",{colSpan:2,children:n})]},e.name)}))})]})]}),(0,F.jsxs)(d.x,{children:[(0,F.jsx)(M,{children:(0,F.jsx)(x.pm,{children:"Configuration"})}),(0,F.jsxs)(w.i,{children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{style:{width:120},children:"Key"}),(0,F.jsx)("th",{style:{width:90},children:"Type"}),(0,F.jsx)("th",{style:{width:90},children:"Value"})]})}),(0,F.jsx)("tbody",{children:0===n.configFields.length?(0,F.jsx)("tr",{children:(0,F.jsx)("td",{colSpan:3,children:(0,F.jsx)(d.x,{padding:{vertical:8},children:(0,F.jsx)(b.t,{icon:"settings",title:"No configuration",description:"This resource has no configuration fields."})})})}):n.configFields.map((function(e){var n,t=e.defaultValueAsJson,i=r.hasOwnProperty(e.name)?r[e.name].type:null,s=r.hasOwnProperty(e.name)?r[e.name].value:t,o="VALUE"===i&&t===s;return(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsxs)(d.x,{flex:{direction:"column",gap:4,alignItems:"flex-start"},children:[(0,F.jsx)("strong",{children:e.name}),(0,F.jsx)("div",{style:{fontSize:12,color:u.w.Gray700},children:e.description})]})}),(0,F.jsx)("td",{children:(n=e.configTypeKey,"StringSourceType"===n?"String":"IntSourceType"===n?"Int":"BoolSourceType"===n?"Bool":n)}),(0,F.jsx)("td",{children:(0,F.jsxs)(d.x,{flex:{direction:"row",gap:16},children:[(0,F.jsx)(v.u,{content:(0,F.jsxs)(F.Fragment,{children:["Default: ",t]}),canShow:!o,children:"ENV_VAR"===i?(0,F.jsx)(y.V,{children:s}):s}),o&&(0,F.jsx)(y.V,{children:"Default"}),"ENV_VAR"===i&&(0,F.jsx)(y.V,{intent:"success",children:"Env var"})]})})]},e.name)}))})]})]})]})},K=function(e){var n=e.resourceDetails,t=e.repoAddress;if(0===e.numUses)return(0,F.jsx)(d.x,{padding:{vertical:16},children:(0,F.jsx)(b.t,{icon:"list",title:"No uses",description:"This resource is not used by any assets or resources."})});var r=n.parentResources;return(0,F.jsxs)(F.Fragment,{children:[r.length>0&&(0,F.jsxs)(d.x,{children:[(0,F.jsx)(M,{children:(0,F.jsx)(x.pm,{children:"Parent resources"})}),(0,F.jsxs)(w.i,{children:[(0,F.jsx)("thead",{children:(0,F.jsx)("tr",{children:(0,F.jsx)("th",{children:"Resource"})})}),(0,F.jsx)("tbody",{children:r.map((function(e){return e.resource&&(0,F.jsx)("tr",{children:(0,F.jsx)("td",{children:(0,F.jsx)(J,{url:(0,D.$U)(t,"/resources/".concat(e.name)),name:G(e.resource)||"",description:e.resource.description||void 0})})},e.name)}))})]})]}),n.assetKeysUsing.length>0&&(0,F.jsxs)(d.x,{children:[(0,F.jsx)(M,{children:(0,F.jsx)(x.pm,{children:"Assets"})}),(0,F.jsxs)(w.i,{children:[(0,F.jsx)("thead",{children:(0,F.jsx)("tr",{children:(0,F.jsx)("th",{children:"Asset key"})})}),(0,F.jsx)("tbody",{children:n.assetKeysUsing.map((function(e){return(0,F.jsx)("tr",{children:(0,F.jsx)("td",{children:(0,F.jsx)(E.R,{path:e.path,icon:"asset"},e.path.join("/"))})},e.path.join("/"))}))})]})]}),n.jobsOpsUsing.length>0&&(0,F.jsxs)(d.x,{children:[(0,F.jsx)(M,{children:(0,F.jsx)(x.pm,{children:"Jobs"})}),(0,F.jsxs)(w.i,{children:[(0,F.jsx)("thead",{children:(0,F.jsxs)("tr",{children:[(0,F.jsx)("th",{children:"Job name"}),(0,F.jsx)("th",{children:"Ops"})]})}),(0,F.jsx)("tbody",{children:n.jobsOpsUsing.map((function(e){return(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{children:(0,F.jsxs)(d.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:[(0,F.jsx)(S.JO,{name:"job",color:u.w.Gray400}),(0,F.jsx)(C.rU,{to:(0,D.$U)(t,"/jobs/".concat(e.job.name)),children:(0,F.jsx)(k.g,{text:e.job.name})})]})}),(0,F.jsx)("td",{children:(0,F.jsx)(d.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:e.opsUsing.map((function(n){return(0,F.jsxs)(d.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:[(0,F.jsx)(S.JO,{name:"op",color:u.w.Gray400}),(0,F.jsx)(C.rU,{to:(0,D.$U)(t,"/jobs/".concat(e.job.name,"/").concat(n.handleID.split(".").join("/"))),children:(0,F.jsx)(k.g,{text:n.solid.name})})]},n.handleID)}))})})]},e.job.name)}))})]})]})]})},J=function(e){var n=e.url,t=e.name,r=e.description;return(0,F.jsxs)(d.x,{flex:{direction:"column"},children:[(0,F.jsxs)(d.x,{flex:{direction:"row",alignItems:"center",gap:4},style:{maxWidth:"100%"},children:[(0,F.jsx)(S.JO,{name:"resource",color:u.w.Blue700}),(0,F.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:n?(0,F.jsx)(C.rU,{to:n,style:{overflow:"hidden"},children:(0,F.jsx)(k.g,{text:t})}):(0,F.jsx)(k.g,{text:t})})]}),(0,F.jsx)(x.aU,{children:r})]})},H=a.ZP.div.withConfig({displayName:"ResourceRoot__RightInfoPanel",componentId:"sc-1ny0lic-0"})(["position:relative;height:100%;min-height:0;overflow:hidden;display:flex;flex-direction:column;background:",";"],u.w.White),W=a.ZP.div.withConfig({displayName:"ResourceRoot__RightInfoPanelContent",componentId:"sc-1ny0lic-1"})(["flex:1;overflow-y:auto;"]),Q=(0,c.Ps)(r||(r=(0,s.Z)(["\n  fragment ResourceDetailsFragment on ResourceDetails {\n    name\n    description\n    configFields {\n      name\n      description\n      configTypeKey\n      isRequired\n      defaultValueAsJson\n    }\n    configuredValues {\n      key\n      value\n      type\n    }\n    nestedResources {\n      name\n      type\n      resource {\n        name\n        resourceType\n        description\n      }\n    }\n    parentResources {\n      name\n      resource {\n        name\n        resourceType\n        description\n      }\n    }\n    assetKeysUsing {\n      path\n    }\n    jobsOpsUsing {\n      job {\n        id\n        name\n      }\n      opsUsing {\n        handleID\n        solid {\n          name\n        }\n      }\n    }\n    resourceType\n  }\n"]))),Y=(0,c.Ps)(i||(i=(0,s.Z)(["\n  query ResourceRootQuery($resourceSelector: ResourceSelector!) {\n    topLevelResourceDetailsOrError(resourceSelector: $resourceSelector) {\n      ...ResourceDetailsFragment\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"])),Q,I.B)},87478:function(e,n,t){t.d(n,{K:function(){return m},f:function(){return g}});var r=t(922),i=t(7838),s=t(32030),o=t(75497),a=t(61653),l=t(12745),c=t(11831),d=(t(325),t(74549)),u=t(3580),h=t(25582),p=t(5351),x=t(32289),f="1.5fr 1fr 1fr",m=function(e){var n=e.name,t=e.description,r=e.repoAddress,f=e.start,m=e.height,g=e.resourceType,v=e.parentResources,y=e.jobsOpsUsing,w=e.assetKeysUsing,b=(0,p.$)(g),S=v.length+y.length+w.length;return(0,x.jsx)(u.X2,{$height:m,$start:f,children:(0,x.jsxs)(j,{border:{side:"bottom",width:1,color:i.w.KeylineGray},children:[(0,x.jsx)(u.E5,{children:(0,x.jsxs)(s.x,{flex:{direction:"column",gap:4},children:[(0,x.jsxs)(s.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,x.jsx)(o.JO,{name:"resource",color:i.w.Gray400}),(0,x.jsx)("span",{style:{fontWeight:500},children:(0,x.jsx)(d.rU,{to:(0,h.$U)(r,"/resources/".concat(n)),children:(0,x.jsx)(a.g,{text:n})})})]}),(0,x.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,x.jsx)(l.YS,{style:{color:i.w.Gray500,whiteSpace:"nowrap"},children:t})})]})}),(0,x.jsx)(u.E5,{children:(0,x.jsx)(c.u,{content:g,children:(0,x.jsx)(l.fv,{children:b})})}),(0,x.jsx)(u.E5,{children:(0,x.jsx)(d.rU,{to:(0,h.$U)(r,"/resources/".concat(n,"/uses")),children:S})})]})})},g=function(){return(0,x.jsxs)(s.x,{border:{side:"horizontal",width:1,color:i.w.KeylineGray},style:{display:"grid",gridTemplateColumns:f,height:"32px",fontSize:"12px",color:i.w.Gray600},children:[(0,x.jsx)(u.qN,{children:"Name"}),(0,x.jsx)(u.qN,{children:"Type"}),(0,x.jsx)(u.qN,{children:"Uses"})]})},j=(0,r.ZP)(s.x).withConfig({displayName:"VirtualizedResourceRow__RowGrid",componentId:"sc-8ip3bw-0"})(["display:grid;grid-template-columns:",";height:100%;"],f)},85827:function(e,n,t){t.d(n,{L:function(){return P},g:function(){return I}});var r,i,s=t(99500),o=t(19065),a=t(73701),l=t(3159),c=t(32030),d=t(34595),u=t(7838),h=t(89646),p=t(88863),x=t(325),f=t(79082),m=t(47678),g=t(78093),j=t(82348),v=t(68112),y=t(33902),w=t(26306),b=t(95764),S=t(519),k=t(3580),C=t(87478),N=t(32289),R=function(e){var n=e.repoAddress,t=e.resources,r=x.useRef(null),i=(0,S.useVirtualizer)({count:t.length,getScrollElement:function(){return r.current},estimateSize:function(){return 64},overscan:10}),s=i.getTotalSize(),o=i.getVirtualItems();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(C.f,{}),(0,N.jsx)("div",{style:{overflow:"hidden"},children:(0,N.jsx)(k.W2,{ref:r,children:(0,N.jsx)(k.Nh,{$totalHeight:s,children:o.map((function(e){var r=e.index,i=e.key,s=e.size,o=e.start,a=t[r];return(0,N.jsx)(C.K,(0,b.Z)({repoAddress:n,height:s,start:o},a),i)}))})})})]})},I=function(e){var n=e.repoAddress;(0,g.Px)();var t=(0,y.Uz)(n);(0,j.j)("Resources: ".concat(t));var r=x.useState(""),i=(0,o.Z)(r,2),s=i[0],l=i[1],f=(0,w.$)(n),b=(0,a.a)(E,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:f}}),S=b.data,k=b.loading,C=(0,m.C4)(b,m.dT),I=s.trim().toLocaleLowerCase(),P=I.length>0,T=x.useMemo((function(){return"Repository"===(null===S||void 0===S?void 0:S.repositoryOrError.__typename)?S.repositoryOrError.allTopLevelResourceDetails:[]}),[S]),_=x.useMemo((function(){var e=I.toLocaleLowerCase();return T.filter((function(n){return n.name.toLocaleLowerCase().includes(e)}))}),[T,I]);return(0,N.jsxs)(c.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,N.jsx)(v.h,{repoAddress:n,tab:"resources",refreshState:C,queryData:b}),(0,N.jsx)(c.x,{padding:{horizontal:24,vertical:16},children:(0,N.jsx)(p.oi,{icon:"search",value:s,onChange:function(e){return l(e.target.value)},placeholder:"Filter by resource name\u2026",style:{width:"340px"}})}),k&&!S?(0,N.jsx)(c.x,{padding:64,children:(0,N.jsx)(d.$,{purpose:"page"})}):k&&!S?(0,N.jsx)(c.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,N.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,N.jsx)(d.$,{purpose:"body-text"}),(0,N.jsx)("div",{style:{color:u.w.Gray600},children:"Loading resources\u2026"})]})}):_.length?(0,N.jsx)(R,{repoAddress:n,resources:_}):P?(0,N.jsx)(c.x,{padding:{top:20},children:(0,N.jsx)(h.t,{icon:"search",title:"No matching resources",description:(0,N.jsxs)("div",{children:["No resources matching ",(0,N.jsx)("strong",{children:s})," were found in ",t]})})}):(0,N.jsx)(c.x,{padding:{top:20},children:(0,N.jsx)(h.t,{icon:"search",title:"No resources",description:"No resources were found in ".concat(t)})})]})},P=(0,l.Ps)(r||(r=(0,s.Z)(["\n  fragment ResourceEntryFragment on ResourceDetails {\n    name\n    description\n    resourceType\n    parentResources {\n      name\n    }\n    assetKeysUsing {\n      path\n    }\n    jobsOpsUsing {\n      job {\n        id\n      }\n    }\n  }\n"]))),E=(0,l.Ps)(i||(i=(0,s.Z)(["\n  query WorkspaceResourcesQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        allTopLevelResourceDetails {\n          ...ResourceEntryFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),f.B,P)},35815:function(e,n,t){t.d(n,{l:function(){return c},L:function(){return d}});var r=t(922),i=t(32030),s=t(75497),o=t(7838),a=(t(325),t(37099)),l=t(32289),c=32,d=function(e){var n=e.expanded,t=e.onClick,r=e.repoName,c=e.repoLocation,d=e.showLocation,x=e.rightElement,f=r===a.Js;return(0,l.jsx)(u,{$open:n,onClick:t,children:(0,l.jsxs)(i.x,{flex:{alignItems:"center",justifyContent:"space-between"},padding:{horizontal:24},children:[(0,l.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[(0,l.jsx)(s.JO,{name:"folder",color:o.w.Dark}),(0,l.jsxs)("div",{children:[(0,l.jsx)(h,{children:f?c:r}),d&&!f?(0,l.jsx)(p,{children:"@".concat(c)}):null]})]}),(0,l.jsxs)(i.x,{flex:{alignItems:"center",gap:8},children:[x,(0,l.jsx)(i.x,{margin:{top:2},children:(0,l.jsx)(s.JO,{name:"arrow_drop_down"})})]})]})})},u=r.ZP.button.withConfig({displayName:"RepoSectionHeader__SectionHeaderButton",componentId:"sc-1b0a72j-0"})(["background-color:",";border:0;box-shadow:inset 0px -1px 0 ",",inset 0px 1px 0 ",";cursor:pointer;display:block;padding:0;width:100%;margin:0;height:","px;text-align:left;:focus,:active{outline:none;}:hover{background-color:",";}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],o.w.Gray50,o.w.KeylineGray,o.w.KeylineGray,c,o.w.Gray100,s.a1,(function(e){return e.$open?null:"transform: rotate(-90deg);"})),h=r.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoName",componentId:"sc-1b0a72j-1"})(["font-weight:600;"]),p=r.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoLocation",componentId:"sc-1b0a72j-2"})(["font-weight:400;color:",";"],o.w.Gray700)},9091:function(e,n,t){t.d(n,{JH:function(){return g},qL:function(){return j}});var r=t(922),i=t(32030),s=t(762),o=t(12745),a=t(7838),l=t(8546),c=(t(325),t(74549)),d=t(80609),u=t(59549),h=t(37751),p=t(34653),x=t(55752),f=t(32289),m=function(e){var n=e.status,t=e.opacity,r=void 0===t?1:t,i=h.YM[n];return(0,f.jsx)(S,{$color:i,$opacity:r})},g=function(e){var n=e.fade,t=e.jobName,r=e.runs,o=r.length,a=.8/Math.max(3,o);return(0,f.jsx)(i.x,{flex:{direction:"row",alignItems:"center",gap:2},children:r.map((function(e,r){return(0,f.jsx)(s.J,{position:"top",interactionKind:"hover",content:(0,f.jsx)("div",{children:(0,f.jsx)(j,{run:e,name:t})}),hoverOpenDelay:100,children:(0,f.jsx)(m,{runId:e.runId,status:e.status,opacity:n?1-(o-r-1)*a:1},e.runId)},e.runId)}))})},j=function(e){var n=e.name,t=e.run;return(0,f.jsxs)(v,{children:[(0,f.jsx)(y,{children:n}),(0,f.jsxs)(w,{children:[(0,f.jsxs)(i.x,{flex:{alignItems:"center",direction:"row",gap:8},children:[(0,f.jsx)(u.K9,{status:t.status}),(0,f.jsx)(c.rU,{to:"/runs/".concat(t.runId),children:(0,f.jsx)(o.fv,{style:{fontSize:"14px"},children:(0,x.EI)(t)})})]}),(0,f.jsxs)(i.x,{flex:{direction:"column",gap:4},padding:{top:2},children:[(0,f.jsx)(x.Zr,{run:t}),(0,f.jsx)(x.Tw,{run:t})]})]}),p.hd.has(t.status)||p.Ys.has(t.status)?(0,f.jsx)(b,{children:(0,f.jsx)(d.I,{runId:t.id})}):null]})},v=r.ZP.div.withConfig({displayName:"RunStatusPez__OverlayContainer",componentId:"sc-1eclpuq-0"})(["padding:4px;font-size:12px;width:220px;"]),y=r.ZP.div.withConfig({displayName:"RunStatusPez__OverlayTitle",componentId:"sc-1eclpuq-1"})(["padding:8px;box-shadow:inset 0 -1px ",";font-family:",";font-size:14px;font-weight:500;color:",";max-width:100%;text-overflow:ellipsis;overflow:hidden;min-width:0px;"],a.w.KeylineGray,l.b.default,a.w.Dark),w=r.ZP.div.withConfig({displayName:"RunStatusPez__RunRow",componentId:"sc-1eclpuq-2"})(["padding:8px;font-size:12px;display:flex;align-items:flex-start;justify-content:space-between;"]),b=r.ZP.div.withConfig({displayName:"RunStatusPez__SummaryContainer",componentId:"sc-1eclpuq-3"})(["overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:4px 8px 8px;:empty{display:none;}"]),S=r.ZP.div.withConfig({displayName:"RunStatusPez__Pez",componentId:"sc-1eclpuq-4"})(["background-color:",";border-radius:2px;height:16px;opacity:",";width:8px;"],(function(e){return e.$color}),(function(e){return e.$opacity}))},52453:function(e,n,t){t.d(n,{Y:function(){return G},q:function(){return z}});var r=t(16798),i=t(59019),s=t(95764),o=t(19065),a=t(922),l=t(32030),c=t(7838),d=t(11831),u=t(54268),h=t(8546),p=t(75497),x=t(61653),f=t(762),m=t(34595),g=t(12745),j=t(519),v=t(325),y=t(74549),w=t(13688),b=t(68156),S=t(28797),k=t(3580),C=t(65864),N=t(76858),R=t(7489),I=t(71824),P=t(16279),E=t(33902),T=t(36114),_=t(35815),Z=t(59549),O=t(34653),U=t(32460),D=t(18499),A=function(e){switch(e){case"queued":case"scheduled":return c.w.Blue200;case"inProgress":return c.w.Blue500;case"failed":return c.w.Red500;case"succeeded":return c.w.Green500}},L=function(e){var n={scheduled:0,queued:0,inProgress:0,failed:0,succeeded:0};e.forEach((function(e){var t=e.status;"SCHEDULED"===t?n.scheduled++:O.sy.has(t)?n.queued++:O.Ys.has(t)?n.inProgress++:O.hd.has(t)?n.failed++:O._m.has(t)&&n.succeeded++}));var t=Object.keys(n).filter((function(e){return n[e]>0}));if(1===t.length){var r=(0,o.Z)(t,1)[0];return A(r)}for(var i=e.length,s=[n.failed>0?{status:"failed",pct:100*n.failed/i}:null,n.succeeded>0?{status:"succeeded",pct:100*n.succeeded/i}:null,n.inProgress>0?{status:"inProgress",pct:100*n.inProgress/i}:null,n.queued>0?{status:"queued",pct:100*n.queued/i}:null,n.scheduled>0?{status:"scheduled",pct:100*n.scheduled/i}:null].filter(Boolean),a="",l=0,c=0,d=0;d<s.length;d++){var u=s[d];if(u){var h=u.status,p=u.pct;c=l,l+=p;var x=A(h);0===d?a+="".concat(x," ").concat(p.toFixed(1),"%, "):d===s.length-1?a+="".concat(x," ").concat(c.toFixed(1),"%"):a+="".concat(x," ").concat(c.toFixed(1),"% ").concat(l.toFixed(1),"%, ")}}return"linear-gradient(to right, ".concat(a,")")},F=t(32289),z=function(e){var n=e.loading,t=void 0!==n&&n,a=e.jobs,d=e.range,u=v.useState(null),h=(0,o.Z)(u,2),p=h[0],x=h[1],f=v.useRef(null),m=Date.now(),g=(0,o.Z)(d,2),y=(g[0],m<=g[1]),b=a.reduce((function(e,n){var t=n.repoAddress,o=(0,E.Qj)(t),a=e[o]||[];return(0,s.Z)((0,s.Z)({},e),{},(0,r.Z)({},o,[].concat((0,i.Z)(a),[n])))}),{}),S=Object.keys(b),N=(0,I.N)(w.y,S),R=N.expandedKeys,P=N.onToggle,Z=N.onToggleAll,O=v.useMemo((function(){var e=[],n=function(n){var t=b[n],r=(0,T.g)(n);if(!r)return"continue";e.push({type:"header",repoAddress:r,jobCount:t.length}),R.includes(n)&&t.forEach((function(n){e.push({type:"job",repoAddress:r,job:n})}))};for(var t in b)n(t);return e}),[b,R]),U=(0,j.useVirtualizer)({count:O.length,getScrollElement:function(){return f.current},estimateSize:function(e){return 32},overscan:40}),D=U.getTotalSize(),A=U.getVirtualItems(),L=v.useRef(null),z=v.useCallback((function(e){var n;e?(L.current=new ResizeObserver((function(e){var n=e[0];x(n.contentRect.width)})),L.current.observe(e)):null===(n=L.current)||void 0===n||n.disconnect()}),[]);if(!p)return(0,F.jsx)(ie,{$height:174,ref:z,children:(0,F.jsx)("div",{})});var q=Object.keys(b).sort((function(e,n){return e.localeCompare(n)})),G=q.filter((function(e){return R.includes(e)})).reduce((function(e,n){return e+b[n].length}),0),M=q.length*_.l+32*G,B=(0,C.w)(q.map((function(e){var n;return(null===(n=(0,T.g)(e))||void 0===n?void 0:n.name)||""}))),V=q.length>0;return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(l.x,{padding:{left:24},flex:{direction:"column",justifyContent:"center"},style:{fontSize:"16px",flex:"0 0 ".concat(64,"px")},border:{side:"horizontal",width:1,color:c.w.KeylineGray},children:"Jobs"}),(0,F.jsx)("div",{style:{position:"relative"},children:(0,F.jsx)(J,{interval:36e5,range:d,height:V?M:0})}),q.length?(0,F.jsx)("div",{style:{overflow:"hidden",position:"relative"},children:(0,F.jsx)(k.W2,{ref:f,children:(0,F.jsx)(k.Nh,{$totalHeight:D,children:A.map((function(e){var n=e.index,t=e.key,r=e.size,i=e.start,s=O[n];if("header"===s.type){var o=(0,E.Qj)(s.repoAddress),a=s.repoAddress.name;return(0,F.jsx)($,{expanded:R.includes(o),height:r,top:i,repoAddress:s.repoAddress,isDuplicateRepoName:!(!a||!B.has(a)),jobs:b[o],onToggle:P,onToggleAll:Z},o)}return(0,F.jsx)(te,{job:s.job,height:r,top:i,range:d,width:p},t)}))})})}):(0,F.jsx)(re,{loading:t,includesTicks:y})]})},$=function(e){var n=e.expanded,t=e.onToggle,r=e.onToggleAll,i=e.repoAddress,s=e.isDuplicateRepoName,o=e.jobs,a=e.height,l=e.top;return(0,F.jsx)(P.vG,{expanded:n,height:a,start:l,repoAddress:i,showLocation:s,onToggle:t,onToggleAll:r,rightElement:(0,F.jsx)(q,{jobs:o})})},q=v.memo((function(e){var n=e.jobs,t=v.useMemo((function(){var e=0,t=0,r=0;return n.forEach((function(n){n.runs.forEach((function(n){var i=n.status;"SCHEDULED"!==i&&(O.Ys.has(i)?e++:O.hd.has(i)?t++:O._m.has(i)&&r++)}))})),{inProgressCount:e,failedCount:t,succeededCount:r}}),[n]);return(0,F.jsx)(G,(0,s.Z)({},t))})),G=function(e){var n=e.inProgressCount,t=e.succeededCount,r=e.failedCount,i=1===n?"1 run in progress":"".concat(n," runs in progress"),s=1===t?"1 run succeeded":"".concat(t," runs succeeded"),o=1===r?"1 run failed":"".concat(r," runs failed");return(0,F.jsxs)(l.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[n>0?(0,F.jsx)(d.u,{content:(0,F.jsx)(M,{children:i}),placement:"top",children:(0,F.jsx)(u.V,{intent:"primary",children:n})}):null,t>0?(0,F.jsx)(d.u,{content:(0,F.jsx)(M,{children:s}),placement:"top",children:(0,F.jsx)(u.V,{intent:"success",children:t})}):null,r>0?(0,F.jsx)(d.u,{content:(0,F.jsx)(M,{children:o}),placement:"top",children:(0,F.jsx)(u.V,{intent:"danger",children:r})}):null]})},M=a.ZP.span.withConfig({displayName:"RunTimeline__StatusSpan",componentId:"sc-1k6kbha-0"})(["white-space:nowrap;"]),B={month:"numeric",day:"numeric",year:"numeric"},V={month:"short",day:"numeric",year:"numeric",timeZoneName:"short"},K={hour:"numeric"},J=function(e){var n=e.interval,t=e.range,r=e.height,a=(0,o.Z)(t,2),d=a[0],u=a[1],h=function(){var e=v.useContext(N.JB),n=(0,o.Z)(e.timezone,1)[0],t=(0,o.Z)(e.hourCycle,1)[0],r="Automatic"===n?(0,R.cw)():n,i="Automatic"===t?void 0:t;return v.useCallback((function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.language;return Intl.DateTimeFormat(t,(0,s.Z)({timeZone:r,hourCycle:i},n)).format(e)}),[r,i])}(),p=v.useMemo((function(){for(var e=u-d,n=new Date(d),t=h(n,V,"en-US"),r=[],i=new Date(t);i.valueOf()<u;){var s=i.getTime(),o=new Date(s).setDate(i.getDate()+1);i=new Date(o),r.push({dayStart:s,dayEnd:o})}return r.map((function(n){var t=n.dayStart,r=n.dayEnd,i=new Date(t),s=t-d,o=s+(r-t),a=Math.max(0,s/e*100),l=Math.min(100,o/e*100);return{label:h(i,B),key:i.toString(),left:a,width:l-a}}))}),[u,h,d]),x=v.useMemo((function(){var e=u-d,t=d-d%n,r=Math.ceil(e/n)+1;return(0,i.Z)(new Array(r)).map((function(r,i){var s=t+i*n,o=new Date(s);return{label:h(o,K).replace(" ",""),key:o.toString(),left:(s-d)/e*100}})).filter((function(e){return e.left>0}))}),[u,d,n,h]),f=Date.now(),m="".concat(((f-d)/(u-d)*100).toPrecision(3),"%");return(0,F.jsxs)(H,{style:{height:"".concat(r,"px"),top:"-".concat(64,"px")},children:[(0,F.jsx)(W,{children:p.map((function(e){return(0,F.jsx)(Q,{style:{left:"".concat(e.left.toPrecision(3),"%"),width:"".concat(e.width.toPrecision(3),"%")},children:e.width>10?(0,F.jsx)(l.x,{flex:{justifyContent:"center"},children:e.label}):null},e.key)}))}),(0,F.jsx)(W,{children:x.map((function(e){return(0,F.jsx)(Y,{style:{left:"".concat(e.left.toPrecision(3),"%")},children:e.label},e.key)}))}),(0,F.jsxs)(X,{children:[(0,F.jsx)(ee,{style:{left:0,backgroundColor:c.w.Gray200}}),x.map((function(e){return(0,F.jsx)(ee,{style:{left:"".concat(e.left.toPrecision(3),"%")}},e.key)})),f>=d&&f<=u?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(ne,{style:{left:m},children:"Now"}),(0,F.jsx)(ee,{style:{left:m,backgroundColor:c.w.Blue500,zIndex:1}})]}):null]})]})},H=a.ZP.div.withConfig({displayName:"RunTimeline__DividerContainer",componentId:"sc-1k6kbha-1"})(["position:absolute;top:0;left:","px;right:0;font-family:",";color:",";"],320,h.b.monospace,c.w.Gray800),W=a.ZP.div.withConfig({displayName:"RunTimeline__DividerLabels",componentId:"sc-1k6kbha-2"})(["display:flex;align-items:center;box-shadow:inset 1px 0 0 ",",inset 0 1px 0 ",",inset -1px 0 0 ",";height:","px;position:relative;user-select:none;font-size:12px;width:100%;overflow:hidden;"],c.w.KeylineGray,c.w.KeylineGray,c.w.KeylineGray,32),Q=a.ZP.div.withConfig({displayName:"RunTimeline__DateLabel",componentId:"sc-1k6kbha-3"})(["position:absolute;padding:8px 0;box-shadow:inset 1px 0 0 ",";white-space:nowrap;"],c.w.KeylineGray),Y=a.ZP.div.withConfig({displayName:"RunTimeline__TimeLabel",componentId:"sc-1k6kbha-4"})(["position:absolute;padding:8px;box-shadow:inset 1px 0 0 ",";white-space:nowrap;"],c.w.KeylineGray),X=a.ZP.div.withConfig({displayName:"RunTimeline__DividerLines",componentId:"sc-1k6kbha-5"})(["height:100%;position:relative;width:100%;box-shadow:inset 1px 0 0 ",",inset -1px 0 0 ",";"],c.w.KeylineGray,c.w.KeylineGray),ee=a.ZP.div.withConfig({displayName:"RunTimeline__DividerLine",componentId:"sc-1k6kbha-6"})(["background-color:",";height:100%;position:absolute;top:0;width:1px;"],c.w.KeylineGray),ne=a.ZP.div.withConfig({displayName:"RunTimeline__NowMarker",componentId:"sc-1k6kbha-7"})(["background-color:",";border-radius:1px;color:",";cursor:default;font-size:12px;line-height:12px;margin-left:-12px;padding:1px 4px;position:absolute;top:-14px;user-select:none;"],c.w.Blue500,c.w.White),te=function(e){var n=e.job,t=e.top,r=e.height,i=e.range,s=e.width,a=(0,o.Z)(i,2),d=a[0],u=a[1],h=s-320,m=n.runs,g=v.useMemo((function(){return(0,D.i)({runs:m,start:d,end:u,width:h,minChunkWidth:2,minMultipleWidth:12})}),[m,d,u,h]);return n.runs.length?(0,F.jsxs)(se,{$height:r,$start:t,children:[(0,F.jsxs)(oe,{children:[(0,F.jsx)(p.JO,{name:"asset"===n.jobType?"asset":"job"}),(0,F.jsx)("div",{style:{width:268},children:"asset"===n.jobType?(0,F.jsx)("span",{style:{color:c.w.Gray900},children:(0,F.jsx)(x.g,{text:n.jobName})}):(0,F.jsx)(y.rU,{to:n.path,children:(0,F.jsx)(x.g,{text:n.jobName})})})]}),(0,F.jsx)(ae,{children:g.map((function(e){var t=e.left,r=e.width,i=e.runs.length;return(0,F.jsx)(le,{$background:L(e.runs),$multiple:i>1,style:{left:"".concat(t,"px"),width:"".concat(r,"px")},children:(0,F.jsx)(f.J,{content:(0,F.jsx)(de,{job:n,batch:e}),position:"top",interactionKind:"hover",className:"chunk-popover-target",children:(0,F.jsx)(l.x,{flex:{direction:"row",justifyContent:"center",alignItems:"center"},style:{height:"100%"},children:i>1?(0,F.jsx)(ce,{children:e.runs.length}):null})})},e.runs[0].id)}))})]}):null},re=function(e){var n=e.loading,t=e.includesTicks;return(0,F.jsx)(l.x,{background:c.w.White,padding:{vertical:24},flex:{direction:"row",justifyContent:"center"},border:{side:"horizontal",width:1,color:c.w.KeylineGray},children:n?(0,F.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,F.jsx)(m.$,{purpose:"body-text"}),t?"Loading runs and scheduled ticks":"Loading runs"]}):(0,F.jsxs)(l.x,{flex:{direction:"column",gap:12,alignItems:"center"},children:[(0,F.jsx)("div",{children:t?"No runs or scheduled ticks in this time period.":"No runs in this time period."}),(0,F.jsxs)(l.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,F.jsx)(S.A,{icon:(0,F.jsx)(p.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,F.jsx)("span",{children:"or"}),(0,F.jsx)(S.A,{icon:(0,F.jsx)(p.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})},ie=a.ZP.div.withConfig({displayName:"RunTimeline__Timeline",componentId:"sc-1k6kbha-8"})([""," position:relative;"],(function(e){var n=e.$height;return"height: ".concat(n,"px;")})),se=a.ZP.div.attrs((function(e){var n=e.$height,t=e.$start;return{style:{height:"".concat(n,"px"),transform:"translateY(".concat(t,"px)")}}})).withConfig({displayName:"RunTimeline__Row",componentId:"sc-1k6kbha-9"})(["align-items:center;box-shadow:inset 0 -1px 0 ",";display:flex;flex-direction:row;width:100%;padding:1px 0;left:0;position:absolute;right:0;top:0;overflow:hidden;:hover{background-color:",";}"],c.w.KeylineGray,c.w.Gray10),oe=a.ZP.div.withConfig({displayName:"RunTimeline__JobName",componentId:"sc-1k6kbha-10"})(["align-items:center;display:flex;font-size:13px;justify-content:flex-start;gap:8px;line-height:16px;overflow:hidden;padding:0 12px 0 24px;text-overflow:ellipsis;white-space:nowrap;width:","px;"],320),ae=a.ZP.div.withConfig({displayName:"RunTimeline__RunChunks",componentId:"sc-1k6kbha-11"})(["flex:1;position:relative;height:","px;"],32),le=a.ZP.div.withConfig({displayName:"RunTimeline__RunChunk",componentId:"sc-1k6kbha-12"})(["align-items:center;background:",";border-radius:2px;height:","px;position:absolute;top:2px;",";transition:background-color 300ms linear,width 300ms ease-in-out;.chunk-popover-target{display:block;height:100%;width:100%;}"],(function(e){return e.$background}),28,(function(e){return e.$multiple?"min-width: ".concat(12,"px"):null})),ce=a.ZP.div.withConfig({displayName:"RunTimeline__BatchCount",componentId:"sc-1k6kbha-13"})(["color:",";cursor:default;font-family:",";font-size:14px;font-weight:600;user-select:none;"],c.w.White,h.b.monospace),de=function(e){var n=e.job,t=e.batch,r=t.runs.slice(0,50),i=t.runs.length-r.length;return(0,F.jsxs)(l.x,{style:{width:"260px"},children:[(0,F.jsx)(l.x,{padding:12,border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,F.jsx)(ue,{children:n.jobName})}),(0,F.jsx)("div",{style:{maxHeight:"240px",overflowY:"auto"},children:r.map((function(e,n){return(0,F.jsxs)(l.x,{border:n>0?{side:"top",width:1,color:c.w.KeylineGray}:null,flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},padding:{vertical:8,horizontal:12},children:[(0,F.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,F.jsx)(Z.O_,{status:e.status,size:8}),"SCHEDULED"===e.status?"Scheduled":(0,F.jsx)(y.rU,{to:"/runs/".concat(e.id),children:(0,F.jsx)(g.fv,{children:e.id.slice(0,8)})})]}),(0,F.jsx)(g.fv,{children:"SCHEDULED"===e.status?(0,F.jsx)(b.v,{timestamp:e.startTime/1e3}):(0,F.jsx)(U.Q,{startUnix:e.startTime/1e3,endUnix:e.endTime/1e3})})]},e.id)}))}),i>0?(0,F.jsx)(l.x,{padding:12,border:{side:"top",width:1,color:c.w.KeylineGray},children:(0,F.jsxs)(y.rU,{to:"".concat(n.path,"runs"),children:["+ ",i," more"]})}):null]})},ue=a.ZP.strong.withConfig({displayName:"RunTimeline__HoverContentJobName",componentId:"sc-1k6kbha-14"})(["display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;"])},18499:function(e,n,t){t.d(n,{a:function(){return i},i:function(){return s}});var r=t(59019),i=function(e,n){return!(e.end<n.start||n.end<e.start)},s=function(e){for(var n=e.runs,t=e.start,i=e.end,s=e.width,a=e.minChunkWidth,l=e.minMultipleWidth,c=i-t,d=(Date.now()-t)/(i-t)*s,u=n.map((function(e){var n=e.startTime,r=e.endTime||Date.now();return{runs:[e],startTime:n,endTime:r,left:Math.max(0,Math.floor((n-t)/c*s)),width:Math.max(a,Math.min(Math.ceil((r-n)/c*s),Math.ceil((r-t)/c*s)))}})).sort((function(e,n){return n.left-e.left})),h=[];u.length;){var p=u.shift(),x=u[0];if(p)if(x&&o(p,x,l,d)){u.shift(),p.runs=[].concat((0,r.Z)(p.runs),(0,r.Z)(x.runs)),p.startTime=Math.min(p.startTime,x.startTime),p.endTime=Math.max(p.endTime,x.endTime);var f=Math.max(p.left+l,p.left+p.width,x.left+x.width),m=Math.min(p.left,x.left);p.width=f-m,p.left=m,u.unshift(p)}else h.push(p)}return h},o=function(e,n,t,r){var s=e.left,o=e.left+Math.max(e.width,t),a=n.left,l=n.left+Math.max(n.width,t),c=Math.min(e.left,n.left),d=Math.max(e.left+Math.max(e.width,t),n.left+Math.max(n.width,t));return i({start:s,end:o},{start:a,end:l})&&(c>r||d<r)}},89324:function(e,n,t){t.d(n,{K:function(){return c}});var r=t(95764),i=t(81034),s=t(32030),o=t(60736),a=(t(325),t(32289)),l=["daemonHealth"],c=function(e){var n=e.daemonHealth,t=(0,i.Z)(e,l),c=void 0;if(n){var d=n.allDaemonStatuses.filter((function(e){return"SCHEDULER"===e.daemonType}));if(d){var u=d[0];c=!(!u.required||!u.healthy)}}return!1===c?(0,a.jsx)(s.x,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)(o.b,{intent:"warning",title:"The scheduler daemon is not running.",description:(0,a.jsxs)("div",{children:["See the"," ",(0,a.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},36349:function(e,n,t){t.d(n,{e:function(){return ee},F:function(){return X}});var r,i,s=t(19065),o=t(31112),a=t(32030),l=t(12745),c=t(54268),d=t(75453),u=t(57753),h=t(6466),p=t(8546),x=t(60652),f=t(75497),m=t(7838),g=t(325),j=t(47678),v=t(86655),y=t(69305),w=t(62997),b=t(30057),S=t(62e3),k=t(68156),C=t(99500),N=t(85358),R=t(95764),I=t(922),P=t(95550),E=t.n(P),T=t(49148),_=t(3159),Z=t(8358),O=t(34595),U=t(88863),D=t(89646),A=t(14156),L=t(13065),F=t(79082),z=t(12436),$=t(76341),q=(t(45436),t(32289)),G=function(e){var n=e.isOpen,t=e.sensorSelector,r=e.cursor,i=e.onClose,o=g.useState(r),a=(0,s.Z)(o,2),l=a[0],c=a[1],u=g.useState(!1),p=(0,s.Z)(u,2),f=p[0],j=p[1],v=(0,T.D)(M),y=(0,s.Z)(v,1)[0],w=function(){var e=(0,N.Z)(E().mark((function e(){var n,r,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,y({variables:{sensorSelector:t,cursor:l}});case 3:n=e.sent,"Sensor"===(null===(r=n.data)||void 0===r?void 0:r.setSensorCursor.__typename)?L.L.show({message:"Cursor value updated",intent:"success"}):null!==r&&void 0!==r&&r.setSensorCursor&&(s=r.setSensorCursor,L.L.show({intent:"danger",message:(0,q.jsxs)(h.Z,{direction:"row",spacing:8,children:[(0,q.jsx)("div",{children:"Could not set cursor value."}),(0,q.jsx)(x.Z,{color:m.w.White,underline:"always",onClick:function(){(0,A._)({title:"Python Error",body:"PythonError"===s.__typename?(0,q.jsx)(z.T,{error:s}):"Sensor not found"})},children:"View error"})]})})),i();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,q.jsxs)(Z.Vq,{isOpen:n,onClose:function(){i(),c(r)},style:{width:"500px"},title:"Edit ".concat(t.sensorName," cursor"),children:[(0,q.jsx)(Z.a7,{children:(0,q.jsx)(U.Kx,{value:l,$resize:"vertical",onChange:function(e){return c(e.target.value)},style:{width:"100%"}})}),(0,q.jsxs)(Z.cN,{children:[(0,q.jsx)(d.zx,{onClick:i,children:"Cancel"}),(0,q.jsx)(d.zx,{intent:"primary",onClick:w,disabled:f,children:"Set cursor value"})]})]})},M=(0,_.Ps)(r||(r=(0,C.Z)(["\n  mutation SetSensorCursorMutation($sensorSelector: SensorSelector!, $cursor: String) {\n    setSensorCursor(sensorSelector: $sensorSelector, cursor: $cursor) {\n      ... on Sensor {\n        id\n        sensorState {\n          id\n          status\n          typeSpecificData {\n            ... on SensorData {\n              lastCursor\n            }\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),F.B),B=t(1520),V=t(4983),K=function(e){var n=e.isOpen,t=e.onClose,r=e.name;return(0,q.jsx)(Z.Vq,{isOpen:n,onClose:t,style:{width:"70vw",display:"flex"},icon:"sensors",title:r,children:(0,q.jsx)(J,(0,R.Z)({},e))})},J=function(e){var n,t=e.repoAddress,r=e.name,i=e.currentCursor,o=e.onClose,u=e.jobName,p=(0,T.D)(H),j=(0,s.Z)(p,1)[0],v=g.useState(i),y=(0,s.Z)(v,2),w=y[0],b=y[1],S=g.useState(!1),k=(0,s.Z)(S,2),C=k[0],R=k[1],I=g.useState(null),P=(0,s.Z)(I,2),_=P[0],F=P[1],G=g.useState(null),K=(0,s.Z)(G,2),J=K[0],Q=K[1],Y=g.useMemo((function(){return{sensorName:r,repositoryLocationName:t.location,repositoryName:t.name}}),[t,r]),X=g.useCallback((0,N.Z)(E().mark((function e(){var n,t,i,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,j({variables:{selectorData:Y,cursor:w}});case 3:t=e.sent,(i=null===(n=t.data)||void 0===n?void 0:n.sensorDryRun)?"DryRunInstigationTick"===(null===i||void 0===i?void 0:i.__typename)?null!==(s=i.evaluationResult)&&void 0!==s&&s.error?F(i.evaluationResult.error):Q(i):"SensorNotFoundError"===(null===i||void 0===i?void 0:i.__typename)?(0,A._)({title:"Sensor not found",body:"Could not find a sensor named: ".concat(r)}):F(i):(0,$.UT)("sensorDryRun Mutation returned no data??"),R(!1);case 7:case"end":return e.stop()}}),e)}))),[j,Y,w,r]),ee=g.useMemo((function(){return J||_?(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8},children:[(0,q.jsx)(d.zx,{"data-testid":(0,B.N)("test-again"),onClick:function(){Q(null),F(null)},children:"Test again"}),(0,q.jsx)(d.zx,{intent:"primary",onClick:o,children:"Close"})]}):C?(0,q.jsx)(a.x,{flex:{direction:"row",gap:8},children:(0,q.jsx)(d.zx,{onClick:o,children:"Cancel"})}):(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8},children:[(0,q.jsx)(d.zx,{onClick:o,children:"Cancel"}),(0,q.jsx)(d.zx,{onClick:X,intent:"primary","data-testid":(0,B.N)("evaluate"),children:"Evaluate"})]})}),[J,_,C,o,X]),ne=g.useState("Unpersisted"),te=(0,s.Z)(ne,2),re=te[0],ie=te[1],se=(0,T.D)(M),oe=(0,s.Z)(se,1)[0],ae=g.useCallback((0,N.Z)(E().mark((function e(){var n,t,r,i,s;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=null===J||void 0===J||null===(n=J.evaluationResult)||void 0===n?void 0:n.cursor)||(0,$.UT)("Did not expect to get here"),ie("Persisting"),e.next=5,oe({variables:{sensorSelector:Y,cursor:t}});case 5:r=e.sent,"Sensor"===(null===(i=r.data)||void 0===i?void 0:i.setSensorCursor.__typename)?(L.L.show({message:"Cursor value updated",intent:"success"}),ie("Persisted")):null!==i&&void 0!==i&&i.setSensorCursor&&(s=i.setSensorCursor,L.L.show({intent:"danger",message:(0,q.jsxs)(h.Z,{direction:"row",spacing:8,children:[(0,q.jsx)("div",{children:"Could not set cursor value."}),(0,q.jsx)(x.Z,{color:m.w.White,underline:"always",onClick:function(){(0,A._)({title:"Python Error",body:"PythonError"===s.__typename?(0,q.jsx)(z.T,{error:s}):"Sensor not found"})},children:"View error"})]})}));case 8:case"end":return e.stop()}}),e)}))),[null===J||void 0===J||null===(n=J.evaluationResult)||void 0===n?void 0:n.cursor,Y,oe]),le=g.useMemo((function(){if(J||_){var e,n,s,o,h,p,x=null===J||void 0===J||null===(e=J.evaluationResult)||void 0===e?void 0:e.runRequests,g=(null===x||void 0===x?void 0:x.length)||0,j=!_&&0===g;return(0,q.jsx)(a.x,{flex:{direction:"column",gap:8},children:(0,q.jsxs)(a.x,{children:[(0,q.jsxs)(W,{children:[(0,q.jsxs)("div",{children:[(0,q.jsx)(l.pm,{children:"Result"}),(0,q.jsx)(a.x,{flex:{grow:1,alignItems:"center"},children:(0,q.jsx)("div",{children:_?(0,q.jsx)(c.V,{intent:"danger",children:"Failed"}):g?(0,q.jsxs)(c.V,{intent:"success",children:[g," run requests"]}):(0,q.jsx)(c.V,{intent:"warning",children:"Skipped"})})})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)(l.pm,{children:"Used cursor value"}),(0,q.jsx)("pre",{children:null!==w&&void 0!==w&&w.length?w:"None"})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)(l.pm,{children:"Computed cursor value"}),(0,q.jsx)("pre",{children:null!==J&&void 0!==J&&null!==(n=J.evaluationResult)&&void 0!==n&&null!==(s=n.cursor)&&void 0!==s&&s.length?null===J||void 0===J?void 0:J.evaluationResult.cursor:_?"Error":"None"}),_||(null!==i&&void 0!==i?i:"")===(null!==(o=null===J||void 0===J||null===(h=J.evaluationResult)||void 0===h?void 0:h.cursor)&&void 0!==o?o:"")?null:(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,q.jsx)(d.zx,{disabled:["Persisting","Persisted"].includes(re),loading:"Persisting"===re,onClick:ae,children:(0,q.jsx)("span",{"data-testid":(0,B.N)("persist-cursor"),children:"Persisting"===re?"Persisting":"Persisted"===re?"Persisted":"Persist computed cursor value"})}),"Persisted"===re?(0,q.jsx)(f.JO,{name:"check_circle",color:m.w.Green500}):null]})]})]}),_?(0,q.jsx)("div",{children:(0,q.jsx)(z.T,{error:_})}):null,j?(0,q.jsxs)("div",{children:[(0,q.jsx)(l.pm,{children:"Skip reason"}),(0,q.jsx)("div",{children:(null===J||void 0===J||null===(p=J.evaluationResult)||void 0===p?void 0:p.skipReason)||"No skip reason was output"})]}):null,g&&x?(0,q.jsx)(V.k,{runRequests:x,name:r,jobName:u,isJob:!0,repoAddress:t}):null]})})}return C?(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8,justifyContent:"center",alignItems:"center"},children:[(0,q.jsx)(O.$,{purpose:"body-text"}),(0,q.jsx)("div",{children:"Evaluating sensor"})]}):(0,q.jsxs)(a.x,{flex:{direction:"column",gap:8},children:[(0,q.jsx)("div",{children:"Cursor"}),(0,q.jsx)(U.oi,{value:w,onChange:function(e){return b(e.target.value)},"data-testid":(0,B.N)("cursor-input")}),""!==i&&i?null:(0,q.jsx)(a.x,{padding:{top:16,bottom:32},flex:{justifyContent:"center"},children:(0,q.jsx)(D.t,{icon:"no-results",title:"You're not using a cursor",description:(0,q.jsxs)("span",{children:["Check our"," ",(0,q.jsx)("a",{href:"https://docs.dagster.io/concepts/partitions-schedules-sensors/sensors#idempotence-and-cursors",children:"sensor documentation"})," ","to learn how to use cursors"]})})})]})}),[J,_,C,i,re,ae,r,u,t,w]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Z.a7,{children:(0,q.jsx)("div",{style:{minHeight:"300px"},children:le})}),(0,q.jsx)(Z.cN,{topBorder:!0,children:ee})]})},H=(0,_.Ps)(i||(i=(0,C.Z)(["\n  mutation SensorDryRunMutation($selectorData: SensorSelector!, $cursor: String) {\n    sensorDryRun(selectorData: $selectorData, cursor: $cursor) {\n      __typename\n      ... on DryRunInstigationTick {\n        timestamp\n        evaluationResult {\n          cursor\n          runRequests {\n            runConfigYaml\n            tags {\n              key\n              value\n            }\n            runKey\n          }\n          skipReason\n          error {\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n  ","\n"])),F.B),W=I.ZP.div.withConfig({displayName:"SensorDryRunDialog__Grid",componentId:"sc-6bg5ar-0"})(["display:grid;grid-template-columns:repeat(3,1fr);padding-bottom:12px;border-bottom:1px solid ",";margin-bottom:12px;","{padding-bottom:4px;display:block;}pre{margin:0;}button{margin-top:4px;}"],m.w.KeylineGray,l.pm),Q=t(76336),Y=t(86875),X=function(e){return e||(e=30),(e=Math.max(30,e))<60||e%60?"~".concat(e," sec"):3600===e?"~1 hour":e<3600||e%3600?"~".concat(e/60," min"):86400===e?"~1 day":e<86400||e%86400?"~".concat(e/3600," hours"):"~".concat(e/86400," days")},ee=function(e){var n,t,r=e.sensor,i=e.repoAddress,C=e.daemonHealth,N=e.refreshState,R=r.name,I=r.sensorState,P=I.status,E=I.ticks,T=r.targets,_=r.metadata,Z=g.useState(!1),O=(0,s.Z)(Z,2),U=O[0],D=O[1],A={sensorName:r.name,repositoryName:i.name,repositoryLocationName:i.location},L=(0,Q.Ux)(i),F=null===L||void 0===L?void 0:L.repository.pipelines,z=E.length?E[0]:null,$=(null===T||void 0===T?void 0:T.length)||0,M=g.useMemo((function(){return new Set((T||[]).map((function(e){return e.pipelineName})))}),[T]),B=g.useMemo((function(){return(F||[]).some((function(e){return!e.isJob&&M.has(e.name)}))}),[F,M]),V=g.useMemo((function(){return B?$>1?"Jobs / Pipelines":"Pipeline":$>1?"Jobs":"Job"}),[B,$]),J=r.sensorState.typeSpecificData&&"SensorData"===r.sensorState.typeSpecificData.__typename&&r.sensorState.typeSpecificData.lastCursor,H=g.useState(!1),W=(0,s.Z)(H,2),ee=W[0],ne=W[1],te=P===y.ynu.RUNNING;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(o.m,{title:(0,q.jsxs)(a.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,q.jsx)(l.X6,{children:R}),(0,q.jsx)(Y.c,{repoAddress:i,sensor:r})]}),icon:"sensors",tags:(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(c.V,{icon:"sensors",children:["Sensor in ",(0,q.jsx)(b.b,{repoAddress:i})]}),r.nextTick&&C&&te?(0,q.jsxs)(c.V,{icon:"timer",children:["Next tick: ",(0,q.jsx)(k.v,{timestamp:r.nextTick.timestamp})]}):null]}),right:(0,q.jsxs)(a.x,{margin:{top:4},flex:{direction:"row",alignItems:"center",gap:8},children:[(0,q.jsx)(j.xi,{refreshState:N}),r.sensorType===y.dEY.STANDARD?(0,q.jsx)(d.zx,{onClick:function(){ne(!0)},children:"Test Sensor"}):null]})}),(0,q.jsx)(K,{isOpen:ee,onClose:function(){ne(!1)},currentCursor:J||"",name:r.name,repoAddress:i,jobName:(null===(n=r.targets)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.pipelineName)||""}),(0,q.jsx)(u.fJ,{children:(0,q.jsxs)("tbody",{children:[r.description?(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:"Description"}),(0,q.jsx)("td",{children:r.description})]}):null,(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:"Latest tick"}),(0,q.jsx)("td",{children:z?(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{marginTop:"-2px"},children:[(0,q.jsx)(k.v,{timestamp:z.timestamp}),(0,q.jsx)(w.TW,{tick:z,instigationType:y._5b.SENSOR})]})}):"Sensor has never run"})]}),r.targets&&r.targets.length?(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:V}),(0,q.jsx)("td",{children:(0,q.jsx)(h.Z,{direction:"column",spacing:2,children:r.targets.map((function(e){return e.pipelineName?(0,q.jsx)(S.h,{pipelineName:e.pipelineName,pipelineHrefContext:i,isJob:!(!L||!(0,Q.E8)(L,e.pipelineName))},e.pipelineName):null}))})})]}):null,(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:"Cursor"}),(0,q.jsxs)("td",{children:[(0,q.jsxs)(a.x,{flex:{direction:"row",gap:8},children:[(0,q.jsx)("span",{style:{fontFamily:p.b.monospace,fontSize:"16px"},children:J||"None"}),(0,q.jsx)(x.Z,{onClick:function(){return D(!0)},style:{fontSize:"12px"},children:(0,q.jsxs)(a.x,{flex:{direction:"row",alignItems:"flex-end",gap:4},children:[(0,q.jsx)(f.JO,{name:"edit",color:m.w.Blue500,size:12}),(0,q.jsx)("span",{children:"Edit"})]})})]}),(0,q.jsx)(G,{isOpen:U,sensorSelector:A,cursor:J||"",onClose:function(){return D(!1)}})]})]}),(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:"Frequency"}),(0,q.jsx)("td",{children:X(r.minIntervalSeconds)})]}),_.assetKeys&&_.assetKeys.length?(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:"Monitored assets"}),(0,q.jsx)("td",{children:(0,q.jsx)(a.x,{flex:{direction:"column",gap:2},children:_.assetKeys.map((function(e){return(0,q.jsx)(v.R,{path:e.path,icon:"asset"},e.path.join("/"))}))})})]}):null]})})]})}},57466:function(e,n,t){t.d(n,{F:function(){return c}});var r=t(95764),i=t(81034),s=t(32030),o=t(60736),a=(t(325),t(32289)),l=["daemonHealth"],c=function(e){var n=e.daemonHealth,t=(0,i.Z)(e,l),c=void 0;if(n){var d=n.allDaemonStatuses.filter((function(e){return"SENSOR"===e.daemonType}));if(d){var u=d[0];c=!(!u.required||!u.healthy)}}return!1===c?(0,a.jsx)(s.x,(0,r.Z)((0,r.Z)({},t),{},{children:(0,a.jsx)(o.b,{intent:"warning",title:"The sensor daemon is not running.",description:(0,a.jsxs)("div",{children:["See the"," ",(0,a.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",target:"_blank",rel:"noreferrer",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},4983:function(e,n,t){t.d(n,{k:function(){return f}});var r=t(32030),i=t(54268),s=t(75497),o=t(55113),a=t(41332),l=t.n(a),c=(t(325),t(62e3)),d=t(1520),u=t(28797),h=t(76336),p=t(25582),x=t(32289),f=function(e){var n=e.runRequests,t=e.isJob,a=e.repoAddress,f=e.mode,m=e.jobName,g=(0,h.Ux)(a),j=(0,x.jsx)("tbody",{"data-testid":(0,d.N)("table-body"),children:n.map((function(e,n){return(0,x.jsxs)("tr",{"data-testid":(0,d.N)(e.runKey||""),children:[(0,x.jsx)("td",{children:(0,x.jsx)(r.x,{flex:{alignItems:"center",gap:8},children:(0,x.jsx)(c.h,{pipelineName:m,pipelineHrefContext:a,isJob:!!g&&t,showIcon:!0,size:"small"})})}),(0,x.jsx)("td",{children:(0,x.jsx)(r.x,{flex:{direction:"row",gap:8},children:(o=e.tags,o.filter((function(e){var n=e.key;return!["dagster/schedule_name"].includes(n)}))).map((function(e){var n=e.key,t=e.value;return(0,x.jsxs)(i.V,{children:[n,": ",t]},n)}))})}),(0,x.jsx)("td",{children:(0,x.jsx)(u.A,{icon:(0,x.jsx)(s.JO,{name:"edit"}),target:"_blank",to:(0,p.$U)(a,"/pipeline_or_job/".concat(m,"/playground/setup?").concat(l().stringify({mode:f,config:e.runConfigYaml,tags:e.tags}))),children:"Open in Launchpad"})})]},n);var o}))});return(0,x.jsx)("div",{children:(0,x.jsxs)(o.i,{children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsxs)("th",{children:[t?"Job":"Pipeline"," name"]}),(0,x.jsx)("th",{children:"Tags"}),(0,x.jsx)("th",{children:"Configuration"})]})}),j]})})}},65864:function(e,n,t){t.d(n,{w:function(){return r}});var r=function(e){var n=new Set,t=new Set;return e.forEach((function(e){n.has(e)?t.add(e):n.add(e)})),t}},71824:function(e,n,t){t.d(n,{N:function(){return c}});var r=t(19065),i=t(325),s=t(52848),o=t(76314),a=t(33902),l=function(e){return Array.isArray(e)?e:[]},c=function(e,n){var t=function(e,n){return"".concat(e,":dagit.").concat(n)}(i.useContext(s.I).basePath,e),c=(0,o.U)(t,l),d=(0,r.Z)(c,2),u=d[0],h=d[1],p=i.useCallback((function(e){var n=(0,a.Uz)(e);h((function(e){var t=new Set(e||[]);return t.has(n)?t.delete(n):t.add(n),Array.from(t)}))}),[h]),x=i.useCallback((function(e){h((function(t){var r=new Set(t||[]);return n.forEach((function(n){e?r.delete(n):r.add(n)})),Array.from(r)}))}),[n,h]),f=i.useMemo((function(){var e=new Set(u);return n.filter((function(n){return!e.has(n)}))}),[n,u]);return i.useMemo((function(){return{expandedKeys:f,onToggle:p,onToggleAll:x}}),[f,p,x])}},82426:function(e,n,t){t.d(n,{I:function(){return q},b:function(){return $}});var r,i,s=t(99500),o=t(59019),a=t(19065),l=t(922),c=t(65880),d=t(3159),u=t(7838),h=t(61653),p=t(32030),x=t(325),f=t(74549),m=t(47678),g=t(8412),j=t(762),v=t(11831),y=t(75453),w=t(75497),b=t(63579),S=t(3148),k=t(92497),C=t(79580),N=t(90933),R=t(25582),I=t(32289),P=function(e){var n=e.job,t=e.repoAddress,r=n.runs.length?n.runs[0]:null,i=(0,b.xz)(t.location),s=i.permissions.canLaunchPipelineReexecution,o=i.disabledReasons,l=(0,c.t)(E),d=(0,a.Z)(l,2),u=d[0],h=d[1].data,p="Run"===(null===h||void 0===h?void 0:h.pipelineRunOrError.__typename)?null===h||void 0===h?void 0:h.pipelineRunOrError:null,f=x.useCallback((function(){null!==r&&void 0!==r&&r.id&&u({variables:{runId:r.id}})}),[r,u]),m=(0,C.W)(p),k=(0,I.jsx)(g.sN,{icon:"replay",text:"Re-execute latest run",onClick:function(){return m({type:"all"})},disabled:!s||!p||!(0,S.EP)(p)}),P=(0,I.jsx)(g.sN,{icon:"sync_problem",text:"Re-execute latest run from failure",onClick:function(){return m({type:"from-failure"})},disabled:!s||!p||!(0,S.VM)(p)});return(0,I.jsx)(j.J,{onOpened:function(){return f()},content:(0,I.jsxs)(g.v2,{children:[(0,I.jsx)(N.U,{to:(0,R.jT)({repoName:t.name,repoLocation:t.location,pipelineName:n.name,isJob:n.isJob}),icon:"job",text:"View job"}),(0,I.jsx)(N.U,{to:(0,R.jT)({repoName:t.name,repoLocation:t.location,pipelineName:n.name,isJob:n.isJob,path:"/runs"}),icon:"checklist",text:"View all recent runs"}),s?k:(0,I.jsx)(v.u,{content:o.canLaunchPipelineReexecution,display:"block",children:k}),s?P:(0,I.jsx)(v.u,{content:o.canLaunchPipelineReexecution,display:"block",children:P})]}),position:"bottom-left",children:(0,I.jsx)(y.zx,{icon:(0,I.jsx)(w.JO,{name:"expand_more"})})})},E=(0,d.Ps)(r||(r=(0,s.Z)(["\n  query RunReExecutionQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        parentPipelineSnapshotId\n        ...RunFragment\n      }\n    }\n  }\n\n  ","\n"])),k.J3),T=t(85548),_=t(86476),Z=t(9091),O=t(55752),U=t(9315),D=t(86875),A=t(3580),L=t(16279),F=t(76336),z="1.5fr 1fr 180px 96px 80px",$=function(e){var n=e.name,t=e.isJob,r=e.repoAddress,i=e.start,s=e.height,l=(0,c.t)(B,{variables:{selector:(0,F._T)(r,n)}}),d=(0,a.Z)(l,2),g=d[0],j=d[1];(0,L.v5)(g),(0,m.C4)(j,m.dT);var v=j.data,y=x.useMemo((function(){if("Pipeline"===(null===v||void 0===v?void 0:v.pipelineOrError.__typename)){var e=v.pipelineOrError;return{schedules:e.schedules,sensors:e.sensors}}return{schedules:[],sensors:[]}}),[v]),w=y.schedules,b=y.sensors,S=x.useMemo((function(){if("Pipeline"===(null===v||void 0===v?void 0:v.pipelineOrError.__typename)){var e=v.pipelineOrError.runs;if(e.length)return(0,o.Z)(e)}return[]}),[v]);return(0,I.jsx)(A.X2,{$height:s,$start:i,children:(0,I.jsxs)(G,{border:{side:"bottom",width:1,color:u.w.KeylineGray},children:[(0,I.jsxs)(A.E5,{children:[(0,I.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:(0,I.jsx)(f.rU,{to:(0,R.$U)(r,"/jobs/".concat(n)),children:(0,I.jsx)(h.g,{text:n})})}),(0,I.jsx)(L.HB,{children:"Pipeline"===(null===v||void 0===v?void 0:v.pipelineOrError.__typename)?v.pipelineOrError.description:""})]}),(0,I.jsx)(A.E5,{children:w.length||b.length?(0,I.jsx)(p.x,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:(0,I.jsx)(M,{children:(0,I.jsx)(_.I,{schedules:w,sensors:b,repoAddress:r})})}):(0,I.jsx)(L.mq,{queryResult:j})}),(0,I.jsx)(A.E5,{children:S.length?(0,I.jsx)(T.Z,{run:S[0],showButton:!1,showHover:!0,showSummary:!1,name:n}):(0,I.jsx)(L.mq,{queryResult:j})}),(0,I.jsx)(A.E5,{children:S.length?(0,I.jsx)(p.x,{padding:{top:4},children:(0,I.jsx)(Z.JH,{jobName:n,runs:(0,o.Z)(S).reverse(),fade:!0})}):(0,I.jsx)(L.mq,{queryResult:j})}),(0,I.jsx)(A.E5,{children:(0,I.jsx)(p.x,{flex:{justifyContent:"flex-end"},style:{marginTop:"-2px"},children:(0,I.jsx)(P,{job:{isJob:t,name:n,runs:S},repoAddress:r})})})]})})},q=function(){return(0,I.jsxs)(p.x,{border:{side:"horizontal",width:1,color:u.w.KeylineGray},style:{display:"grid",gridTemplateColumns:z,height:"32px",fontSize:"12px",color:u.w.Gray600},children:[(0,I.jsx)(A.qN,{children:"Name"}),(0,I.jsx)(A.qN,{children:"Schedules/sensors"}),(0,I.jsx)(A.qN,{children:"Latest run"}),(0,I.jsx)(A.qN,{children:"Run history"}),(0,I.jsx)(A.qN,{})]})},G=(0,l.ZP)(p.x).withConfig({displayName:"VirtualizedJobRow__RowGrid",componentId:"otbkv8-0"})(["display:grid;grid-template-columns:",";height:100%;"],z),M=l.ZP.div.withConfig({displayName:"VirtualizedJobRow__ScheduleSensorTagContainer",componentId:"otbkv8-1"})(["width:100%;> .bp4-popover2-target{width:100%;}"]),B=(0,d.Ps)(i||(i=(0,s.Z)(["\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),O.$X,U.J,D.U)},17233:function(e,n,t){t.d(n,{o:function(){return F},i:function(){return L}});var r,i=t(99500),s=t(19065),o=t(922),a=t(65880),l=t(3159),c=t(7838),d=t(32030),u=t(61653),h=t(12745),p=t(11831),x=t(762),f=t(8412),m=t(75453),g=t(75497),j=t(325),v=t(74549),y=t(47678),w=t(69305),b=t(85548),S=t(62997),k=t(62e3),C=t(55752),N=t(9315),R=t(54268),I=t(32289),P=function(e,n){if(e===w.ynu.STOPPED&&0===n)return null;if(e===w.ynu.RUNNING&&1===n)return null;var t=[];return e===w.ynu.RUNNING&&0===n?t.push("Schedule is set to be running, but either the scheduler is not configured or the scheduler is not running the schedule"):e===w.ynu.STOPPED&&n>0&&t.push("Schedule is set to be stopped, but the scheduler is still running the schedule"),n>0&&t.push("Duplicate cron job for schedule found."),(0,I.jsx)(x.J,{interactionKind:"hover",popoverClassName:"bp4-popover-content-sizing",position:"right",content:(0,I.jsxs)(d.x,{flex:{direction:"column",gap:8},padding:12,children:[(0,I.jsx)("strong",{children:"There are errors with this schedule."}),(0,I.jsx)("div",{children:"Errors:"}),(0,I.jsx)("ul",{children:t.map((function(e,n){return(0,I.jsx)("li",{children:e},n)}))})]}),children:(0,I.jsx)(R.V,{fill:!0,interactive:!0,intent:"danger",children:"Error"})})},E=t(68156),T=t(36243),_=t(90933),Z=t(3580),O=t(16279),U=t(76336),D=t(25582),A="76px 1fr 1fr 148px 210px 92px",L=function(e){var n=e.name,t=e.repoAddress,r=e.start,i=e.height,o=(0,U.Ux)(t),l=(0,a.t)(q,{variables:{selector:{repositoryName:t.name,repositoryLocationName:t.location,scheduleName:n}},notifyOnNetworkStatusChange:!0}),C=(0,s.Z)(l,2),R=C[0],A=C[1];(0,O.v5)(R),(0,y.C4)(A,y.dT);var L=A.data,F=j.useMemo((function(){return"Schedule"!==(null===L||void 0===L?void 0:L.scheduleOrError.__typename)?null:L.scheduleOrError}),[L]),G=!(!F||!(0,U.E8)(o,F.pipelineName)),M=F?(0,T.A)(F.cronSchedule,F.executionTimezone||"UTC"):"";return(0,I.jsx)(Z.X2,{$height:i,$start:r,children:(0,I.jsxs)(z,{border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,I.jsx)(Z.E5,{children:F?(0,I.jsxs)(d.x,{flex:{direction:"column",gap:4},children:[(0,I.jsx)(N.M,{repoAddress:t,schedule:F},n),P(F.scheduleState.status,F.scheduleState.runningCount)]}):null}),(0,I.jsx)(Z.E5,{children:(0,I.jsxs)(d.x,{flex:{direction:"column",gap:4},children:[(0,I.jsx)("span",{style:{fontWeight:500},children:(0,I.jsx)(v.rU,{to:(0,D.$U)(t,"/schedules/".concat(n)),children:(0,I.jsx)(u.g,{text:n})})}),F?(0,I.jsx)(h.YS,{children:(0,I.jsx)(k.h,{showIcon:!0,size:"small",pipelineName:F.pipelineName,pipelineHrefContext:t,isJob:G})}):null]})}),(0,I.jsx)(Z.E5,{children:F?(0,I.jsxs)(d.x,{flex:{direction:"column",gap:4},children:[(0,I.jsx)($,{style:{maxWidth:"100%"},children:(0,I.jsx)(p.u,{position:"top-left",content:F.cronSchedule,display:"block",children:(0,I.jsx)("div",{style:{color:c.w.Dark,overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},title:M,children:M})})}),F.scheduleState.nextTick&&F.scheduleState.status===w.ynu.RUNNING?(0,I.jsx)(h.YS,{children:(0,I.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},children:["Next tick:\xa0",(0,I.jsx)(E.v,{timestamp:F.scheduleState.nextTick.timestamp,timezone:F.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})]})}):null]}):(0,I.jsx)(O.mq,{queryResult:A})}),(0,I.jsx)(Z.E5,{children:null!==F&&void 0!==F&&F.scheduleState.ticks.length?(0,I.jsx)("div",{children:(0,I.jsx)(S.TW,{tick:F.scheduleState.ticks[0],instigationType:w._5b.SCHEDULE})}):(0,I.jsx)(O.mq,{queryResult:A})}),(0,I.jsx)(Z.E5,{children:null!==F&&void 0!==F&&F.scheduleState&&(null===F||void 0===F?void 0:F.scheduleState.runs.length)>0?(0,I.jsx)(b.Z,{run:F.scheduleState.runs[0],name:n,showButton:!1,showHover:!0,showSummary:!1}):(0,I.jsx)(O.mq,{queryResult:A})}),(0,I.jsx)(Z.E5,{children:null!==F&&void 0!==F&&F.partitionSet?(0,I.jsx)(x.J,{content:(0,I.jsxs)(f.v2,{children:[(0,I.jsx)(_.U,{text:"View partition history",icon:"dynamic_feed",target:"_blank",to:(0,D.$U)(t,"/".concat(G?"jobs":"pipelines","/").concat(F.pipelineName,"/partitions"))}),(0,I.jsx)(_.U,{text:"Launch partition backfill",icon:"add_circle",target:"_blank",to:(0,D.$U)(t,"/".concat(G?"jobs":"pipelines","/").concat(F.pipelineName,"/partitions"))})]}),position:"bottom-left",children:(0,I.jsx)(m.zx,{icon:(0,I.jsx)(g.JO,{name:"expand_more"})})}):(0,I.jsx)("span",{style:{color:c.w.Gray400},children:"\u2013"})})]})})},F=function(){return(0,I.jsxs)(d.x,{border:{side:"horizontal",width:1,color:c.w.KeylineGray},style:{display:"grid",gridTemplateColumns:A,height:"32px",fontSize:"12px",color:c.w.Gray600},children:[(0,I.jsx)(Z.qN,{}),(0,I.jsx)(Z.qN,{children:"Schedule name"}),(0,I.jsx)(Z.qN,{children:"Schedule"}),(0,I.jsx)(Z.qN,{children:"Last tick"}),(0,I.jsx)(Z.qN,{children:"Last run"}),(0,I.jsx)(Z.qN,{children:"Actions"})]})},z=(0,o.ZP)(d.x).withConfig({displayName:"VirtualizedScheduleRow__RowGrid",componentId:"sc-9ps3vz-0"})(["display:grid;grid-template-columns:",";height:100%;"],A),$=o.ZP.div.withConfig({displayName:"VirtualizedScheduleRow__ScheduleStringContainer",componentId:"sc-9ps3vz-1"})(["max-width:100%;.bp4-popover2-target{max-width:100%;:focus{outline:none;}}"]),q=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query SingleScheduleQuery($selector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $selector) {\n      ... on Schedule {\n        id\n        name\n        pipelineName\n        description\n        scheduleState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        partitionSet {\n          id\n          name\n        }\n        ...ScheduleSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),S.dY,C.$X,N.J)},19377:function(e,n,t){t.d(n,{R:function(){return E},K:function(){return T}});var r,i=t(99500),s=t(19065),o=t(922),a=t(65880),l=t(3159),c=t(7838),d=t(32030),u=t(61653),h=t(12745),p=t(325),x=t(74549),f=t(47678),m=t(86655),g=t(69305),j=t(85548),v=t(62997),y=t(62e3),w=t(55752),b=t(36349),S=t(86875),k=t(3580),C=t(16279),N=t(76336),R=t(25582),I=t(32289),P="76px 1.5fr 1fr 120px 148px 180px",E=function(e){var n=e.name,t=e.repoAddress,r=e.start,i=e.height,o=(0,N.Ux)(t),l=(0,a.t)(Z,{variables:{selector:{repositoryName:t.name,repositoryLocationName:t.location,sensorName:n}}}),w=(0,s.Z)(l,2),P=w[0],E=w[1];(0,C.v5)(P),(0,f.C4)(E,f.dT);var T=E.data,O=p.useMemo((function(){return"Sensor"!==(null===T||void 0===T?void 0:T.sensorOrError.__typename)?null:T.sensorOrError}),[T]);return(0,I.jsx)(k.X2,{$height:i,$start:r,children:(0,I.jsxs)(_,{border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,I.jsx)(k.E5,{children:O?(0,I.jsx)(d.x,{flex:{direction:"column",gap:4},children:(0,I.jsx)(S.c,{repoAddress:t,sensor:O},n)}):null}),(0,I.jsx)(k.E5,{children:(0,I.jsxs)(d.x,{flex:{direction:"column",gap:4},children:[(0,I.jsx)("span",{style:{fontWeight:500},children:(0,I.jsx)(x.rU,{to:(0,R.$U)(t,"/sensors/".concat(n)),children:(0,I.jsx)(u.g,{text:n})})}),(0,I.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,I.jsx)(h.YS,{style:{color:c.w.Gray500,whiteSpace:"nowrap"},children:null===O||void 0===O?void 0:O.description})})]})}),(0,I.jsx)(k.E5,{children:(0,I.jsxs)(d.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:[null!==O&&void 0!==O&&O.targets&&O.targets.length?(0,I.jsx)(d.x,{flex:{direction:"column",gap:2},children:O.targets.map((function(e){return(0,I.jsx)(y.h,{showIcon:!0,size:"small",pipelineName:e.pipelineName,pipelineHrefContext:t,isJob:!(!o||!(0,N.E8)(o,e.pipelineName))},e.pipelineName)}))}):null,null!==O&&void 0!==O&&O.metadata.assetKeys&&O.metadata.assetKeys.length?(0,I.jsx)(d.x,{flex:{direction:"column",gap:2},children:O.metadata.assetKeys.map((function(e){return(0,I.jsx)(m.R,{path:e.path,icon:"asset"},e.path.join("/"))}))}):null]})}),(0,I.jsx)(k.E5,{children:O?(0,I.jsx)("div",{style:{color:c.w.Dark},children:(0,b.F)(O.minIntervalSeconds)}):(0,I.jsx)(C.mq,{queryResult:E})}),(0,I.jsx)(k.E5,{children:null!==O&&void 0!==O&&O.sensorState.ticks.length?(0,I.jsx)("div",{children:(0,I.jsx)(v.TW,{tick:O.sensorState.ticks[0],instigationType:g._5b.SENSOR})}):(0,I.jsx)(C.mq,{queryResult:E})}),(0,I.jsx)(k.E5,{children:null!==O&&void 0!==O&&O.sensorState&&(null===O||void 0===O?void 0:O.sensorState.runs.length)>0?(0,I.jsx)(j.Z,{run:O.sensorState.runs[0],name:n,showButton:!1,showHover:!0,showSummary:!1}):(0,I.jsx)(C.mq,{queryResult:E})})]})})},T=function(){return(0,I.jsxs)(d.x,{border:{side:"horizontal",width:1,color:c.w.KeylineGray},style:{display:"grid",gridTemplateColumns:P,height:"32px",fontSize:"12px",color:c.w.Gray600},children:[(0,I.jsx)(k.qN,{}),(0,I.jsx)(k.qN,{children:"Name"}),(0,I.jsx)(k.qN,{children:"Job / Asset"}),(0,I.jsx)(k.qN,{children:"Frequency"}),(0,I.jsx)(k.qN,{children:"Last tick"}),(0,I.jsx)(k.qN,{children:"Last run"})]})},_=(0,o.ZP)(d.x).withConfig({displayName:"VirtualizedSensorRow__RowGrid",componentId:"sc-1sgrm9e-0"})(["display:grid;grid-template-columns:",";height:100%;"],P),Z=(0,l.Ps)(r||(r=(0,i.Z)(["\n  query SingleSensorQuery($selector: SensorSelector!) {\n    sensorOrError(sensorSelector: $selector) {\n      ... on Sensor {\n        id\n        description\n        name\n        targets {\n          pipelineName\n        }\n        metadata {\n          assetKeys {\n            path\n          }\n        }\n        minIntervalSeconds\n        description\n        sensorState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"])),v.dY,w.$X,S.U)},16279:function(e,n,t){t.d(n,{vG:function(){return d},mq:function(){return u},HB:function(){return h},v5:function(){return x}});var r=t(922),i=t(7838),s=t(12745),o=t(325),a=t(35815),l=t(3580),c=t(32289),d=function(e){var n=e.repoAddress,t=e.height,r=e.start,i=e.expanded,s=e.onToggle,o=e.onToggleAll,d=e.showLocation,u=e.rightElement;return(0,c.jsx)(l.X2,{$height:t,$start:r,children:(0,c.jsx)(a.L,{repoName:n.name,repoLocation:n.location,expanded:i,onClick:function(e){return e.getModifierState("Shift")?o(!i):s(n)},showLocation:d,rightElement:u})})},u=function(e){var n=e.queryResult,t=e.noneString,r=void 0===t?"None":t,s=n.called,o=n.loading,a=n.data;return(0,c.jsx)("div",{style:{color:i.w.Gray500},children:!s||o&&!a?"Loading":r})},h=function(e){var n=e.children;return(0,c.jsx)(p,{children:(0,c.jsx)(s.YS,{children:n})})},p=r.ZP.div.withConfig({displayName:"VirtualizedWorkspaceTable__CaptionTextContainer",componentId:"k24uol-0"})(["max-width:100%;overflow:hidden;text-overflow:ellipsis;","{color:",";white-space:nowrap;}"],s.YS,i.w.Gray500),x=function(e){o.useEffect((function(){var n=setTimeout((function(){e()}),100);return function(){return clearTimeout(n)}}),[e])}},68112:function(e,n,t){t.d(n,{h:function(){return v}});var r=t(31112),i=t(32030),s=t(12745),o=t(7838),a=t(11831),l=t(75453),c=t(75497),d=(t(325),t(74549)),u=t(86562),h=t(31269),p=t(47678),x=t(37286),f=t(25582),m=t(32289),g=function(e){var n=e.repoAddress,t=e.refreshState,r=e.tab;return(0,m.jsxs)(i.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,m.jsxs)(h.mQ,{selectedTabId:r,children:[(0,m.jsx)(x.f,{id:"assets",title:"Assets",to:(0,f.$U)(n,"/assets")}),(0,m.jsx)(x.f,{id:"jobs",title:"Jobs",to:(0,f.$U)(n,"/jobs")}),(0,m.jsx)(x.f,{id:"schedules",title:"Schedules",to:(0,f.$U)(n,"/schedules")}),(0,m.jsx)(x.f,{id:"sensors",title:"Sensors",to:(0,f.$U)(n,"/sensors")}),(0,m.jsx)(x.f,{id:"graphs",title:"Graphs",to:(0,f.$U)(n,"/graphs")}),(0,m.jsx)(x.f,{id:"ops",title:"Ops",to:(0,f.$U)(n,"/ops")}),(0,m.jsx)(x.f,{id:"resources",title:"Resources",to:(0,f.$U)(n,"/resources")})]}),t?(0,m.jsx)(i.x,{padding:{bottom:8},children:(0,m.jsx)(p.xi,{refreshState:t})}):null]})},j=t(33902),v=function(e){var n=e.repoAddress,t=e.tab,h=e.refreshState,p=e.queryData;return(0,m.jsx)(r.m,{title:(0,m.jsxs)(i.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,m.jsx)(s.X6,{children:(0,m.jsx)(d.rU,{to:"/locations",style:{color:o.w.Dark},children:"Deployment"})}),(0,m.jsx)(s.X6,{children:"/"}),(0,m.jsx)(s.X6,{style:{color:o.w.Gray600},children:(0,j.Uz)(n)})]}),tabs:(0,m.jsx)(g,{repoAddress:n,tab:t,refreshState:h,queryData:p}),right:(0,m.jsx)(u.s,{location:n.location,ChildComponent:function(e){var n=e.tryReload,t=e.reloading,r=e.hasReloadPermission;return(0,m.jsx)(a.u,{canShow:!r,content:r?"":u.H,useDisabledButtonTooltipFix:!0,children:(0,m.jsx)(l.zx,{onClick:function(){return n()},loading:t,disabled:!r,icon:(0,m.jsx)(c.JO,{name:"refresh"}),children:"Reload definitions"})})}})})}}}]);
//# sourceMappingURL=102.a4a6e9fa.chunk.js.map