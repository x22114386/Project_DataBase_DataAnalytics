{"version":3,"file":"static/js/692.e5dff029.chunk.js","mappings":"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","sources":["../../../node_modules/codemirror/addon/comment/comment.js","../../../node_modules/codemirror/addon/edit/matchbrackets.js","../../../node_modules/codemirror/addon/fold/foldcode.js","../../../node_modules/codemirror/addon/fold/foldgutter.js","../../../node_modules/codemirror/addon/fold/indent-fold.js","../../../node_modules/codemirror/addon/search/jump-to-line.js","../../../node_modules/codemirror/keymap/sublime.js","../../../node_modules/lodash/_baseDifference.js","../../../node_modules/lodash/flatMap.js","../../../node_modules/lodash/keyBy.js","../../../node_modules/lodash/negate.js","../../../node_modules/lodash/pickBy.js","../../../node_modules/lodash/reject.js","../../../node_modules/lodash/uniqBy.js","../../../node_modules/lodash/without.js","../../../node_modules/remark-plain-text/src/index.ts","../../../node_modules/remark-plain-text/src/visitor.ts","../../../node_modules/remark-plain-text/node_modules/unist-util-is/convert.js","../../../node_modules/remark-plain-text/node_modules/unist-util-visit-parents/index.js","../../../node_modules/remark-plain-text/node_modules/unist-util-visit/index.js","../../../node_modules/mdast-util-to-markdown/node_modules/zwitch/index.js","../../../node_modules/mdast-util-to-markdown/lib/configure.js","../../../node_modules/mdast-util-to-markdown/lib/handle/blockquote.js","../../../node_modules/mdast-util-to-markdown/lib/handle/break.js","../../../node_modules/mdast-util-to-markdown/lib/util/format-code-as-indented.js","../../../node_modules/mdast-util-to-markdown/lib/handle/code.js","../../../node_modules/mdast-util-to-markdown/lib/util/check-quote.js","../../../node_modules/mdast-util-to-markdown/lib/handle/emphasis.js","../../../node_modules/mdast-util-to-markdown/lib/util/check-emphasis.js","../../../node_modules/mdast-util-to-markdown/lib/util/format-heading-as-setext.js","../../../node_modules/mdast-util-to-markdown/node_modules/unist-util-visit/lib/index.js","../../../node_modules/mdast-util-to-markdown/lib/handle/html.js","../../../node_modules/mdast-util-to-markdown/lib/handle/image.js","../../../node_modules/mdast-util-to-markdown/lib/handle/image-reference.js","../../../node_modules/mdast-util-to-markdown/lib/util/format-link-as-autolink.js","../../../node_modules/mdast-util-to-markdown/lib/handle/link.js","../../../node_modules/mdast-util-to-markdown/lib/handle/link-reference.js","../../../node_modules/mdast-util-to-markdown/lib/util/check-bullet-ordered.js","../../../node_modules/mdast-util-to-markdown/lib/util/check-rule.js","../../../node_modules/mdast-util-phrasing/lib/index.js","../../../node_modules/mdast-util-to-markdown/lib/handle/strong.js","../../../node_modules/mdast-util-to-markdown/lib/util/check-strong.js","../../../node_modules/mdast-util-to-markdown/lib/handle/index.js","../../../node_modules/mdast-util-to-markdown/lib/util/check-fence.js","../../../node_modules/longest-streak/index.js","../../../node_modules/mdast-util-to-markdown/lib/handle/definition.js","../../../node_modules/mdast-util-to-markdown/lib/handle/heading.js","../../../node_modules/mdast-util-to-markdown/lib/handle/list.js","../../../node_modules/mdast-util-to-markdown/lib/util/check-bullet-ordered-other.js","../../../node_modules/mdast-util-to-markdown/lib/util/check-bullet-other.js","../../../node_modules/mdast-util-to-markdown/lib/handle/paragraph.js","../../../node_modules/mdast-util-to-markdown/lib/handle/root.js","../../../node_modules/mdast-util-to-markdown/lib/handle/text.js","../../../node_modules/mdast-util-to-markdown/lib/handle/thematic-break.js","../../../node_modules/mdast-util-to-markdown/lib/util/check-rule-repetition.js","../../../node_modules/mdast-util-to-markdown/lib/join.js","../../../node_modules/mdast-util-to-markdown/lib/unsafe.js","../../../node_modules/mdast-util-to-markdown/lib/index.js","../../../node_modules/remark-stringify/index.js","../../../node_modules/remark-stringify/lib/index.js","../../../node_modules/remark/index.js"],"sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var noOptions = {};\n  var nonWS = /[^\\s\\u00a0]/;\n  var Pos = CodeMirror.Pos, cmp = CodeMirror.cmpPos;\n\n  function firstNonWS(str) {\n    var found = str.search(nonWS);\n    return found == -1 ? 0 : found;\n  }\n\n  CodeMirror.commands.toggleComment = function(cm) {\n    cm.toggleComment();\n  };\n\n  CodeMirror.defineExtension(\"toggleComment\", function(options) {\n    if (!options) options = noOptions;\n    var cm = this;\n    var minLine = Infinity, ranges = this.listSelections(), mode = null;\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      if (from.line >= minLine) continue;\n      if (to.line >= minLine) to = Pos(minLine, 0);\n      minLine = from.line;\n      if (mode == null) {\n        if (cm.uncomment(from, to, options)) mode = \"un\";\n        else { cm.lineComment(from, to, options); mode = \"line\"; }\n      } else if (mode == \"un\") {\n        cm.uncomment(from, to, options);\n      } else {\n        cm.lineComment(from, to, options);\n      }\n    }\n  });\n\n  // Rough heuristic to try and detect lines that are part of multi-line string\n  function probablyInsideString(cm, pos, line) {\n    return /\\bstring\\b/.test(cm.getTokenTypeAt(Pos(pos.line, 0))) && !/^[\\'\\\"\\`]/.test(line)\n  }\n\n  function getMode(cm, pos) {\n    var mode = cm.getMode()\n    return mode.useInnerComments === false || !mode.innerMode ? mode : cm.getModeAt(pos)\n  }\n\n  CodeMirror.defineExtension(\"lineComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var firstLine = self.getLine(from.line);\n    if (firstLine == null || probablyInsideString(self, from, firstLine)) return;\n\n    var commentString = options.lineComment || mode.lineComment;\n    if (!commentString) {\n      if (options.blockCommentStart || mode.blockCommentStart) {\n        options.fullLines = true;\n        self.blockComment(from, to, options);\n      }\n      return;\n    }\n\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line + 1 : to.line, self.lastLine() + 1);\n    var pad = options.padding == null ? \" \" : options.padding;\n    var blankLines = options.commentBlankLines || from.line == to.line;\n\n    self.operation(function() {\n      if (options.indent) {\n        var baseString = null;\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i);\n          var whitespace = line.slice(0, firstNonWS(line));\n          if (baseString == null || baseString.length > whitespace.length) {\n            baseString = whitespace;\n          }\n        }\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i), cut = baseString.length;\n          if (!blankLines && !nonWS.test(line)) continue;\n          if (line.slice(0, cut) != baseString) cut = firstNonWS(line);\n          self.replaceRange(baseString + commentString + pad, Pos(i, 0), Pos(i, cut));\n        }\n      } else {\n        for (var i = from.line; i < end; ++i) {\n          if (blankLines || nonWS.test(self.getLine(i)))\n            self.replaceRange(commentString + pad, Pos(i, 0));\n        }\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"blockComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) {\n      if ((options.lineComment || mode.lineComment) && options.fullLines != false)\n        self.lineComment(from, to, options);\n      return;\n    }\n    if (/\\bcomment\\b/.test(self.getTokenTypeAt(Pos(from.line, 0)))) return\n\n    var end = Math.min(to.line, self.lastLine());\n    if (end != from.line && to.ch == 0 && nonWS.test(self.getLine(end))) --end;\n\n    var pad = options.padding == null ? \" \" : options.padding;\n    if (from.line > end) return;\n\n    self.operation(function() {\n      if (options.fullLines != false) {\n        var lastLineHasText = nonWS.test(self.getLine(end));\n        self.replaceRange(pad + endString, Pos(end));\n        self.replaceRange(startString + pad, Pos(from.line, 0));\n        var lead = options.blockCommentLead || mode.blockCommentLead;\n        if (lead != null) for (var i = from.line + 1; i <= end; ++i)\n          if (i != end || lastLineHasText)\n            self.replaceRange(lead + pad, Pos(i, 0));\n      } else {\n        var atCursor = cmp(self.getCursor(\"to\"), to) == 0, empty = !self.somethingSelected()\n        self.replaceRange(endString, to);\n        if (atCursor) self.setSelection(empty ? to : self.getCursor(\"from\"), to)\n        self.replaceRange(startString, from);\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"uncomment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line : to.line - 1, self.lastLine()), start = Math.min(from.line, end);\n\n    // Try finding line comments\n    var lineString = options.lineComment || mode.lineComment, lines = [];\n    var pad = options.padding == null ? \" \" : options.padding, didSomething;\n    lineComment: {\n      if (!lineString) break lineComment;\n      for (var i = start; i <= end; ++i) {\n        var line = self.getLine(i);\n        var found = line.indexOf(lineString);\n        if (found > -1 && !/comment/.test(self.getTokenTypeAt(Pos(i, found + 1)))) found = -1;\n        if (found == -1 && nonWS.test(line)) break lineComment;\n        if (found > -1 && nonWS.test(line.slice(0, found))) break lineComment;\n        lines.push(line);\n      }\n      self.operation(function() {\n        for (var i = start; i <= end; ++i) {\n          var line = lines[i - start];\n          var pos = line.indexOf(lineString), endPos = pos + lineString.length;\n          if (pos < 0) continue;\n          if (line.slice(endPos, endPos + pad.length) == pad) endPos += pad.length;\n          didSomething = true;\n          self.replaceRange(\"\", Pos(i, pos), Pos(i, endPos));\n        }\n      });\n      if (didSomething) return true;\n    }\n\n    // Try block comments\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) return false;\n    var lead = options.blockCommentLead || mode.blockCommentLead;\n    var startLine = self.getLine(start), open = startLine.indexOf(startString)\n    if (open == -1) return false\n    var endLine = end == start ? startLine : self.getLine(end)\n    var close = endLine.indexOf(endString, end == start ? open + startString.length : 0);\n    var insideStart = Pos(start, open + 1), insideEnd = Pos(end, close + 1)\n    if (close == -1 ||\n        !/comment/.test(self.getTokenTypeAt(insideStart)) ||\n        !/comment/.test(self.getTokenTypeAt(insideEnd)) ||\n        self.getRange(insideStart, insideEnd, \"\\n\").indexOf(endString) > -1)\n      return false;\n\n    // Avoid killing block comments completely outside the selection.\n    // Positions of the last startString before the start of the selection, and the first endString after it.\n    var lastStart = startLine.lastIndexOf(startString, from.ch);\n    var firstEnd = lastStart == -1 ? -1 : startLine.slice(0, from.ch).indexOf(endString, lastStart + startString.length);\n    if (lastStart != -1 && firstEnd != -1 && firstEnd + endString.length != from.ch) return false;\n    // Positions of the first endString after the end of the selection, and the last startString before it.\n    firstEnd = endLine.indexOf(endString, to.ch);\n    var almostLastStart = endLine.slice(to.ch).lastIndexOf(startString, firstEnd - to.ch);\n    lastStart = (firstEnd == -1 || almostLastStart == -1) ? -1 : to.ch + almostLastStart;\n    if (firstEnd != -1 && lastStart != -1 && lastStart != to.ch) return false;\n\n    self.operation(function() {\n      self.replaceRange(\"\", Pos(end, close - (pad && endLine.slice(close - pad.length, close) == pad ? pad.length : 0)),\n                        Pos(end, close + endString.length));\n      var openEnd = open + startString.length;\n      if (pad && startLine.slice(openEnd, openEnd + pad.length) == pad) openEnd += pad.length;\n      self.replaceRange(\"\", Pos(start, open), Pos(start, openEnd));\n      if (lead) for (var i = start + 1; i <= end; ++i) {\n        var line = self.getLine(i), found = line.indexOf(lead);\n        if (found == -1 || nonWS.test(line.slice(0, found))) continue;\n        var foundEnd = found + lead.length;\n        if (pad && line.slice(foundEnd, foundEnd + pad.length) == pad) foundEnd += pad.length;\n        self.replaceRange(\"\", Pos(i, found), Pos(i, foundEnd));\n      }\n    });\n    return true;\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\", \"<\": \">>\", \">\": \"<<\"};\n\n  function bracketRegex(config) {\n    return config && config.bracketRegex || /[(){}[\\]]/\n  }\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = /(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className)\n    var re = bracketRegex(config)\n\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && re.test(line.text.charAt(pos)) && matching[line.text.charAt(pos)]) ||\n        re.test(line.text.charAt(pos + 1)) && matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = bracketRegex(config)\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined ||\n                            (cm.getTokenTypeAt(Pos(lineNo, pos + 1)) || \"\") == (style || \"\"))) {\n          var match = matching[ch];\n          if (match && (match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000,\n      highlightNonMatching = config && config.highlightNonMatching;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && (match.match || highlightNonMatching !== false) && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textarea whenever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n      cm.state.matchBrackets.currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  function clearHighlighted(cm) {\n    if (cm.state.matchBrackets && cm.state.matchBrackets.currentlyHighlighted) {\n      cm.state.matchBrackets.currentlyHighlighted();\n      cm.state.matchBrackets.currentlyHighlighted = null;\n    }\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      cm.off(\"focus\", doMatchBrackets)\n      cm.off(\"blur\", clearHighlighted)\n      clearHighlighted(cm);\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n      cm.on(\"focus\", doMatchBrackets)\n      cm.on(\"blur\", clearHighlighted)\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    // Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function doFold(cm, pos, options, force) {\n    if (options && options.call) {\n      var finder = options;\n      options = null;\n    } else {\n      var finder = getOption(cm, options, \"rangeFinder\");\n    }\n    if (typeof pos == \"number\") pos = CodeMirror.Pos(pos, 0);\n    var minSize = getOption(cm, options, \"minFoldSize\");\n\n    function getRange(allowFolded) {\n      var range = finder(cm, pos);\n      if (!range || range.to.line - range.from.line < minSize) return null;\n      if (force === \"fold\") return range;\n\n      var marks = cm.findMarksAt(range.from);\n      for (var i = 0; i < marks.length; ++i) {\n        if (marks[i].__isFold) {\n          if (!allowFolded) return null;\n          range.cleared = true;\n          marks[i].clear();\n        }\n      }\n      return range;\n    }\n\n    var range = getRange(true);\n    if (getOption(cm, options, \"scanUp\")) while (!range && pos.line > cm.firstLine()) {\n      pos = CodeMirror.Pos(pos.line - 1, 0);\n      range = getRange(false);\n    }\n    if (!range || range.cleared || force === \"unfold\") return;\n\n    var myWidget = makeWidget(cm, options, range);\n    CodeMirror.on(myWidget, \"mousedown\", function(e) {\n      myRange.clear();\n      CodeMirror.e_preventDefault(e);\n    });\n    var myRange = cm.markText(range.from, range.to, {\n      replacedWith: myWidget,\n      clearOnEnter: getOption(cm, options, \"clearOnEnter\"),\n      __isFold: true\n    });\n    myRange.on(\"clear\", function(from, to) {\n      CodeMirror.signal(cm, \"unfold\", cm, from, to);\n    });\n    CodeMirror.signal(cm, \"fold\", cm, range.from, range.to);\n  }\n\n  function makeWidget(cm, options, range) {\n    var widget = getOption(cm, options, \"widget\");\n\n    if (typeof widget == \"function\") {\n      widget = widget(range.from, range.to);\n    }\n\n    if (typeof widget == \"string\") {\n      var text = document.createTextNode(widget);\n      widget = document.createElement(\"span\");\n      widget.appendChild(text);\n      widget.className = \"CodeMirror-foldmarker\";\n    } else if (widget) {\n      widget = widget.cloneNode(true)\n    }\n    return widget;\n  }\n\n  // Clumsy backwards-compatible interface\n  CodeMirror.newFoldFunction = function(rangeFinder, widget) {\n    return function(cm, pos) { doFold(cm, pos, {rangeFinder: rangeFinder, widget: widget}); };\n  };\n\n  // New-style interface\n  CodeMirror.defineExtension(\"foldCode\", function(pos, options, force) {\n    doFold(this, pos, options, force);\n  });\n\n  CodeMirror.defineExtension(\"isFolded\", function(pos) {\n    var marks = this.findMarksAt(pos);\n    for (var i = 0; i < marks.length; ++i)\n      if (marks[i].__isFold) return true;\n  });\n\n  CodeMirror.commands.toggleFold = function(cm) {\n    cm.foldCode(cm.getCursor());\n  };\n  CodeMirror.commands.fold = function(cm) {\n    cm.foldCode(cm.getCursor(), null, \"fold\");\n  };\n  CodeMirror.commands.unfold = function(cm) {\n    cm.foldCode(cm.getCursor(), { scanUp: false }, \"unfold\");\n  };\n  CodeMirror.commands.foldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), { scanUp: false }, \"fold\");\n    });\n  };\n  CodeMirror.commands.unfoldAll = function(cm) {\n    cm.operation(function() {\n      for (var i = cm.firstLine(), e = cm.lastLine(); i <= e; i++)\n        cm.foldCode(CodeMirror.Pos(i, 0), { scanUp: false }, \"unfold\");\n    });\n  };\n\n  CodeMirror.registerHelper(\"fold\", \"combine\", function() {\n    var funcs = Array.prototype.slice.call(arguments, 0);\n    return function(cm, start) {\n      for (var i = 0; i < funcs.length; ++i) {\n        var found = funcs[i](cm, start);\n        if (found) return found;\n      }\n    };\n  });\n\n  CodeMirror.registerHelper(\"fold\", \"auto\", function(cm, start) {\n    var helpers = cm.getHelpers(start, \"fold\");\n    for (var i = 0; i < helpers.length; i++) {\n      var cur = helpers[i](cm, start);\n      if (cur) return cur;\n    }\n  });\n\n  var defaultOptions = {\n    rangeFinder: CodeMirror.fold.auto,\n    widget: \"\\u2194\",\n    minFoldSize: 0,\n    scanUp: false,\n    clearOnEnter: true\n  };\n\n  CodeMirror.defineOption(\"foldOptions\", null);\n\n  function getOption(cm, options, name) {\n    if (options && options[name] !== undefined)\n      return options[name];\n    var editorOptions = cm.options.foldOptions;\n    if (editorOptions && editorOptions[name] !== undefined)\n      return editorOptions[name];\n    return defaultOptions[name];\n  }\n\n  CodeMirror.defineExtension(\"foldOption\", function(options, name) {\n    return getOption(this, options, name);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./foldcode\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./foldcode\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"foldGutter\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.clearGutter(cm.state.foldGutter.options.gutter);\n      cm.state.foldGutter = null;\n      cm.off(\"gutterClick\", onGutterClick);\n      cm.off(\"changes\", onChange);\n      cm.off(\"viewportChange\", onViewportChange);\n      cm.off(\"fold\", onFold);\n      cm.off(\"unfold\", onFold);\n      cm.off(\"swapDoc\", onChange);\n    }\n    if (val) {\n      cm.state.foldGutter = new State(parseOptions(val));\n      updateInViewport(cm);\n      cm.on(\"gutterClick\", onGutterClick);\n      cm.on(\"changes\", onChange);\n      cm.on(\"viewportChange\", onViewportChange);\n      cm.on(\"fold\", onFold);\n      cm.on(\"unfold\", onFold);\n      cm.on(\"swapDoc\", onChange);\n    }\n  });\n\n  var Pos = CodeMirror.Pos;\n\n  function State(options) {\n    this.options = options;\n    this.from = this.to = 0;\n  }\n\n  function parseOptions(opts) {\n    if (opts === true) opts = {};\n    if (opts.gutter == null) opts.gutter = \"CodeMirror-foldgutter\";\n    if (opts.indicatorOpen == null) opts.indicatorOpen = \"CodeMirror-foldgutter-open\";\n    if (opts.indicatorFolded == null) opts.indicatorFolded = \"CodeMirror-foldgutter-folded\";\n    return opts;\n  }\n\n  function isFolded(cm, line) {\n    var marks = cm.findMarks(Pos(line, 0), Pos(line + 1, 0));\n    for (var i = 0; i < marks.length; ++i) {\n      if (marks[i].__isFold) {\n        var fromPos = marks[i].find(-1);\n        if (fromPos && fromPos.line === line)\n          return marks[i];\n      }\n    }\n  }\n\n  function marker(spec) {\n    if (typeof spec == \"string\") {\n      var elt = document.createElement(\"div\");\n      elt.className = spec + \" CodeMirror-guttermarker-subtle\";\n      return elt;\n    } else {\n      return spec.cloneNode(true);\n    }\n  }\n\n  function updateFoldInfo(cm, from, to) {\n    var opts = cm.state.foldGutter.options, cur = from - 1;\n    var minSize = cm.foldOption(opts, \"minFoldSize\");\n    var func = cm.foldOption(opts, \"rangeFinder\");\n    // we can reuse the built-in indicator element if its className matches the new state\n    var clsFolded = typeof opts.indicatorFolded == \"string\" && classTest(opts.indicatorFolded);\n    var clsOpen = typeof opts.indicatorOpen == \"string\" && classTest(opts.indicatorOpen);\n    cm.eachLine(from, to, function(line) {\n      ++cur;\n      var mark = null;\n      var old = line.gutterMarkers;\n      if (old) old = old[opts.gutter];\n      if (isFolded(cm, cur)) {\n        if (clsFolded && old && clsFolded.test(old.className)) return;\n        mark = marker(opts.indicatorFolded);\n      } else {\n        var pos = Pos(cur, 0);\n        var range = func && func(cm, pos);\n        if (range && range.to.line - range.from.line >= minSize) {\n          if (clsOpen && old && clsOpen.test(old.className)) return;\n          mark = marker(opts.indicatorOpen);\n        }\n      }\n      if (!mark && !old) return;\n      cm.setGutterMarker(line, opts.gutter, mark);\n    });\n  }\n\n  // copied from CodeMirror/src/util/dom.js\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  function updateInViewport(cm) {\n    var vp = cm.getViewport(), state = cm.state.foldGutter;\n    if (!state) return;\n    cm.operation(function() {\n      updateFoldInfo(cm, vp.from, vp.to);\n    });\n    state.from = vp.from; state.to = vp.to;\n  }\n\n  function onGutterClick(cm, line, gutter) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    if (gutter != opts.gutter) return;\n    var folded = isFolded(cm, line);\n    if (folded) folded.clear();\n    else cm.foldCode(Pos(line, 0), opts);\n  }\n\n  function onChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    state.from = state.to = 0;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() { updateInViewport(cm); }, opts.foldOnChangeTimeSpan || 600);\n  }\n\n  function onViewportChange(cm) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var opts = state.options;\n    clearTimeout(state.changeUpdate);\n    state.changeUpdate = setTimeout(function() {\n      var vp = cm.getViewport();\n      if (state.from == state.to || vp.from - state.to > 20 || state.from - vp.to > 20) {\n        updateInViewport(cm);\n      } else {\n        cm.operation(function() {\n          if (vp.from < state.from) {\n            updateFoldInfo(cm, vp.from, state.from);\n            state.from = vp.from;\n          }\n          if (vp.to > state.to) {\n            updateFoldInfo(cm, state.to, vp.to);\n            state.to = vp.to;\n          }\n        });\n      }\n    }, opts.updateViewportTimeSpan || 400);\n  }\n\n  function onFold(cm, from) {\n    var state = cm.state.foldGutter;\n    if (!state) return;\n    var line = from.line;\n    if (line >= state.from && line < state.to)\n      updateFoldInfo(cm, line, line + 1);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction lineIndent(cm, lineNo) {\n  var text = cm.getLine(lineNo)\n  var spaceTo = text.search(/\\S/)\n  if (spaceTo == -1 || /\\bcomment\\b/.test(cm.getTokenTypeAt(CodeMirror.Pos(lineNo, spaceTo + 1))))\n    return -1\n  return CodeMirror.countColumn(text, null, cm.getOption(\"tabSize\"))\n}\n\nCodeMirror.registerHelper(\"fold\", \"indent\", function(cm, start) {\n  var myIndent = lineIndent(cm, start.line)\n  if (myIndent < 0) return\n  var lastLineInFold = null\n\n  // Go through lines until we find a line that definitely doesn't belong in\n  // the block we're folding, or to the end.\n  for (var i = start.line + 1, end = cm.lastLine(); i <= end; ++i) {\n    var indent = lineIndent(cm, i)\n    if (indent == -1) {\n    } else if (indent > myIndent) {\n      // Lines with a greater indent are considered part of the block.\n      lastLineInFold = i;\n    } else {\n      // If this line has non-space, non-comment content, and is\n      // indented less or equal to the start line, it is the start of\n      // another block.\n      break;\n    }\n  }\n  if (lastLineInFold) return {\n    from: CodeMirror.Pos(start.line, cm.getLine(start.line).length),\n    to: CodeMirror.Pos(lastLineInFold, cm.getLine(lastLineInFold).length)\n  };\n});\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Defines jumpToLine command. Uses dialog.js if present.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../dialog/dialog\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  // default search panel location\n  CodeMirror.defineOption(\"search\", {bottom: false});\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true, bottom: cm.options.search.bottom});\n    else f(prompt(shortText, deflt));\n  }\n\n  function getJumpDialog(cm) {\n    return cm.phrase(\"Jump to line:\") + ' <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">' + cm.phrase(\"(Use line:column or scroll% syntax)\") + '</span>';\n  }\n\n  function interpretLine(cm, string) {\n    var num = Number(string)\n    if (/^[-+]/.test(string)) return cm.getCursor().line + num\n    else return num - 1\n  }\n\n  CodeMirror.commands.jumpToLine = function(cm) {\n    var cur = cm.getCursor();\n    dialog(cm, getJumpDialog(cm), cm.phrase(\"Jump to line:\"), (cur.line + 1) + \":\" + cur.ch, function(posStr) {\n      if (!posStr) return;\n\n      var match;\n      if (match = /^\\s*([\\+\\-]?\\d+)\\s*\\:\\s*(\\d+)\\s*$/.exec(posStr)) {\n        cm.setCursor(interpretLine(cm, match[1]), Number(match[2]))\n      } else if (match = /^\\s*([\\+\\-]?\\d+(\\.\\d+)?)\\%\\s*/.exec(posStr)) {\n        var line = Math.round(cm.lineCount() * Number(match[1]) / 100);\n        if (/^[-+]/.test(match[1])) line = cur.line + line + 1;\n        cm.setCursor(line - 1, cur.ch);\n      } else if (match = /^\\s*\\:?\\s*([\\+\\-]?\\d+)\\s*/.exec(posStr)) {\n        cm.setCursor(interpretLine(cm, match[1]), cur.ch);\n      }\n    });\n  };\n\n  CodeMirror.keyMap[\"default\"][\"Alt-G\"] = \"jumpToLine\";\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// A rough approximation of Sublime Text's keybindings\n// Depends on addon/search/searchcursor.js and optionally addon/dialog/dialogs.js\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../lib/codemirror\"), require(\"../addon/search/searchcursor\"), require(\"../addon/edit/matchbrackets\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../lib/codemirror\", \"../addon/search/searchcursor\", \"../addon/edit/matchbrackets\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var cmds = CodeMirror.commands;\n  var Pos = CodeMirror.Pos;\n\n  // This is not exactly Sublime's algorithm. I couldn't make heads or tails of that.\n  function findPosSubword(doc, start, dir) {\n    if (dir < 0 && start.ch == 0) return doc.clipPos(Pos(start.line - 1));\n    var line = doc.getLine(start.line);\n    if (dir > 0 && start.ch >= line.length) return doc.clipPos(Pos(start.line + 1, 0));\n    var state = \"start\", type, startPos = start.ch;\n    for (var pos = startPos, e = dir < 0 ? 0 : line.length, i = 0; pos != e; pos += dir, i++) {\n      var next = line.charAt(dir < 0 ? pos - 1 : pos);\n      var cat = next != \"_\" && CodeMirror.isWordChar(next) ? \"w\" : \"o\";\n      if (cat == \"w\" && next.toUpperCase() == next) cat = \"W\";\n      if (state == \"start\") {\n        if (cat != \"o\") { state = \"in\"; type = cat; }\n        else startPos = pos + dir\n      } else if (state == \"in\") {\n        if (type != cat) {\n          if (type == \"w\" && cat == \"W\" && dir < 0) pos--;\n          if (type == \"W\" && cat == \"w\" && dir > 0) { // From uppercase to lowercase\n            if (pos == startPos + 1) { type = \"w\"; continue; }\n            else pos--;\n          }\n          break;\n        }\n      }\n    }\n    return Pos(start.line, pos);\n  }\n\n  function moveSubword(cm, dir) {\n    cm.extendSelectionsBy(function(range) {\n      if (cm.display.shift || cm.doc.extend || range.empty())\n        return findPosSubword(cm.doc, range.head, dir);\n      else\n        return dir < 0 ? range.from() : range.to();\n    });\n  }\n\n  cmds.goSubwordLeft = function(cm) { moveSubword(cm, -1); };\n  cmds.goSubwordRight = function(cm) { moveSubword(cm, 1); };\n\n  cmds.scrollLineUp = function(cm) {\n    var info = cm.getScrollInfo();\n    if (!cm.somethingSelected()) {\n      var visibleBottomLine = cm.lineAtHeight(info.top + info.clientHeight, \"local\");\n      if (cm.getCursor().line >= visibleBottomLine)\n        cm.execCommand(\"goLineUp\");\n    }\n    cm.scrollTo(null, info.top - cm.defaultTextHeight());\n  };\n  cmds.scrollLineDown = function(cm) {\n    var info = cm.getScrollInfo();\n    if (!cm.somethingSelected()) {\n      var visibleTopLine = cm.lineAtHeight(info.top, \"local\")+1;\n      if (cm.getCursor().line <= visibleTopLine)\n        cm.execCommand(\"goLineDown\");\n    }\n    cm.scrollTo(null, info.top + cm.defaultTextHeight());\n  };\n\n  cmds.splitSelectionByLine = function(cm) {\n    var ranges = cm.listSelections(), lineRanges = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      for (var line = from.line; line <= to.line; ++line)\n        if (!(to.line > from.line && line == to.line && to.ch == 0))\n          lineRanges.push({anchor: line == from.line ? from : Pos(line, 0),\n                           head: line == to.line ? to : Pos(line)});\n    }\n    cm.setSelections(lineRanges, 0);\n  };\n\n  cmds.singleSelectionTop = function(cm) {\n    var range = cm.listSelections()[0];\n    cm.setSelection(range.anchor, range.head, {scroll: false});\n  };\n\n  cmds.selectLine = function(cm) {\n    var ranges = cm.listSelections(), extended = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      extended.push({anchor: Pos(range.from().line, 0),\n                     head: Pos(range.to().line + 1, 0)});\n    }\n    cm.setSelections(extended);\n  };\n\n  function insertLine(cm, above) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    cm.operation(function() {\n      var len = cm.listSelections().length, newSelection = [], last = -1;\n      for (var i = 0; i < len; i++) {\n        var head = cm.listSelections()[i].head;\n        if (head.line <= last) continue;\n        var at = Pos(head.line + (above ? 0 : 1), 0);\n        cm.replaceRange(\"\\n\", at, null, \"+insertLine\");\n        cm.indentLine(at.line, null, true);\n        newSelection.push({head: at, anchor: at});\n        last = head.line + 1;\n      }\n      cm.setSelections(newSelection);\n    });\n    cm.execCommand(\"indentAuto\");\n  }\n\n  cmds.insertLineAfter = function(cm) { return insertLine(cm, false); };\n\n  cmds.insertLineBefore = function(cm) { return insertLine(cm, true); };\n\n  function wordAt(cm, pos) {\n    var start = pos.ch, end = start, line = cm.getLine(pos.line);\n    while (start && CodeMirror.isWordChar(line.charAt(start - 1))) --start;\n    while (end < line.length && CodeMirror.isWordChar(line.charAt(end))) ++end;\n    return {from: Pos(pos.line, start), to: Pos(pos.line, end), word: line.slice(start, end)};\n  }\n\n  cmds.selectNextOccurrence = function(cm) {\n    var from = cm.getCursor(\"from\"), to = cm.getCursor(\"to\");\n    var fullWord = cm.state.sublimeFindFullWord == cm.doc.sel;\n    if (CodeMirror.cmpPos(from, to) == 0) {\n      var word = wordAt(cm, from);\n      if (!word.word) return;\n      cm.setSelection(word.from, word.to);\n      fullWord = true;\n    } else {\n      var text = cm.getRange(from, to);\n      var query = fullWord ? new RegExp(\"\\\\b\" + text + \"\\\\b\") : text;\n      var cur = cm.getSearchCursor(query, to);\n      var found = cur.findNext();\n      if (!found) {\n        cur = cm.getSearchCursor(query, Pos(cm.firstLine(), 0));\n        found = cur.findNext();\n      }\n      if (!found || isSelectedRange(cm.listSelections(), cur.from(), cur.to())) return\n      cm.addSelection(cur.from(), cur.to());\n    }\n    if (fullWord)\n      cm.state.sublimeFindFullWord = cm.doc.sel;\n  };\n\n  cmds.skipAndSelectNextOccurrence = function(cm) {\n    var prevAnchor = cm.getCursor(\"anchor\"), prevHead = cm.getCursor(\"head\");\n    cmds.selectNextOccurrence(cm);\n    if (CodeMirror.cmpPos(prevAnchor, prevHead) != 0) {\n      cm.doc.setSelections(cm.doc.listSelections()\n          .filter(function (sel) {\n            return sel.anchor != prevAnchor || sel.head != prevHead;\n          }));\n    }\n  }\n\n  function addCursorToSelection(cm, dir) {\n    var ranges = cm.listSelections(), newRanges = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      var newAnchor = cm.findPosV(\n          range.anchor, dir, \"line\", range.anchor.goalColumn);\n      var newHead = cm.findPosV(\n          range.head, dir, \"line\", range.head.goalColumn);\n      newAnchor.goalColumn = range.anchor.goalColumn != null ?\n          range.anchor.goalColumn : cm.cursorCoords(range.anchor, \"div\").left;\n      newHead.goalColumn = range.head.goalColumn != null ?\n          range.head.goalColumn : cm.cursorCoords(range.head, \"div\").left;\n      var newRange = {anchor: newAnchor, head: newHead};\n      newRanges.push(range);\n      newRanges.push(newRange);\n    }\n    cm.setSelections(newRanges);\n  }\n  cmds.addCursorToPrevLine = function(cm) { addCursorToSelection(cm, -1); };\n  cmds.addCursorToNextLine = function(cm) { addCursorToSelection(cm, 1); };\n\n  function isSelectedRange(ranges, from, to) {\n    for (var i = 0; i < ranges.length; i++)\n      if (CodeMirror.cmpPos(ranges[i].from(), from) == 0 &&\n          CodeMirror.cmpPos(ranges[i].to(), to) == 0) return true\n    return false\n  }\n\n  var mirror = \"(){}[]\";\n  function selectBetweenBrackets(cm) {\n    var ranges = cm.listSelections(), newRanges = []\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], pos = range.head, opening = cm.scanForBracket(pos, -1);\n      if (!opening) return false;\n      for (;;) {\n        var closing = cm.scanForBracket(pos, 1);\n        if (!closing) return false;\n        if (closing.ch == mirror.charAt(mirror.indexOf(opening.ch) + 1)) {\n          var startPos = Pos(opening.pos.line, opening.pos.ch + 1);\n          if (CodeMirror.cmpPos(startPos, range.from()) == 0 &&\n              CodeMirror.cmpPos(closing.pos, range.to()) == 0) {\n            opening = cm.scanForBracket(opening.pos, -1);\n            if (!opening) return false;\n          } else {\n            newRanges.push({anchor: startPos, head: closing.pos});\n            break;\n          }\n        }\n        pos = Pos(closing.pos.line, closing.pos.ch + 1);\n      }\n    }\n    cm.setSelections(newRanges);\n    return true;\n  }\n\n  cmds.selectScope = function(cm) {\n    selectBetweenBrackets(cm) || cm.execCommand(\"selectAll\");\n  };\n  cmds.selectBetweenBrackets = function(cm) {\n    if (!selectBetweenBrackets(cm)) return CodeMirror.Pass;\n  };\n\n  function puncType(type) {\n    return !type ? null : /\\bpunctuation\\b/.test(type) ? type : undefined\n  }\n\n  cmds.goToBracket = function(cm) {\n    cm.extendSelectionsBy(function(range) {\n      var next = cm.scanForBracket(range.head, 1, puncType(cm.getTokenTypeAt(range.head)));\n      if (next && CodeMirror.cmpPos(next.pos, range.head) != 0) return next.pos;\n      var prev = cm.scanForBracket(range.head, -1, puncType(cm.getTokenTypeAt(Pos(range.head.line, range.head.ch + 1))));\n      return prev && Pos(prev.pos.line, prev.pos.ch + 1) || range.head;\n    });\n  };\n\n  cmds.swapLineUp = function(cm) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    var ranges = cm.listSelections(), linesToMove = [], at = cm.firstLine() - 1, newSels = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], from = range.from().line - 1, to = range.to().line;\n      newSels.push({anchor: Pos(range.anchor.line - 1, range.anchor.ch),\n                    head: Pos(range.head.line - 1, range.head.ch)});\n      if (range.to().ch == 0 && !range.empty()) --to;\n      if (from > at) linesToMove.push(from, to);\n      else if (linesToMove.length) linesToMove[linesToMove.length - 1] = to;\n      at = to;\n    }\n    cm.operation(function() {\n      for (var i = 0; i < linesToMove.length; i += 2) {\n        var from = linesToMove[i], to = linesToMove[i + 1];\n        var line = cm.getLine(from);\n        cm.replaceRange(\"\", Pos(from, 0), Pos(from + 1, 0), \"+swapLine\");\n        if (to > cm.lastLine())\n          cm.replaceRange(\"\\n\" + line, Pos(cm.lastLine()), null, \"+swapLine\");\n        else\n          cm.replaceRange(line + \"\\n\", Pos(to, 0), null, \"+swapLine\");\n      }\n      cm.setSelections(newSels);\n      cm.scrollIntoView();\n    });\n  };\n\n  cmds.swapLineDown = function(cm) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    var ranges = cm.listSelections(), linesToMove = [], at = cm.lastLine() + 1;\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var range = ranges[i], from = range.to().line + 1, to = range.from().line;\n      if (range.to().ch == 0 && !range.empty()) from--;\n      if (from < at) linesToMove.push(from, to);\n      else if (linesToMove.length) linesToMove[linesToMove.length - 1] = to;\n      at = to;\n    }\n    cm.operation(function() {\n      for (var i = linesToMove.length - 2; i >= 0; i -= 2) {\n        var from = linesToMove[i], to = linesToMove[i + 1];\n        var line = cm.getLine(from);\n        if (from == cm.lastLine())\n          cm.replaceRange(\"\", Pos(from - 1), Pos(from), \"+swapLine\");\n        else\n          cm.replaceRange(\"\", Pos(from, 0), Pos(from + 1, 0), \"+swapLine\");\n        cm.replaceRange(line + \"\\n\", Pos(to, 0), null, \"+swapLine\");\n      }\n      cm.scrollIntoView();\n    });\n  };\n\n  cmds.toggleCommentIndented = function(cm) {\n    cm.toggleComment({ indent: true });\n  }\n\n  cmds.joinLines = function(cm) {\n    var ranges = cm.listSelections(), joined = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i], from = range.from();\n      var start = from.line, end = range.to().line;\n      while (i < ranges.length - 1 && ranges[i + 1].from().line == end)\n        end = ranges[++i].to().line;\n      joined.push({start: start, end: end, anchor: !range.empty() && from});\n    }\n    cm.operation(function() {\n      var offset = 0, ranges = [];\n      for (var i = 0; i < joined.length; i++) {\n        var obj = joined[i];\n        var anchor = obj.anchor && Pos(obj.anchor.line - offset, obj.anchor.ch), head;\n        for (var line = obj.start; line <= obj.end; line++) {\n          var actual = line - offset;\n          if (line == obj.end) head = Pos(actual, cm.getLine(actual).length + 1);\n          if (actual < cm.lastLine()) {\n            cm.replaceRange(\" \", Pos(actual), Pos(actual + 1, /^\\s*/.exec(cm.getLine(actual + 1))[0].length));\n            ++offset;\n          }\n        }\n        ranges.push({anchor: anchor || head, head: head});\n      }\n      cm.setSelections(ranges, 0);\n    });\n  };\n\n  cmds.duplicateLine = function(cm) {\n    cm.operation(function() {\n      var rangeCount = cm.listSelections().length;\n      for (var i = 0; i < rangeCount; i++) {\n        var range = cm.listSelections()[i];\n        if (range.empty())\n          cm.replaceRange(cm.getLine(range.head.line) + \"\\n\", Pos(range.head.line, 0));\n        else\n          cm.replaceRange(cm.getRange(range.from(), range.to()), range.from());\n      }\n      cm.scrollIntoView();\n    });\n  };\n\n\n  function sortLines(cm, caseSensitive, direction) {\n    if (cm.isReadOnly()) return CodeMirror.Pass\n    var ranges = cm.listSelections(), toSort = [], selected;\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      if (range.empty()) continue;\n      var from = range.from().line, to = range.to().line;\n      while (i < ranges.length - 1 && ranges[i + 1].from().line == to)\n        to = ranges[++i].to().line;\n      if (!ranges[i].to().ch) to--;\n      toSort.push(from, to);\n    }\n    if (toSort.length) selected = true;\n    else toSort.push(cm.firstLine(), cm.lastLine());\n\n    cm.operation(function() {\n      var ranges = [];\n      for (var i = 0; i < toSort.length; i += 2) {\n        var from = toSort[i], to = toSort[i + 1];\n        var start = Pos(from, 0), end = Pos(to);\n        var lines = cm.getRange(start, end, false);\n        if (caseSensitive)\n          lines.sort(function(a, b) { return a < b ? -direction : a == b ? 0 : direction; });\n        else\n          lines.sort(function(a, b) {\n            var au = a.toUpperCase(), bu = b.toUpperCase();\n            if (au != bu) { a = au; b = bu; }\n            return a < b ? -direction : a == b ? 0 : direction;\n          });\n        cm.replaceRange(lines, start, end);\n        if (selected) ranges.push({anchor: start, head: Pos(to + 1, 0)});\n      }\n      if (selected) cm.setSelections(ranges, 0);\n    });\n  }\n\n  cmds.sortLines = function(cm) { sortLines(cm, true, 1); };\n  cmds.reverseSortLines = function(cm) { sortLines(cm, true, -1); };\n  cmds.sortLinesInsensitive = function(cm) { sortLines(cm, false, 1); };\n  cmds.reverseSortLinesInsensitive = function(cm) { sortLines(cm, false, -1); };\n\n  cmds.nextBookmark = function(cm) {\n    var marks = cm.state.sublimeBookmarks;\n    if (marks) while (marks.length) {\n      var current = marks.shift();\n      var found = current.find();\n      if (found) {\n        marks.push(current);\n        return cm.setSelection(found.from, found.to);\n      }\n    }\n  };\n\n  cmds.prevBookmark = function(cm) {\n    var marks = cm.state.sublimeBookmarks;\n    if (marks) while (marks.length) {\n      marks.unshift(marks.pop());\n      var found = marks[marks.length - 1].find();\n      if (!found)\n        marks.pop();\n      else\n        return cm.setSelection(found.from, found.to);\n    }\n  };\n\n  cmds.toggleBookmark = function(cm) {\n    var ranges = cm.listSelections();\n    var marks = cm.state.sublimeBookmarks || (cm.state.sublimeBookmarks = []);\n    for (var i = 0; i < ranges.length; i++) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      var found = ranges[i].empty() ? cm.findMarksAt(from) : cm.findMarks(from, to);\n      for (var j = 0; j < found.length; j++) {\n        if (found[j].sublimeBookmark) {\n          found[j].clear();\n          for (var k = 0; k < marks.length; k++)\n            if (marks[k] == found[j])\n              marks.splice(k--, 1);\n          break;\n        }\n      }\n      if (j == found.length)\n        marks.push(cm.markText(from, to, {sublimeBookmark: true, clearWhenEmpty: false}));\n    }\n  };\n\n  cmds.clearBookmarks = function(cm) {\n    var marks = cm.state.sublimeBookmarks;\n    if (marks) for (var i = 0; i < marks.length; i++) marks[i].clear();\n    marks.length = 0;\n  };\n\n  cmds.selectBookmarks = function(cm) {\n    var marks = cm.state.sublimeBookmarks, ranges = [];\n    if (marks) for (var i = 0; i < marks.length; i++) {\n      var found = marks[i].find();\n      if (!found)\n        marks.splice(i--, 0);\n      else\n        ranges.push({anchor: found.from, head: found.to});\n    }\n    if (ranges.length)\n      cm.setSelections(ranges, 0);\n  };\n\n  function modifyWordOrSelection(cm, mod) {\n    cm.operation(function() {\n      var ranges = cm.listSelections(), indices = [], replacements = [];\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i];\n        if (range.empty()) { indices.push(i); replacements.push(\"\"); }\n        else replacements.push(mod(cm.getRange(range.from(), range.to())));\n      }\n      cm.replaceSelections(replacements, \"around\", \"case\");\n      for (var i = indices.length - 1, at; i >= 0; i--) {\n        var range = ranges[indices[i]];\n        if (at && CodeMirror.cmpPos(range.head, at) > 0) continue;\n        var word = wordAt(cm, range.head);\n        at = word.from;\n        cm.replaceRange(mod(word.word), word.from, word.to);\n      }\n    });\n  }\n\n  cmds.smartBackspace = function(cm) {\n    if (cm.somethingSelected()) return CodeMirror.Pass;\n\n    cm.operation(function() {\n      var cursors = cm.listSelections();\n      var indentUnit = cm.getOption(\"indentUnit\");\n\n      for (var i = cursors.length - 1; i >= 0; i--) {\n        var cursor = cursors[i].head;\n        var toStartOfLine = cm.getRange({line: cursor.line, ch: 0}, cursor);\n        var column = CodeMirror.countColumn(toStartOfLine, null, cm.getOption(\"tabSize\"));\n\n        // Delete by one character by default\n        var deletePos = cm.findPosH(cursor, -1, \"char\", false);\n\n        if (toStartOfLine && !/\\S/.test(toStartOfLine) && column % indentUnit == 0) {\n          var prevIndent = new Pos(cursor.line,\n            CodeMirror.findColumn(toStartOfLine, column - indentUnit, indentUnit));\n\n          // Smart delete only if we found a valid prevIndent location\n          if (prevIndent.ch != cursor.ch) deletePos = prevIndent;\n        }\n\n        cm.replaceRange(\"\", deletePos, cursor, \"+delete\");\n      }\n    });\n  };\n\n  cmds.delLineRight = function(cm) {\n    cm.operation(function() {\n      var ranges = cm.listSelections();\n      for (var i = ranges.length - 1; i >= 0; i--)\n        cm.replaceRange(\"\", ranges[i].anchor, Pos(ranges[i].to().line), \"+delete\");\n      cm.scrollIntoView();\n    });\n  };\n\n  cmds.upcaseAtCursor = function(cm) {\n    modifyWordOrSelection(cm, function(str) { return str.toUpperCase(); });\n  };\n  cmds.downcaseAtCursor = function(cm) {\n    modifyWordOrSelection(cm, function(str) { return str.toLowerCase(); });\n  };\n\n  cmds.setSublimeMark = function(cm) {\n    if (cm.state.sublimeMark) cm.state.sublimeMark.clear();\n    cm.state.sublimeMark = cm.setBookmark(cm.getCursor());\n  };\n  cmds.selectToSublimeMark = function(cm) {\n    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();\n    if (found) cm.setSelection(cm.getCursor(), found);\n  };\n  cmds.deleteToSublimeMark = function(cm) {\n    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();\n    if (found) {\n      var from = cm.getCursor(), to = found;\n      if (CodeMirror.cmpPos(from, to) > 0) { var tmp = to; to = from; from = tmp; }\n      cm.state.sublimeKilled = cm.getRange(from, to);\n      cm.replaceRange(\"\", from, to);\n    }\n  };\n  cmds.swapWithSublimeMark = function(cm) {\n    var found = cm.state.sublimeMark && cm.state.sublimeMark.find();\n    if (found) {\n      cm.state.sublimeMark.clear();\n      cm.state.sublimeMark = cm.setBookmark(cm.getCursor());\n      cm.setCursor(found);\n    }\n  };\n  cmds.sublimeYank = function(cm) {\n    if (cm.state.sublimeKilled != null)\n      cm.replaceSelection(cm.state.sublimeKilled, null, \"paste\");\n  };\n\n  cmds.showInCenter = function(cm) {\n    var pos = cm.cursorCoords(null, \"local\");\n    cm.scrollTo(null, (pos.top + pos.bottom) / 2 - cm.getScrollInfo().clientHeight / 2);\n  };\n\n  function getTarget(cm) {\n    var from = cm.getCursor(\"from\"), to = cm.getCursor(\"to\");\n    if (CodeMirror.cmpPos(from, to) == 0) {\n      var word = wordAt(cm, from);\n      if (!word.word) return;\n      from = word.from;\n      to = word.to;\n    }\n    return {from: from, to: to, query: cm.getRange(from, to), word: word};\n  }\n\n  function findAndGoTo(cm, forward) {\n    var target = getTarget(cm);\n    if (!target) return;\n    var query = target.query;\n    var cur = cm.getSearchCursor(query, forward ? target.to : target.from);\n\n    if (forward ? cur.findNext() : cur.findPrevious()) {\n      cm.setSelection(cur.from(), cur.to());\n    } else {\n      cur = cm.getSearchCursor(query, forward ? Pos(cm.firstLine(), 0)\n                                              : cm.clipPos(Pos(cm.lastLine())));\n      if (forward ? cur.findNext() : cur.findPrevious())\n        cm.setSelection(cur.from(), cur.to());\n      else if (target.word)\n        cm.setSelection(target.from, target.to);\n    }\n  };\n  cmds.findUnder = function(cm) { findAndGoTo(cm, true); };\n  cmds.findUnderPrevious = function(cm) { findAndGoTo(cm,false); };\n  cmds.findAllUnder = function(cm) {\n    var target = getTarget(cm);\n    if (!target) return;\n    var cur = cm.getSearchCursor(target.query);\n    var matches = [];\n    var primaryIndex = -1;\n    while (cur.findNext()) {\n      matches.push({anchor: cur.from(), head: cur.to()});\n      if (cur.from().line <= target.from.line && cur.from().ch <= target.from.ch)\n        primaryIndex++;\n    }\n    cm.setSelections(matches, primaryIndex);\n  };\n\n\n  var keyMap = CodeMirror.keyMap;\n  keyMap.macSublime = {\n    \"Cmd-Left\": \"goLineStartSmart\",\n    \"Shift-Tab\": \"indentLess\",\n    \"Shift-Ctrl-K\": \"deleteLine\",\n    \"Alt-Q\": \"wrapLines\",\n    \"Ctrl-Left\": \"goSubwordLeft\",\n    \"Ctrl-Right\": \"goSubwordRight\",\n    \"Ctrl-Alt-Up\": \"scrollLineUp\",\n    \"Ctrl-Alt-Down\": \"scrollLineDown\",\n    \"Cmd-L\": \"selectLine\",\n    \"Shift-Cmd-L\": \"splitSelectionByLine\",\n    \"Esc\": \"singleSelectionTop\",\n    \"Cmd-Enter\": \"insertLineAfter\",\n    \"Shift-Cmd-Enter\": \"insertLineBefore\",\n    \"Cmd-D\": \"selectNextOccurrence\",\n    \"Shift-Cmd-Space\": \"selectScope\",\n    \"Shift-Cmd-M\": \"selectBetweenBrackets\",\n    \"Cmd-M\": \"goToBracket\",\n    \"Cmd-Ctrl-Up\": \"swapLineUp\",\n    \"Cmd-Ctrl-Down\": \"swapLineDown\",\n    \"Cmd-/\": \"toggleCommentIndented\",\n    \"Cmd-J\": \"joinLines\",\n    \"Shift-Cmd-D\": \"duplicateLine\",\n    \"F5\": \"sortLines\",\n    \"Shift-F5\": \"reverseSortLines\",\n    \"Cmd-F5\": \"sortLinesInsensitive\",\n    \"Shift-Cmd-F5\": \"reverseSortLinesInsensitive\",\n    \"F2\": \"nextBookmark\",\n    \"Shift-F2\": \"prevBookmark\",\n    \"Cmd-F2\": \"toggleBookmark\",\n    \"Shift-Cmd-F2\": \"clearBookmarks\",\n    \"Alt-F2\": \"selectBookmarks\",\n    \"Backspace\": \"smartBackspace\",\n    \"Cmd-K Cmd-D\": \"skipAndSelectNextOccurrence\",\n    \"Cmd-K Cmd-K\": \"delLineRight\",\n    \"Cmd-K Cmd-U\": \"upcaseAtCursor\",\n    \"Cmd-K Cmd-L\": \"downcaseAtCursor\",\n    \"Cmd-K Cmd-Space\": \"setSublimeMark\",\n    \"Cmd-K Cmd-A\": \"selectToSublimeMark\",\n    \"Cmd-K Cmd-W\": \"deleteToSublimeMark\",\n    \"Cmd-K Cmd-X\": \"swapWithSublimeMark\",\n    \"Cmd-K Cmd-Y\": \"sublimeYank\",\n    \"Cmd-K Cmd-C\": \"showInCenter\",\n    \"Cmd-K Cmd-G\": \"clearBookmarks\",\n    \"Cmd-K Cmd-Backspace\": \"delLineLeft\",\n    \"Cmd-K Cmd-1\": \"foldAll\",\n    \"Cmd-K Cmd-0\": \"unfoldAll\",\n    \"Cmd-K Cmd-J\": \"unfoldAll\",\n    \"Ctrl-Shift-Up\": \"addCursorToPrevLine\",\n    \"Ctrl-Shift-Down\": \"addCursorToNextLine\",\n    \"Cmd-F3\": \"findUnder\",\n    \"Shift-Cmd-F3\": \"findUnderPrevious\",\n    \"Alt-F3\": \"findAllUnder\",\n    \"Shift-Cmd-[\": \"fold\",\n    \"Shift-Cmd-]\": \"unfold\",\n    \"Cmd-I\": \"findIncremental\",\n    \"Shift-Cmd-I\": \"findIncrementalReverse\",\n    \"Cmd-H\": \"replace\",\n    \"F3\": \"findNext\",\n    \"Shift-F3\": \"findPrev\",\n    \"fallthrough\": \"macDefault\"\n  };\n  CodeMirror.normalizeKeyMap(keyMap.macSublime);\n\n  keyMap.pcSublime = {\n    \"Shift-Tab\": \"indentLess\",\n    \"Shift-Ctrl-K\": \"deleteLine\",\n    \"Alt-Q\": \"wrapLines\",\n    \"Ctrl-T\": \"transposeChars\",\n    \"Alt-Left\": \"goSubwordLeft\",\n    \"Alt-Right\": \"goSubwordRight\",\n    \"Ctrl-Up\": \"scrollLineUp\",\n    \"Ctrl-Down\": \"scrollLineDown\",\n    \"Ctrl-L\": \"selectLine\",\n    \"Shift-Ctrl-L\": \"splitSelectionByLine\",\n    \"Esc\": \"singleSelectionTop\",\n    \"Ctrl-Enter\": \"insertLineAfter\",\n    \"Shift-Ctrl-Enter\": \"insertLineBefore\",\n    \"Ctrl-D\": \"selectNextOccurrence\",\n    \"Shift-Ctrl-Space\": \"selectScope\",\n    \"Shift-Ctrl-M\": \"selectBetweenBrackets\",\n    \"Ctrl-M\": \"goToBracket\",\n    \"Shift-Ctrl-Up\": \"swapLineUp\",\n    \"Shift-Ctrl-Down\": \"swapLineDown\",\n    \"Ctrl-/\": \"toggleCommentIndented\",\n    \"Ctrl-J\": \"joinLines\",\n    \"Shift-Ctrl-D\": \"duplicateLine\",\n    \"F9\": \"sortLines\",\n    \"Shift-F9\": \"reverseSortLines\",\n    \"Ctrl-F9\": \"sortLinesInsensitive\",\n    \"Shift-Ctrl-F9\": \"reverseSortLinesInsensitive\",\n    \"F2\": \"nextBookmark\",\n    \"Shift-F2\": \"prevBookmark\",\n    \"Ctrl-F2\": \"toggleBookmark\",\n    \"Shift-Ctrl-F2\": \"clearBookmarks\",\n    \"Alt-F2\": \"selectBookmarks\",\n    \"Backspace\": \"smartBackspace\",\n    \"Ctrl-K Ctrl-D\": \"skipAndSelectNextOccurrence\",\n    \"Ctrl-K Ctrl-K\": \"delLineRight\",\n    \"Ctrl-K Ctrl-U\": \"upcaseAtCursor\",\n    \"Ctrl-K Ctrl-L\": \"downcaseAtCursor\",\n    \"Ctrl-K Ctrl-Space\": \"setSublimeMark\",\n    \"Ctrl-K Ctrl-A\": \"selectToSublimeMark\",\n    \"Ctrl-K Ctrl-W\": \"deleteToSublimeMark\",\n    \"Ctrl-K Ctrl-X\": \"swapWithSublimeMark\",\n    \"Ctrl-K Ctrl-Y\": \"sublimeYank\",\n    \"Ctrl-K Ctrl-C\": \"showInCenter\",\n    \"Ctrl-K Ctrl-G\": \"clearBookmarks\",\n    \"Ctrl-K Ctrl-Backspace\": \"delLineLeft\",\n    \"Ctrl-K Ctrl-1\": \"foldAll\",\n    \"Ctrl-K Ctrl-0\": \"unfoldAll\",\n    \"Ctrl-K Ctrl-J\": \"unfoldAll\",\n    \"Ctrl-Alt-Up\": \"addCursorToPrevLine\",\n    \"Ctrl-Alt-Down\": \"addCursorToNextLine\",\n    \"Ctrl-F3\": \"findUnder\",\n    \"Shift-Ctrl-F3\": \"findUnderPrevious\",\n    \"Alt-F3\": \"findAllUnder\",\n    \"Shift-Ctrl-[\": \"fold\",\n    \"Shift-Ctrl-]\": \"unfold\",\n    \"Ctrl-I\": \"findIncremental\",\n    \"Shift-Ctrl-I\": \"findIncrementalReverse\",\n    \"Ctrl-H\": \"replace\",\n    \"F3\": \"findNext\",\n    \"Shift-F3\": \"findPrev\",\n    \"fallthrough\": \"pcDefault\"\n  };\n  CodeMirror.normalizeKeyMap(keyMap.pcSublime);\n\n  var mac = keyMap.default == keyMap.macDefault;\n  keyMap.sublime = mac ? keyMap.macSublime : keyMap.pcSublime;\n});\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that negates the result of the predicate `func`. The\n * `func` predicate is invoked with the `this` binding and arguments of the\n * created function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} predicate The predicate to negate.\n * @returns {Function} Returns the new negated function.\n * @example\n *\n * function isEven(n) {\n *   return n % 2 == 0;\n * }\n *\n * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n * // => [1, 3, 5]\n */\nfunction negate(predicate) {\n  if (typeof predicate != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return function() {\n    var args = arguments;\n    switch (args.length) {\n      case 0: return !predicate.call(this);\n      case 1: return !predicate.call(this, args[0]);\n      case 2: return !predicate.call(this, args[0], args[1]);\n      case 3: return !predicate.call(this, args[0], args[1], args[2]);\n    }\n    return !predicate.apply(this, args);\n  };\n}\n\nmodule.exports = negate;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray'),\n    negate = require('./negate');\n\n/**\n * The opposite of `_.filter`; this method returns the elements of `collection`\n * that `predicate` does **not** return truthy for.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.filter\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': true }\n * ];\n *\n * _.reject(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.reject(users, { 'age': 40, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.reject(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.reject(users, 'active');\n * // => objects for ['barney']\n */\nfunction reject(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, negate(baseIteratee(predicate, 3)));\n}\n\nmodule.exports = reject;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","import * as visit from 'unist-util-visit';\nimport visitor from './visitor';\n\nfunction attacher() {\n  return transformer;\n\n  function transformer(tree: any, file: any) {\n    visit(tree, visitor);\n  }\n}\n\nmodule.exports = attacher;\n","/**\n * Body extraction\n * @param node MDAST Syntax Node\n */\nexport default function visitor(node: any) {\n  if (node.type !== 'text' && Array.isArray(node.children)) {\n    node.type = 'paragraph';\n  }\n  if (node.type === 'text') {\n    node.value += '\\n';\n  }\n}\n","'use strict'\n\nmodule.exports = convert\n\nfunction convert(test) {\n  if (typeof test === 'string') {\n    return typeFactory(test)\n  }\n\n  if (test === null || test === undefined) {\n    return ok\n  }\n\n  if (typeof test === 'object') {\n    return ('length' in test ? anyFactory : matchesFactory)(test)\n  }\n\n  if (typeof test === 'function') {\n    return test\n  }\n\n  throw new Error('Expected function, string, or object as test')\n}\n\nfunction convertAll(tests) {\n  var results = []\n  var length = tests.length\n  var index = -1\n\n  while (++index < length) {\n    results[index] = convert(tests[index])\n  }\n\n  return results\n}\n\n// Utility assert each property in `test` is represented in `node`, and each\n// values are strictly equal.\nfunction matchesFactory(test) {\n  return matches\n\n  function matches(node) {\n    var key\n\n    for (key in test) {\n      if (node[key] !== test[key]) {\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nfunction anyFactory(tests) {\n  var checks = convertAll(tests)\n  var length = checks.length\n\n  return matches\n\n  function matches() {\n    var index = -1\n\n    while (++index < length) {\n      if (checks[index].apply(this, arguments)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n// Utility to convert a string into a function which checks a given node’s type\n// for said string.\nfunction typeFactory(test) {\n  return type\n\n  function type(node) {\n    return Boolean(node && node.type === test)\n  }\n}\n\n// Utility to return true.\nfunction ok() {\n  return true\n}\n","'use strict'\n\nmodule.exports = visitParents\n\nvar convert = require('unist-util-is/convert')\n\nvar CONTINUE = true\nvar SKIP = 'skip'\nvar EXIT = false\n\nvisitParents.CONTINUE = CONTINUE\nvisitParents.SKIP = SKIP\nvisitParents.EXIT = EXIT\n\nfunction visitParents(tree, test, visitor, reverse) {\n  var is\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  is = convert(test)\n\n  one(tree, null, [])\n\n  // Visit a single node.\n  function one(node, index, parents) {\n    var result = []\n    var subresult\n\n    if (!test || is(node, index, parents[parents.length - 1] || null)) {\n      result = toResult(visitor(node, parents))\n\n      if (result[0] === EXIT) {\n        return result\n      }\n    }\n\n    if (node.children && result[0] !== SKIP) {\n      subresult = toResult(all(node.children, parents.concat(node)))\n      return subresult[0] === EXIT ? subresult : result\n    }\n\n    return result\n  }\n\n  // Visit children in `parent`.\n  function all(children, parents) {\n    var min = -1\n    var step = reverse ? -1 : 1\n    var index = (reverse ? children.length : min) + step\n    var result\n\n    while (index > min && index < children.length) {\n      result = one(children[index], index, parents)\n\n      if (result[0] === EXIT) {\n        return result\n      }\n\n      index = typeof result[1] === 'number' ? result[1] : index + step\n    }\n  }\n}\n\nfunction toResult(value) {\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return [value]\n}\n","'use strict'\n\nmodule.exports = visit\n\nvar visitParents = require('unist-util-visit-parents')\n\nvar CONTINUE = visitParents.CONTINUE\nvar SKIP = visitParents.SKIP\nvar EXIT = visitParents.EXIT\n\nvisit.CONTINUE = CONTINUE\nvisit.SKIP = SKIP\nvisit.EXIT = EXIT\n\nfunction visit(tree, test, visitor, reverse) {\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  visitParents(tree, test, overload, reverse)\n\n  function overload(node, parents) {\n    var parent = parents[parents.length - 1]\n    var index = parent ? parent.children.indexOf(node) : null\n    return visitor(node, index, parent)\n  }\n}\n","/**\n * @callback Handler\n *   Handle a value, with a certain ID field set to a certain value.\n *   The ID field is passed to `zwitch`, and it’s value is this function’s\n *   place on the `handlers` record.\n * @param {...any} parameters\n *   Arbitrary parameters passed to the zwitch.\n *   The first will be an object with a certain ID field set to a certain value.\n * @returns {any}\n *   Anything!\n */\n\n/**\n * @callback UnknownHandler\n *   Handle values that do have a certain ID field, but it’s set to a value\n *   that is not listed in the `handlers` record.\n * @param {unknown} value\n *   An object with a certain ID field set to an unknown value.\n * @param {...any} rest\n *   Arbitrary parameters passed to the zwitch.\n * @returns {any}\n *   Anything!\n */\n\n/**\n * @callback InvalidHandler\n *   Handle values that do not have a certain ID field.\n * @param {unknown} value\n *   Any unknown value.\n * @param {...any} rest\n *   Arbitrary parameters passed to the zwitch.\n * @returns {void|null|undefined|never}\n *   This should crash or return nothing.\n */\n\n/**\n * @template {InvalidHandler} [Invalid=InvalidHandler]\n * @template {UnknownHandler} [Unknown=UnknownHandler]\n * @template {Record<string, Handler>} [Handlers=Record<string, Handler>]\n * @typedef Options\n *   Configuration (required).\n * @property {Invalid} [invalid]\n *   Handler to use for invalid values.\n * @property {Unknown} [unknown]\n *   Handler to use for unknown values.\n * @property {Handlers} [handlers]\n *   Handlers to use.\n */\n\nconst own = {}.hasOwnProperty\n\n/**\n * Handle values based on a field.\n *\n * @template {InvalidHandler} [Invalid=InvalidHandler]\n * @template {UnknownHandler} [Unknown=UnknownHandler]\n * @template {Record<string, Handler>} [Handlers=Record<string, Handler>]\n * @param {string} key\n *   Field to switch on.\n * @param {Options<Invalid, Unknown, Handlers>} [options]\n *   Configuration (required).\n * @returns {{unknown: Unknown, invalid: Invalid, handlers: Handlers, (...parameters: Parameters<Handlers[keyof Handlers]>): ReturnType<Handlers[keyof Handlers]>, (...parameters: Parameters<Unknown>): ReturnType<Unknown>}}\n */\nexport function zwitch(key, options) {\n  const settings = options || {}\n\n  /**\n   * Handle one value.\n   *\n   * Based on the bound `key`, a respective handler will be called.\n   * If `value` is not an object, or doesn’t have a `key` property, the special\n   * “invalid” handler will be called.\n   * If `value` has an unknown `key`, the special “unknown” handler will be\n   * called.\n   *\n   * All arguments, and the context object, are passed through to the handler,\n   * and it’s result is returned.\n   *\n   * @this {unknown}\n   *   Any context object.\n   * @param {unknown} [value]\n   *   Any value.\n   * @param {...unknown} parameters\n   *   Arbitrary parameters passed to the zwitch.\n   * @property {Handler} invalid\n   *   Handle for values that do not have a certain ID field.\n   * @property {Handler} unknown\n   *   Handle values that do have a certain ID field, but it’s set to a value\n   *   that is not listed in the `handlers` record.\n   * @property {Handlers} handlers\n   *   Record of handlers.\n   * @returns {unknown}\n   *   Anything.\n   */\n  function one(value, ...parameters) {\n    /** @type {Handler|undefined} */\n    let fn = one.invalid\n    const handlers = one.handlers\n\n    if (value && own.call(value, key)) {\n      // @ts-expect-error Indexable.\n      const id = String(value[key])\n      // @ts-expect-error Indexable.\n      fn = own.call(handlers, id) ? handlers[id] : one.unknown\n    }\n\n    if (fn) {\n      return fn.call(this, value, ...parameters)\n    }\n  }\n\n  one.handlers = settings.handlers || {}\n  one.invalid = settings.invalid\n  one.unknown = settings.unknown\n\n  // @ts-expect-error: matches!\n  return one\n}\n","/**\n * @typedef {import('./types.js').Options} Options\n * @typedef {import('./types.js').State} State\n */\n\n/**\n * @param {State} base\n * @param {Options} extension\n * @returns {State}\n */\nexport function configure(base, extension) {\n  let index = -1\n  /** @type {keyof Options} */\n  let key\n\n  // First do subextensions.\n  if (extension.extensions) {\n    while (++index < extension.extensions.length) {\n      configure(base, extension.extensions[index])\n    }\n  }\n\n  for (key in extension) {\n    if (key === 'extensions') {\n      // Empty.\n    } else if (key === 'unsafe' || key === 'join') {\n      /* c8 ignore next 2 */\n      // @ts-expect-error: hush.\n      base[key] = [...(base[key] || []), ...(extension[key] || [])]\n    } else if (key === 'handlers') {\n      base[key] = Object.assign(base[key], extension[key] || {})\n    } else {\n      // @ts-expect-error: hush.\n      base.options[key] = extension[key]\n    }\n  }\n\n  return base\n}\n","/**\n * @typedef {import('mdast').Blockquote} Blockquote\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n * @typedef {import('../types.js').Map} Map\n */\n\n/**\n * @param {Blockquote} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function blockquote(node, _, state, info) {\n  const exit = state.enter('blockquote')\n  const tracker = state.createTracker(info)\n  tracker.move('> ')\n  tracker.shift(2)\n  const value = state.indentLines(\n    state.containerFlow(node, tracker.current()),\n    map\n  )\n  exit()\n  return value\n}\n\n/** @type {Map} */\nfunction map(line, _, blank) {\n  return '>' + (blank ? '' : ' ') + line\n}\n","/**\n * @typedef {import('mdast').Break} Break\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\nimport {patternInScope} from '../util/pattern-in-scope.js'\n\n/**\n * @param {Break} _\n * @param {Parent | undefined} _1\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function hardBreak(_, _1, state, info) {\n  let index = -1\n\n  while (++index < state.unsafe.length) {\n    // If we can’t put eols in this construct (setext headings, tables), use a\n    // space instead.\n    if (\n      state.unsafe[index].character === '\\n' &&\n      patternInScope(state.stack, state.unsafe[index])\n    ) {\n      return /[ \\t]/.test(info.before) ? '' : ' '\n    }\n  }\n\n  return '\\\\\\n'\n}\n","/**\n * @typedef {import('mdast').Code} Code\n * @typedef {import('../types.js').State} State\n */\n\n/**\n * @param {Code} node\n * @param {State} state\n * @returns {boolean}\n */\nexport function formatCodeAsIndented(node, state) {\n  return Boolean(\n    !state.options.fences &&\n      node.value &&\n      // If there’s no info…\n      !node.lang &&\n      // And there’s a non-whitespace character…\n      /[^ \\r\\n]/.test(node.value) &&\n      // And the value doesn’t start or end in a blank…\n      !/^[\\t ]*(?:[\\r\\n]|$)|(?:^|[\\r\\n])[\\t ]*$/.test(node.value)\n  )\n}\n","/**\n * @typedef {import('mdast').Code} Code\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n * @typedef {import('../types.js').Map} Map\n */\n\nimport {longestStreak} from 'longest-streak'\nimport {formatCodeAsIndented} from '../util/format-code-as-indented.js'\nimport {checkFence} from '../util/check-fence.js'\n\n/**\n * @param {Code} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function code(node, _, state, info) {\n  const marker = checkFence(state)\n  const raw = node.value || ''\n  const suffix = marker === '`' ? 'GraveAccent' : 'Tilde'\n\n  if (formatCodeAsIndented(node, state)) {\n    const exit = state.enter('codeIndented')\n    const value = state.indentLines(raw, map)\n    exit()\n    return value\n  }\n\n  const tracker = state.createTracker(info)\n  const sequence = marker.repeat(Math.max(longestStreak(raw, marker) + 1, 3))\n  const exit = state.enter('codeFenced')\n  let value = tracker.move(sequence)\n\n  if (node.lang) {\n    const subexit = state.enter(`codeFencedLang${suffix}`)\n    value += tracker.move(\n      state.safe(node.lang, {\n        before: value,\n        after: ' ',\n        encode: ['`'],\n        ...tracker.current()\n      })\n    )\n    subexit()\n  }\n\n  if (node.lang && node.meta) {\n    const subexit = state.enter(`codeFencedMeta${suffix}`)\n    value += tracker.move(' ')\n    value += tracker.move(\n      state.safe(node.meta, {\n        before: value,\n        after: '\\n',\n        encode: ['`'],\n        ...tracker.current()\n      })\n    )\n    subexit()\n  }\n\n  value += tracker.move('\\n')\n\n  if (raw) {\n    value += tracker.move(raw + '\\n')\n  }\n\n  value += tracker.move(sequence)\n  exit()\n  return value\n}\n\n/** @type {Map} */\nfunction map(line, _, blank) {\n  return (blank ? '' : '    ') + line\n}\n","/**\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Options} Options\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['quote'], null | undefined>}\n */\nexport function checkQuote(state) {\n  const marker = state.options.quote || '\"'\n\n  if (marker !== '\"' && marker !== \"'\") {\n    throw new Error(\n      'Cannot serialize title with `' +\n        marker +\n        '` for `options.quote`, expected `\"`, or `\\'`'\n    )\n  }\n\n  return marker\n}\n","/**\n * @typedef {import('mdast').Emphasis} Emphasis\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\nimport {checkEmphasis} from '../util/check-emphasis.js'\n\nemphasis.peek = emphasisPeek\n\n// To do: there are cases where emphasis cannot “form” depending on the\n// previous or next character of sequences.\n// There’s no way around that though, except for injecting zero-width stuff.\n// Do we need to safeguard against that?\n/**\n * @param {Emphasis} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function emphasis(node, _, state, info) {\n  const marker = checkEmphasis(state)\n  const exit = state.enter('emphasis')\n  const tracker = state.createTracker(info)\n  let value = tracker.move(marker)\n  value += tracker.move(\n    state.containerPhrasing(node, {\n      before: value,\n      after: marker,\n      ...tracker.current()\n    })\n  )\n  value += tracker.move(marker)\n  exit()\n  return value\n}\n\n/**\n * @param {Emphasis} _\n * @param {Parent | undefined} _1\n * @param {State} state\n * @returns {string}\n */\nfunction emphasisPeek(_, _1, state) {\n  return state.options.emphasis || '*'\n}\n","/**\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Options} Options\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['emphasis'], null | undefined>}\n */\nexport function checkEmphasis(state) {\n  const marker = state.options.emphasis || '*'\n\n  if (marker !== '*' && marker !== '_') {\n    throw new Error(\n      'Cannot serialize emphasis with `' +\n        marker +\n        '` for `options.emphasis`, expected `*`, or `_`'\n    )\n  }\n\n  return marker\n}\n","/**\n * @typedef {import('mdast').Heading} Heading\n * @typedef {import('../types.js').State} State\n */\n\nimport {visit, EXIT} from 'unist-util-visit'\nimport {toString} from 'mdast-util-to-string'\n\n/**\n * @param {Heading} node\n * @param {State} state\n * @returns {boolean}\n */\nexport function formatHeadingAsSetext(node, state) {\n  let literalWithBreak = false\n\n  // Look for literals with a line break.\n  // Note that this also\n  visit(node, (node) => {\n    if (\n      ('value' in node && /\\r?\\n|\\r/.test(node.value)) ||\n      node.type === 'break'\n    ) {\n      literalWithBreak = true\n      return EXIT\n    }\n  })\n\n  return Boolean(\n    (!node.depth || node.depth < 3) &&\n      toString(node) &&\n      (state.options.setext || literalWithBreak)\n  )\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Parent} Parent\n * @typedef {import('unist-util-is').Test} Test\n * @typedef {import('unist-util-visit-parents').VisitorResult} VisitorResult\n */\n\n/**\n * Check if `Child` can be a child of `Ancestor`.\n *\n * Returns the ancestor when `Child` can be a child of `Ancestor`, or returns\n * `never`.\n *\n * @template {Node} Ancestor\n *   Node type.\n * @template {Node} Child\n *   Node type.\n * @typedef {(\n *   Ancestor extends Parent\n *     ? Child extends Ancestor['children'][number]\n *       ? Ancestor\n *       : never\n *     : never\n * )} ParentsOf\n */\n\n/**\n * @template {Node} [Visited=Node]\n *   Visited node type.\n * @template {Parent} [Ancestor=Parent]\n *   Ancestor type.\n * @callback Visitor\n *   Handle a node (matching `test`, if given).\n *\n *   Visitors are free to transform `node`.\n *   They can also transform `parent`.\n *\n *   Replacing `node` itself, if `SKIP` is not returned, still causes its\n *   descendants to be walked (which is a bug).\n *\n *   When adding or removing previous siblings of `node` (or next siblings, in\n *   case of reverse), the `Visitor` should return a new `Index` to specify the\n *   sibling to traverse after `node` is traversed.\n *   Adding or removing next siblings of `node` (or previous siblings, in case\n *   of reverse) is handled as expected without needing to return a new `Index`.\n *\n *   Removing the children property of `parent` still results in them being\n *   traversed.\n * @param {Visited} node\n *   Found node.\n * @param {Visited extends Node ? number | null : never} index\n *   Index of `node` in `parent`.\n * @param {Ancestor extends Node ? Ancestor | null : never} parent\n *   Parent of `node`.\n * @returns {VisitorResult}\n *   What to do next.\n *\n *   An `Index` is treated as a tuple of `[CONTINUE, Index]`.\n *   An `Action` is treated as a tuple of `[Action]`.\n *\n *   Passing a tuple back only makes sense if the `Action` is `SKIP`.\n *   When the `Action` is `EXIT`, that action can be returned.\n *   When the `Action` is `CONTINUE`, `Index` can be returned.\n */\n\n/**\n * Build a typed `Visitor` function from a node and all possible parents.\n *\n * It will infer which values are passed as `node` and which as `parent`.\n *\n * @template {Node} Visited\n *   Node type.\n * @template {Parent} Ancestor\n *   Parent type.\n * @typedef {Visitor<Visited, ParentsOf<Ancestor, Visited>>} BuildVisitorFromMatch\n */\n\n/**\n * Build a typed `Visitor` function from a list of descendants and a test.\n *\n * It will infer which values are passed as `node` and which as `parent`.\n *\n * @template {Node} Descendant\n *   Node type.\n * @template {Test} Check\n *   Test type.\n * @typedef {(\n *   BuildVisitorFromMatch<\n *     import('unist-util-visit-parents/complex-types.js').Matches<Descendant, Check>,\n *     Extract<Descendant, Parent>\n *   >\n * )} BuildVisitorFromDescendants\n */\n\n/**\n * Build a typed `Visitor` function from a tree and a test.\n *\n * It will infer which values are passed as `node` and which as `parent`.\n *\n * @template {Node} [Tree=Node]\n *   Node type.\n * @template {Test} [Check=string]\n *   Test type.\n * @typedef {(\n *   BuildVisitorFromDescendants<\n *     import('unist-util-visit-parents/complex-types.js').InclusiveDescendant<Tree>,\n *     Check\n *   >\n * )} BuildVisitor\n */\n\nimport {visitParents} from 'unist-util-visit-parents'\n\n/**\n * Visit nodes.\n *\n * This algorithm performs *depth-first* *tree traversal* in *preorder*\n * (**NLR**) or if `reverse` is given, in *reverse preorder* (**NRL**).\n *\n * You can choose for which nodes `visitor` is called by passing a `test`.\n * For complex tests, you should test yourself in `visitor`, as it will be\n * faster and will have improved type information.\n *\n * Walking the tree is an intensive task.\n * Make use of the return values of the visitor when possible.\n * Instead of walking a tree multiple times, walk it once, use `unist-util-is`\n * to check if a node matches, and then perform different operations.\n *\n * You can change the tree.\n * See `Visitor` for more info.\n *\n * @param tree\n *   Tree to traverse.\n * @param test\n *   `unist-util-is`-compatible test\n * @param visitor\n *   Handle each node.\n * @param reverse\n *   Traverse in reverse preorder (NRL) instead of the default preorder (NLR).\n * @returns\n *   Nothing.\n */\nexport const visit =\n  /**\n   * @type {(\n   *   (<Tree extends Node, Check extends Test>(tree: Tree, test: Check, visitor: BuildVisitor<Tree, Check>, reverse?: boolean | null | undefined) => void) &\n   *   (<Tree extends Node>(tree: Tree, visitor: BuildVisitor<Tree>, reverse?: boolean | null | undefined) => void)\n   * )}\n   */\n  (\n    /**\n     * @param {Node} tree\n     * @param {Test} test\n     * @param {Visitor} visitor\n     * @param {boolean | null | undefined} [reverse]\n     * @returns {void}\n     */\n    function (tree, test, visitor, reverse) {\n      if (typeof test === 'function' && typeof visitor !== 'function') {\n        reverse = visitor\n        visitor = test\n        test = null\n      }\n\n      visitParents(tree, test, overload, reverse)\n\n      /**\n       * @param {Node} node\n       * @param {Array<Parent>} parents\n       */\n      function overload(node, parents) {\n        const parent = parents[parents.length - 1]\n        return visitor(\n          node,\n          parent ? parent.children.indexOf(node) : null,\n          parent\n        )\n      }\n    }\n  )\n\nexport {CONTINUE, EXIT, SKIP} from 'unist-util-visit-parents'\n","/**\n * @typedef {import('mdast').HTML} HTML\n */\n\nhtml.peek = htmlPeek\n\n/**\n * @param {HTML} node\n * @returns {string}\n */\nexport function html(node) {\n  return node.value || ''\n}\n\n/**\n * @returns {string}\n */\nfunction htmlPeek() {\n  return '<'\n}\n","/**\n * @typedef {import('mdast').Image} Image\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\nimport {checkQuote} from '../util/check-quote.js'\n\nimage.peek = imagePeek\n\n/**\n * @param {Image} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function image(node, _, state, info) {\n  const quote = checkQuote(state)\n  const suffix = quote === '\"' ? 'Quote' : 'Apostrophe'\n  const exit = state.enter('image')\n  let subexit = state.enter('label')\n  const tracker = state.createTracker(info)\n  let value = tracker.move('![')\n  value += tracker.move(\n    state.safe(node.alt, {before: value, after: ']', ...tracker.current()})\n  )\n  value += tracker.move('](')\n\n  subexit()\n\n  if (\n    // If there’s no url but there is a title…\n    (!node.url && node.title) ||\n    // If there are control characters or whitespace.\n    /[\\0- \\u007F]/.test(node.url)\n  ) {\n    subexit = state.enter('destinationLiteral')\n    value += tracker.move('<')\n    value += tracker.move(\n      state.safe(node.url, {before: value, after: '>', ...tracker.current()})\n    )\n    value += tracker.move('>')\n  } else {\n    // No whitespace, raw is prettier.\n    subexit = state.enter('destinationRaw')\n    value += tracker.move(\n      state.safe(node.url, {\n        before: value,\n        after: node.title ? ' ' : ')',\n        ...tracker.current()\n      })\n    )\n  }\n\n  subexit()\n\n  if (node.title) {\n    subexit = state.enter(`title${suffix}`)\n    value += tracker.move(' ' + quote)\n    value += tracker.move(\n      state.safe(node.title, {\n        before: value,\n        after: quote,\n        ...tracker.current()\n      })\n    )\n    value += tracker.move(quote)\n    subexit()\n  }\n\n  value += tracker.move(')')\n  exit()\n\n  return value\n}\n\n/**\n * @returns {string}\n */\nfunction imagePeek() {\n  return '!'\n}\n","/**\n * @typedef {import('mdast').ImageReference} ImageReference\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\nimageReference.peek = imageReferencePeek\n\n/**\n * @param {ImageReference} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function imageReference(node, _, state, info) {\n  const type = node.referenceType\n  const exit = state.enter('imageReference')\n  let subexit = state.enter('label')\n  const tracker = state.createTracker(info)\n  let value = tracker.move('![')\n  const alt = state.safe(node.alt, {\n    before: value,\n    after: ']',\n    ...tracker.current()\n  })\n  value += tracker.move(alt + '][')\n\n  subexit()\n  // Hide the fact that we’re in phrasing, because escapes don’t work.\n  const stack = state.stack\n  state.stack = []\n  subexit = state.enter('reference')\n  // Note: for proper tracking, we should reset the output positions when we end\n  // up making a `shortcut` reference, because then there is no brace output.\n  // Practically, in that case, there is no content, so it doesn’t matter that\n  // we’ve tracked one too many characters.\n  const reference = state.safe(state.associationId(node), {\n    before: value,\n    after: ']',\n    ...tracker.current()\n  })\n  subexit()\n  state.stack = stack\n  exit()\n\n  if (type === 'full' || !alt || alt !== reference) {\n    value += tracker.move(reference + ']')\n  } else if (type === 'shortcut') {\n    // Remove the unwanted `[`.\n    value = value.slice(0, -1)\n  } else {\n    value += tracker.move(']')\n  }\n\n  return value\n}\n\n/**\n * @returns {string}\n */\nfunction imageReferencePeek() {\n  return '!'\n}\n","/**\n * @typedef {import('mdast').Link} Link\n * @typedef {import('../types.js').State} State\n */\n\nimport {toString} from 'mdast-util-to-string'\n\n/**\n * @param {Link} node\n * @param {State} state\n * @returns {boolean}\n */\nexport function formatLinkAsAutolink(node, state) {\n  const raw = toString(node)\n\n  return Boolean(\n    !state.options.resourceLink &&\n      // If there’s a url…\n      node.url &&\n      // And there’s a no title…\n      !node.title &&\n      // And the content of `node` is a single text node…\n      node.children &&\n      node.children.length === 1 &&\n      node.children[0].type === 'text' &&\n      // And if the url is the same as the content…\n      (raw === node.url || 'mailto:' + raw === node.url) &&\n      // And that starts w/ a protocol…\n      /^[a-z][a-z+.-]+:/i.test(node.url) &&\n      // And that doesn’t contain ASCII control codes (character escapes and\n      // references don’t work), space, or angle brackets…\n      !/[\\0- <>\\u007F]/.test(node.url)\n  )\n}\n","/**\n * @typedef {import('mdast').Link} Link\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n * @typedef {import('../types.js').Exit} Exit\n */\n\nimport {checkQuote} from '../util/check-quote.js'\nimport {formatLinkAsAutolink} from '../util/format-link-as-autolink.js'\n\nlink.peek = linkPeek\n\n/**\n * @param {Link} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function link(node, _, state, info) {\n  const quote = checkQuote(state)\n  const suffix = quote === '\"' ? 'Quote' : 'Apostrophe'\n  const tracker = state.createTracker(info)\n  /** @type {Exit} */\n  let exit\n  /** @type {Exit} */\n  let subexit\n\n  if (formatLinkAsAutolink(node, state)) {\n    // Hide the fact that we’re in phrasing, because escapes don’t work.\n    const stack = state.stack\n    state.stack = []\n    exit = state.enter('autolink')\n    let value = tracker.move('<')\n    value += tracker.move(\n      state.containerPhrasing(node, {\n        before: value,\n        after: '>',\n        ...tracker.current()\n      })\n    )\n    value += tracker.move('>')\n    exit()\n    state.stack = stack\n    return value\n  }\n\n  exit = state.enter('link')\n  subexit = state.enter('label')\n  let value = tracker.move('[')\n  value += tracker.move(\n    state.containerPhrasing(node, {\n      before: value,\n      after: '](',\n      ...tracker.current()\n    })\n  )\n  value += tracker.move('](')\n  subexit()\n\n  if (\n    // If there’s no url but there is a title…\n    (!node.url && node.title) ||\n    // If there are control characters or whitespace.\n    /[\\0- \\u007F]/.test(node.url)\n  ) {\n    subexit = state.enter('destinationLiteral')\n    value += tracker.move('<')\n    value += tracker.move(\n      state.safe(node.url, {before: value, after: '>', ...tracker.current()})\n    )\n    value += tracker.move('>')\n  } else {\n    // No whitespace, raw is prettier.\n    subexit = state.enter('destinationRaw')\n    value += tracker.move(\n      state.safe(node.url, {\n        before: value,\n        after: node.title ? ' ' : ')',\n        ...tracker.current()\n      })\n    )\n  }\n\n  subexit()\n\n  if (node.title) {\n    subexit = state.enter(`title${suffix}`)\n    value += tracker.move(' ' + quote)\n    value += tracker.move(\n      state.safe(node.title, {\n        before: value,\n        after: quote,\n        ...tracker.current()\n      })\n    )\n    value += tracker.move(quote)\n    subexit()\n  }\n\n  value += tracker.move(')')\n\n  exit()\n  return value\n}\n\n/**\n * @param {Link} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @returns {string}\n */\nfunction linkPeek(node, _, state) {\n  return formatLinkAsAutolink(node, state) ? '<' : '['\n}\n","/**\n * @typedef {import('mdast').LinkReference} LinkReference\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\nlinkReference.peek = linkReferencePeek\n\n/**\n * @param {LinkReference} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function linkReference(node, _, state, info) {\n  const type = node.referenceType\n  const exit = state.enter('linkReference')\n  let subexit = state.enter('label')\n  const tracker = state.createTracker(info)\n  let value = tracker.move('[')\n  const text = state.containerPhrasing(node, {\n    before: value,\n    after: ']',\n    ...tracker.current()\n  })\n  value += tracker.move(text + '][')\n\n  subexit()\n  // Hide the fact that we’re in phrasing, because escapes don’t work.\n  const stack = state.stack\n  state.stack = []\n  subexit = state.enter('reference')\n  // Note: for proper tracking, we should reset the output positions when we end\n  // up making a `shortcut` reference, because then there is no brace output.\n  // Practically, in that case, there is no content, so it doesn’t matter that\n  // we’ve tracked one too many characters.\n  const reference = state.safe(state.associationId(node), {\n    before: value,\n    after: ']',\n    ...tracker.current()\n  })\n  subexit()\n  state.stack = stack\n  exit()\n\n  if (type === 'full' || !text || text !== reference) {\n    value += tracker.move(reference + ']')\n  } else if (type === 'shortcut') {\n    // Remove the unwanted `[`.\n    value = value.slice(0, -1)\n  } else {\n    value += tracker.move(']')\n  }\n\n  return value\n}\n\n/**\n * @returns {string}\n */\nfunction linkReferencePeek() {\n  return '['\n}\n","/**\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Options} Options\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['bulletOrdered'], null | undefined>}\n */\nexport function checkBulletOrdered(state) {\n  const marker = state.options.bulletOrdered || '.'\n\n  if (marker !== '.' && marker !== ')') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        marker +\n        '` for `options.bulletOrdered`, expected `.` or `)`'\n    )\n  }\n\n  return marker\n}\n","/**\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Options} Options\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['rule'], null | undefined>}\n */\nexport function checkRule(state) {\n  const marker = state.options.rule || '*'\n\n  if (marker !== '*' && marker !== '-' && marker !== '_') {\n    throw new Error(\n      'Cannot serialize rules with `' +\n        marker +\n        '` for `options.rule`, expected `*`, `-`, or `_`'\n    )\n  }\n\n  return marker\n}\n","/**\n * @typedef {import('mdast').PhrasingContent} PhrasingContent\n * @typedef {import('unist-util-is').AssertPredicate<PhrasingContent>} AssertPredicatePhrasing\n */\n\nimport {convert} from 'unist-util-is'\n\n/**\n * Check if the given value is *phrasing content*.\n *\n * @param\n *   Thing to check, typically `Node`.\n * @returns\n *   Whether `value` is phrasing content.\n */\nexport const phrasing = /** @type {AssertPredicatePhrasing} */ (\n  convert([\n    'break',\n    'delete',\n    'emphasis',\n    'footnote',\n    'footnoteReference',\n    'image',\n    'imageReference',\n    'inlineCode',\n    'link',\n    'linkReference',\n    'strong',\n    'text'\n  ])\n)\n","/**\n * @typedef {import('mdast').Strong} Strong\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\nimport {checkStrong} from '../util/check-strong.js'\n\nstrong.peek = strongPeek\n\n// To do: there are cases where emphasis cannot “form” depending on the\n// previous or next character of sequences.\n// There’s no way around that though, except for injecting zero-width stuff.\n// Do we need to safeguard against that?\n/**\n * @param {Strong} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function strong(node, _, state, info) {\n  const marker = checkStrong(state)\n  const exit = state.enter('strong')\n  const tracker = state.createTracker(info)\n  let value = tracker.move(marker + marker)\n  value += tracker.move(\n    state.containerPhrasing(node, {\n      before: value,\n      after: marker,\n      ...tracker.current()\n    })\n  )\n  value += tracker.move(marker + marker)\n  exit()\n  return value\n}\n\n/**\n * @param {Strong} _\n * @param {Parent | undefined} _1\n * @param {State} state\n * @returns {string}\n */\nfunction strongPeek(_, _1, state) {\n  return state.options.strong || '*'\n}\n","/**\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Options} Options\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['strong'], null | undefined>}\n */\nexport function checkStrong(state) {\n  const marker = state.options.strong || '*'\n\n  if (marker !== '*' && marker !== '_') {\n    throw new Error(\n      'Cannot serialize strong with `' +\n        marker +\n        '` for `options.strong`, expected `*`, or `_`'\n    )\n  }\n\n  return marker\n}\n","import {blockquote} from './blockquote.js'\nimport {hardBreak} from './break.js'\nimport {code} from './code.js'\nimport {definition} from './definition.js'\nimport {emphasis} from './emphasis.js'\nimport {heading} from './heading.js'\nimport {html} from './html.js'\nimport {image} from './image.js'\nimport {imageReference} from './image-reference.js'\nimport {inlineCode} from './inline-code.js'\nimport {link} from './link.js'\nimport {linkReference} from './link-reference.js'\nimport {list} from './list.js'\nimport {listItem} from './list-item.js'\nimport {paragraph} from './paragraph.js'\nimport {root} from './root.js'\nimport {strong} from './strong.js'\nimport {text} from './text.js'\nimport {thematicBreak} from './thematic-break.js'\n\n/**\n * Default (CommonMark) handlers.\n */\nexport const handle = {\n  blockquote,\n  break: hardBreak,\n  code,\n  definition,\n  emphasis,\n  hardBreak,\n  heading,\n  html,\n  image,\n  imageReference,\n  inlineCode,\n  link,\n  linkReference,\n  list,\n  listItem,\n  paragraph,\n  root,\n  strong,\n  text,\n  thematicBreak\n}\n","/**\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Options} Options\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['fence'], null | undefined>}\n */\nexport function checkFence(state) {\n  const marker = state.options.fence || '`'\n\n  if (marker !== '`' && marker !== '~') {\n    throw new Error(\n      'Cannot serialize code with `' +\n        marker +\n        '` for `options.fence`, expected `` ` `` or `~`'\n    )\n  }\n\n  return marker\n}\n","/**\n * Get the count of the longest repeating streak of `substring` in `value`.\n *\n * @param {string} value\n *   Content to search in.\n * @param {string} substring\n *   Substring to look for, typically one character.\n * @returns {number}\n *   Count of most frequent adjacent `substring`s in `value`.\n */\nexport function longestStreak(value, substring) {\n  const source = String(value)\n  let index = source.indexOf(substring)\n  let expected = index\n  let count = 0\n  let max = 0\n\n  if (typeof substring !== 'string') {\n    throw new TypeError('Expected substring')\n  }\n\n  while (index !== -1) {\n    if (index === expected) {\n      if (++count > max) {\n        max = count\n      }\n    } else {\n      count = 1\n    }\n\n    expected = index + substring.length\n    index = source.indexOf(substring, expected)\n  }\n\n  return max\n}\n","/**\n * @typedef {import('mdast').Definition} Definition\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\nimport {checkQuote} from '../util/check-quote.js'\n\n/**\n * @param {Definition} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function definition(node, _, state, info) {\n  const quote = checkQuote(state)\n  const suffix = quote === '\"' ? 'Quote' : 'Apostrophe'\n  const exit = state.enter('definition')\n  let subexit = state.enter('label')\n  const tracker = state.createTracker(info)\n  let value = tracker.move('[')\n  value += tracker.move(\n    state.safe(state.associationId(node), {\n      before: value,\n      after: ']',\n      ...tracker.current()\n    })\n  )\n  value += tracker.move(']: ')\n\n  subexit()\n\n  if (\n    // If there’s no url, or…\n    !node.url ||\n    // If there are control characters or whitespace.\n    /[\\0- \\u007F]/.test(node.url)\n  ) {\n    subexit = state.enter('destinationLiteral')\n    value += tracker.move('<')\n    value += tracker.move(\n      state.safe(node.url, {before: value, after: '>', ...tracker.current()})\n    )\n    value += tracker.move('>')\n  } else {\n    // No whitespace, raw is prettier.\n    subexit = state.enter('destinationRaw')\n    value += tracker.move(\n      state.safe(node.url, {\n        before: value,\n        after: node.title ? ' ' : '\\n',\n        ...tracker.current()\n      })\n    )\n  }\n\n  subexit()\n\n  if (node.title) {\n    subexit = state.enter(`title${suffix}`)\n    value += tracker.move(' ' + quote)\n    value += tracker.move(\n      state.safe(node.title, {\n        before: value,\n        after: quote,\n        ...tracker.current()\n      })\n    )\n    value += tracker.move(quote)\n    subexit()\n  }\n\n  exit()\n\n  return value\n}\n","/**\n * @typedef {import('mdast').Heading} Heading\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\nimport {formatHeadingAsSetext} from '../util/format-heading-as-setext.js'\n\n/**\n * @param {Heading} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function heading(node, _, state, info) {\n  const rank = Math.max(Math.min(6, node.depth || 1), 1)\n  const tracker = state.createTracker(info)\n\n  if (formatHeadingAsSetext(node, state)) {\n    const exit = state.enter('headingSetext')\n    const subexit = state.enter('phrasing')\n    const value = state.containerPhrasing(node, {\n      ...tracker.current(),\n      before: '\\n',\n      after: '\\n'\n    })\n    subexit()\n    exit()\n\n    return (\n      value +\n      '\\n' +\n      (rank === 1 ? '=' : '-').repeat(\n        // The whole size…\n        value.length -\n          // Minus the position of the character after the last EOL (or\n          // 0 if there is none)…\n          (Math.max(value.lastIndexOf('\\r'), value.lastIndexOf('\\n')) + 1)\n      )\n    )\n  }\n\n  const sequence = '#'.repeat(rank)\n  const exit = state.enter('headingAtx')\n  const subexit = state.enter('phrasing')\n\n  // Note: for proper tracking, we should reset the output positions when there\n  // is no content returned, because then the space is not output.\n  // Practically, in that case, there is no content, so it doesn’t matter that\n  // we’ve tracked one too many characters.\n  tracker.move(sequence + ' ')\n\n  let value = state.containerPhrasing(node, {\n    before: '# ',\n    after: '\\n',\n    ...tracker.current()\n  })\n\n  if (/^[\\t ]/.test(value)) {\n    // To do: what effect has the character reference on tracking?\n    value =\n      '&#x' +\n      value.charCodeAt(0).toString(16).toUpperCase() +\n      ';' +\n      value.slice(1)\n  }\n\n  value = value ? sequence + ' ' + value : sequence\n\n  if (state.options.closeAtx) {\n    value += ' ' + sequence\n  }\n\n  subexit()\n  exit()\n\n  return value\n}\n","/**\n * @typedef {import('mdast').List} List\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\nimport {checkBullet} from '../util/check-bullet.js'\nimport {checkBulletOther} from '../util/check-bullet-other.js'\nimport {checkBulletOrdered} from '../util/check-bullet-ordered.js'\nimport {checkBulletOrderedOther} from '../util/check-bullet-ordered-other.js'\nimport {checkRule} from '../util/check-rule.js'\n\n/**\n * @param {List} node\n * @param {Parent | undefined} parent\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function list(node, parent, state, info) {\n  const exit = state.enter('list')\n  const bulletCurrent = state.bulletCurrent\n  /** @type {string} */\n  let bullet = node.ordered ? checkBulletOrdered(state) : checkBullet(state)\n  /** @type {string} */\n  const bulletOther = node.ordered\n    ? checkBulletOrderedOther(state)\n    : checkBulletOther(state)\n  const bulletLastUsed = state.bulletLastUsed\n  let useDifferentMarker = false\n\n  if (\n    parent &&\n    // Explicit `other` set.\n    (node.ordered\n      ? state.options.bulletOrderedOther\n      : state.options.bulletOther) &&\n    bulletLastUsed &&\n    bullet === bulletLastUsed\n  ) {\n    useDifferentMarker = true\n  }\n\n  if (!node.ordered) {\n    const firstListItem = node.children ? node.children[0] : undefined\n\n    // If there’s an empty first list item directly in two list items,\n    // we have to use a different bullet:\n    //\n    // ```markdown\n    // * - *\n    // ```\n    //\n    // …because otherwise it would become one big thematic break.\n    if (\n      // Bullet could be used as a thematic break marker:\n      (bullet === '*' || bullet === '-') &&\n      // Empty first list item:\n      firstListItem &&\n      (!firstListItem.children || !firstListItem.children[0]) &&\n      // Directly in two other list items:\n      state.stack[state.stack.length - 1] === 'list' &&\n      state.stack[state.stack.length - 2] === 'listItem' &&\n      state.stack[state.stack.length - 3] === 'list' &&\n      state.stack[state.stack.length - 4] === 'listItem' &&\n      // That are each the first child.\n      state.indexStack[state.indexStack.length - 1] === 0 &&\n      state.indexStack[state.indexStack.length - 2] === 0 &&\n      state.indexStack[state.indexStack.length - 3] === 0\n    ) {\n      useDifferentMarker = true\n    }\n\n    // If there’s a thematic break at the start of the first list item,\n    // we have to use a different bullet:\n    //\n    // ```markdown\n    // * ---\n    // ```\n    //\n    // …because otherwise it would become one big thematic break.\n    if (checkRule(state) === bullet && firstListItem) {\n      let index = -1\n\n      while (++index < node.children.length) {\n        const item = node.children[index]\n\n        if (\n          item &&\n          item.type === 'listItem' &&\n          item.children &&\n          item.children[0] &&\n          item.children[0].type === 'thematicBreak'\n        ) {\n          useDifferentMarker = true\n          break\n        }\n      }\n    }\n  }\n\n  if (useDifferentMarker) {\n    bullet = bulletOther\n  }\n\n  state.bulletCurrent = bullet\n  const value = state.containerFlow(node, info)\n  state.bulletLastUsed = bullet\n  state.bulletCurrent = bulletCurrent\n  exit()\n  return value\n}\n","/**\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Options} Options\n */\n\nimport {checkBulletOrdered} from './check-bullet-ordered.js'\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['bulletOrdered'], null | undefined>}\n */\nexport function checkBulletOrderedOther(state) {\n  const bulletOrdered = checkBulletOrdered(state)\n  const bulletOrderedOther = state.options.bulletOrderedOther\n\n  if (!bulletOrderedOther) {\n    return bulletOrdered === '.' ? ')' : '.'\n  }\n\n  if (bulletOrderedOther !== '.' && bulletOrderedOther !== ')') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        bulletOrderedOther +\n        '` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`'\n    )\n  }\n\n  if (bulletOrderedOther === bulletOrdered) {\n    throw new Error(\n      'Expected `bulletOrdered` (`' +\n        bulletOrdered +\n        '`) and `bulletOrderedOther` (`' +\n        bulletOrderedOther +\n        '`) to be different'\n    )\n  }\n\n  return bulletOrderedOther\n}\n","/**\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Options} Options\n */\n\nimport {checkBullet} from './check-bullet.js'\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['bullet'], null | undefined>}\n */\nexport function checkBulletOther(state) {\n  const bullet = checkBullet(state)\n  const bulletOther = state.options.bulletOther\n\n  if (!bulletOther) {\n    return bullet === '*' ? '-' : '*'\n  }\n\n  if (bulletOther !== '*' && bulletOther !== '+' && bulletOther !== '-') {\n    throw new Error(\n      'Cannot serialize items with `' +\n        bulletOther +\n        '` for `options.bulletOther`, expected `*`, `+`, or `-`'\n    )\n  }\n\n  if (bulletOther === bullet) {\n    throw new Error(\n      'Expected `bullet` (`' +\n        bullet +\n        '`) and `bulletOther` (`' +\n        bulletOther +\n        '`) to be different'\n    )\n  }\n\n  return bulletOther\n}\n","/**\n * @typedef {import('mdast').Paragraph} Paragraph\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\n/**\n * @param {Paragraph} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function paragraph(node, _, state, info) {\n  const exit = state.enter('paragraph')\n  const subexit = state.enter('phrasing')\n  const value = state.containerPhrasing(node, info)\n  subexit()\n  exit()\n  return value\n}\n","/**\n * @typedef {import('mdast').Root} Root\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\nimport {phrasing} from 'mdast-util-phrasing'\n\n/**\n * @param {Root} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function root(node, _, state, info) {\n  // Note: `html` nodes are ambiguous.\n  const hasPhrasing = node.children.some((d) => phrasing(d))\n  const fn = hasPhrasing ? state.containerPhrasing : state.containerFlow\n  // @ts-expect-error: `root`s are supposed to have one type of content\n  return fn.call(state, node, info)\n}\n","/**\n * @typedef {import('mdast').Text} Text\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Info} Info\n */\n\n/**\n * @param {Text} node\n * @param {Parent | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function text(node, _, state, info) {\n  return state.safe(node.value, info)\n}\n","/**\n * @typedef {import('mdast').ThematicBreak} ThematicBreak\n * @typedef {import('../types.js').Parent} Parent\n * @typedef {import('../types.js').State} State\n */\n\nimport {checkRuleRepetition} from '../util/check-rule-repetition.js'\nimport {checkRule} from '../util/check-rule.js'\n\n/**\n * @param {ThematicBreak} _\n * @param {Parent | undefined} _1\n * @param {State} state\n * @returns {string}\n */\nexport function thematicBreak(_, _1, state) {\n  const value = (\n    checkRule(state) + (state.options.ruleSpaces ? ' ' : '')\n  ).repeat(checkRuleRepetition(state))\n\n  return state.options.ruleSpaces ? value.slice(0, -1) : value\n}\n","/**\n * @typedef {import('../types.js').State} State\n * @typedef {import('../types.js').Options} Options\n */\n\n/**\n * @param {State} state\n * @returns {Exclude<Options['ruleRepetition'], null | undefined>}\n */\nexport function checkRuleRepetition(state) {\n  const repetition = state.options.ruleRepetition || 3\n\n  if (repetition < 3) {\n    throw new Error(\n      'Cannot serialize rules with repetition `' +\n        repetition +\n        '` for `options.ruleRepetition`, expected `3` or more'\n    )\n  }\n\n  return repetition\n}\n","/**\n * @typedef {import('./types.js').Join} Join\n */\n\nimport {formatCodeAsIndented} from './util/format-code-as-indented.js'\nimport {formatHeadingAsSetext} from './util/format-heading-as-setext.js'\n\n/** @type {Array<Join>} */\nexport const join = [joinDefaults]\n\n/** @type {Join} */\nfunction joinDefaults(left, right, parent, state) {\n  // Indented code after list or another indented code.\n  if (\n    right.type === 'code' &&\n    formatCodeAsIndented(right, state) &&\n    (left.type === 'list' ||\n      (left.type === right.type && formatCodeAsIndented(left, state)))\n  ) {\n    return false\n  }\n\n  // Two lists with the same marker.\n  if (\n    left.type === 'list' &&\n    left.type === right.type &&\n    Boolean(left.ordered) === Boolean(right.ordered) &&\n    !(left.ordered\n      ? state.options.bulletOrderedOther\n      : state.options.bulletOther)\n  ) {\n    return false\n  }\n\n  // Join children of a list or an item.\n  // In which case, `parent` has a `spread` field.\n  if ('spread' in parent && typeof parent.spread === 'boolean') {\n    if (\n      left.type === 'paragraph' &&\n      // Two paragraphs.\n      (left.type === right.type ||\n        right.type === 'definition' ||\n        // Paragraph followed by a setext heading.\n        (right.type === 'heading' && formatHeadingAsSetext(right, state)))\n    ) {\n      return\n    }\n\n    return parent.spread ? 1 : 0\n  }\n}\n","/**\n * @typedef {import('./types.js').Unsafe} Unsafe\n * @typedef {import('./types.js').ConstructName} ConstructName\n */\n\n/**\n * List of constructs that occur in phrasing (paragraphs, headings), but cannot\n * contain things like attention (emphasis, strong), images, or links.\n * So they sort of cancel each other out.\n * Note: could use a better name.\n *\n * @type {Array<ConstructName>}\n */\nconst fullPhrasingSpans = [\n  'autolink',\n  'destinationLiteral',\n  'destinationRaw',\n  'reference',\n  'titleQuote',\n  'titleApostrophe'\n]\n\n/** @type {Array<Unsafe>} */\nexport const unsafe = [\n  {character: '\\t', after: '[\\\\r\\\\n]', inConstruct: 'phrasing'},\n  {character: '\\t', before: '[\\\\r\\\\n]', inConstruct: 'phrasing'},\n  {\n    character: '\\t',\n    inConstruct: ['codeFencedLangGraveAccent', 'codeFencedLangTilde']\n  },\n  {\n    character: '\\r',\n    inConstruct: [\n      'codeFencedLangGraveAccent',\n      'codeFencedLangTilde',\n      'codeFencedMetaGraveAccent',\n      'codeFencedMetaTilde',\n      'destinationLiteral',\n      'headingAtx'\n    ]\n  },\n  {\n    character: '\\n',\n    inConstruct: [\n      'codeFencedLangGraveAccent',\n      'codeFencedLangTilde',\n      'codeFencedMetaGraveAccent',\n      'codeFencedMetaTilde',\n      'destinationLiteral',\n      'headingAtx'\n    ]\n  },\n  {character: ' ', after: '[\\\\r\\\\n]', inConstruct: 'phrasing'},\n  {character: ' ', before: '[\\\\r\\\\n]', inConstruct: 'phrasing'},\n  {\n    character: ' ',\n    inConstruct: ['codeFencedLangGraveAccent', 'codeFencedLangTilde']\n  },\n  // An exclamation mark can start an image, if it is followed by a link or\n  // a link reference.\n  {\n    character: '!',\n    after: '\\\\[',\n    inConstruct: 'phrasing',\n    notInConstruct: fullPhrasingSpans\n  },\n  // A quote can break out of a title.\n  {character: '\"', inConstruct: 'titleQuote'},\n  // A number sign could start an ATX heading if it starts a line.\n  {atBreak: true, character: '#'},\n  {character: '#', inConstruct: 'headingAtx', after: '(?:[\\r\\n]|$)'},\n  // Dollar sign and percentage are not used in markdown.\n  // An ampersand could start a character reference.\n  {character: '&', after: '[#A-Za-z]', inConstruct: 'phrasing'},\n  // An apostrophe can break out of a title.\n  {character: \"'\", inConstruct: 'titleApostrophe'},\n  // A left paren could break out of a destination raw.\n  {character: '(', inConstruct: 'destinationRaw'},\n  // A left paren followed by `]` could make something into a link or image.\n  {\n    before: '\\\\]',\n    character: '(',\n    inConstruct: 'phrasing',\n    notInConstruct: fullPhrasingSpans\n  },\n  // A right paren could start a list item or break out of a destination\n  // raw.\n  {atBreak: true, before: '\\\\d+', character: ')'},\n  {character: ')', inConstruct: 'destinationRaw'},\n  // An asterisk can start thematic breaks, list items, emphasis, strong.\n  {atBreak: true, character: '*', after: '(?:[ \\t\\r\\n*])'},\n  {character: '*', inConstruct: 'phrasing', notInConstruct: fullPhrasingSpans},\n  // A plus sign could start a list item.\n  {atBreak: true, character: '+', after: '(?:[ \\t\\r\\n])'},\n  // A dash can start thematic breaks, list items, and setext heading\n  // underlines.\n  {atBreak: true, character: '-', after: '(?:[ \\t\\r\\n-])'},\n  // A dot could start a list item.\n  {atBreak: true, before: '\\\\d+', character: '.', after: '(?:[ \\t\\r\\n]|$)'},\n  // Slash, colon, and semicolon are not used in markdown for constructs.\n  // A less than can start html (flow or text) or an autolink.\n  // HTML could start with an exclamation mark (declaration, cdata, comment),\n  // slash (closing tag), question mark (instruction), or a letter (tag).\n  // An autolink also starts with a letter.\n  // Finally, it could break out of a destination literal.\n  {atBreak: true, character: '<', after: '[!/?A-Za-z]'},\n  {\n    character: '<',\n    after: '[!/?A-Za-z]',\n    inConstruct: 'phrasing',\n    notInConstruct: fullPhrasingSpans\n  },\n  {character: '<', inConstruct: 'destinationLiteral'},\n  // An equals to can start setext heading underlines.\n  {atBreak: true, character: '='},\n  // A greater than can start block quotes and it can break out of a\n  // destination literal.\n  {atBreak: true, character: '>'},\n  {character: '>', inConstruct: 'destinationLiteral'},\n  // Question mark and at sign are not used in markdown for constructs.\n  // A left bracket can start definitions, references, labels,\n  {atBreak: true, character: '['},\n  {character: '[', inConstruct: 'phrasing', notInConstruct: fullPhrasingSpans},\n  {character: '[', inConstruct: ['label', 'reference']},\n  // A backslash can start an escape (when followed by punctuation) or a\n  // hard break (when followed by an eol).\n  // Note: typical escapes are handled in `safe`!\n  {character: '\\\\', after: '[\\\\r\\\\n]', inConstruct: 'phrasing'},\n  // A right bracket can exit labels.\n  {character: ']', inConstruct: ['label', 'reference']},\n  // Caret is not used in markdown for constructs.\n  // An underscore can start emphasis, strong, or a thematic break.\n  {atBreak: true, character: '_'},\n  {character: '_', inConstruct: 'phrasing', notInConstruct: fullPhrasingSpans},\n  // A grave accent can start code (fenced or text), or it can break out of\n  // a grave accent code fence.\n  {atBreak: true, character: '`'},\n  {\n    character: '`',\n    inConstruct: ['codeFencedLangGraveAccent', 'codeFencedMetaGraveAccent']\n  },\n  {character: '`', inConstruct: 'phrasing', notInConstruct: fullPhrasingSpans},\n  // Left brace, vertical bar, right brace are not used in markdown for\n  // constructs.\n  // A tilde can start code (fenced).\n  {atBreak: true, character: '~'}\n]\n","/**\n * @typedef {import('./types.js').Enter} Enter\n * @typedef {import('./types.js').Info} Info\n * @typedef {import('./types.js').Join} Join\n * @typedef {import('./types.js').FlowContent} FlowContent\n * @typedef {import('./types.js').Node} Node\n * @typedef {import('./types.js').Options} Options\n * @typedef {import('./types.js').Parent} Parent\n * @typedef {import('./types.js').PhrasingContent} PhrasingContent\n * @typedef {import('./types.js').SafeConfig} SafeConfig\n * @typedef {import('./types.js').State} State\n * @typedef {import('./types.js').TrackFields} TrackFields\n */\n\nimport {zwitch} from 'zwitch'\nimport {configure} from './configure.js'\nimport {handle as handlers} from './handle/index.js'\nimport {join} from './join.js'\nimport {unsafe} from './unsafe.js'\nimport {association} from './util/association.js'\nimport {containerPhrasing} from './util/container-phrasing.js'\nimport {containerFlow} from './util/container-flow.js'\nimport {indentLines} from './util/indent-lines.js'\nimport {safe} from './util/safe.js'\nimport {track} from './util/track.js'\n\n/**\n * Turn an mdast syntax tree into markdown.\n *\n * @param {Node} tree\n *   Tree to serialize.\n * @param {Options} [options]\n *   Configuration (optional).\n * @returns {string}\n *   Serialized markdown representing `tree`.\n */\nexport function toMarkdown(tree, options = {}) {\n  /** @type {State} */\n  const state = {\n    enter,\n    indentLines,\n    associationId: association,\n    containerPhrasing: containerPhrasingBound,\n    containerFlow: containerFlowBound,\n    createTracker: track,\n    safe: safeBound,\n    stack: [],\n    unsafe: [],\n    join: [],\n    // @ts-expect-error: we’ll fill it next.\n    handlers: {},\n    options: {},\n    indexStack: [],\n    // @ts-expect-error: we’ll add `handle` later.\n    handle: undefined\n  }\n\n  configure(state, {unsafe, join, handlers})\n  configure(state, options)\n\n  if (state.options.tightDefinitions) {\n    configure(state, {join: [joinDefinition]})\n  }\n\n  state.handle = zwitch('type', {\n    invalid,\n    unknown,\n    handlers: state.handlers\n  })\n\n  let result = state.handle(tree, undefined, state, {\n    before: '\\n',\n    after: '\\n',\n    now: {line: 1, column: 1},\n    lineShift: 0\n  })\n\n  if (\n    result &&\n    result.charCodeAt(result.length - 1) !== 10 &&\n    result.charCodeAt(result.length - 1) !== 13\n  ) {\n    result += '\\n'\n  }\n\n  return result\n\n  /** @type {Enter} */\n  function enter(name) {\n    state.stack.push(name)\n    return exit\n\n    function exit() {\n      state.stack.pop()\n    }\n  }\n}\n\n/**\n * @param {unknown} value\n * @returns {never}\n */\nfunction invalid(value) {\n  throw new Error('Cannot handle value `' + value + '`, expected node')\n}\n\n/**\n * @param {unknown} node\n * @returns {never}\n */\nfunction unknown(node) {\n  // @ts-expect-error: fine.\n  throw new Error('Cannot handle unknown node `' + node.type + '`')\n}\n\n/** @type {Join} */\nfunction joinDefinition(left, right) {\n  // No blank line between adjacent definitions.\n  if (left.type === 'definition' && left.type === right.type) {\n    return 0\n  }\n}\n\n/**\n * Serialize the children of a parent that contains phrasing children.\n *\n * These children will be joined flush together.\n *\n * @this {State}\n *   Info passed around about the current state.\n * @param {Parent & {children: Array<PhrasingContent>}} parent\n *   Parent of flow nodes.\n * @param {Info} info\n *   Info on where we are in the document we are generating.\n * @returns {string}\n *   Serialized children, joined together.\n */\nfunction containerPhrasingBound(parent, info) {\n  return containerPhrasing(parent, this, info)\n}\n\n/**\n * Serialize the children of a parent that contains flow children.\n *\n * These children will typically be joined by blank lines.\n * What they are joined by exactly is defined by `Join` functions.\n *\n * @this {State}\n *   Info passed around about the current state.\n * @param {Parent & {children: Array<FlowContent>}} parent\n *   Parent of flow nodes.\n * @param {TrackFields} info\n *   Info on where we are in the document we are generating.\n * @returns {string}\n *   Serialized children, joined by (blank) lines.\n */\nfunction containerFlowBound(parent, info) {\n  return containerFlow(parent, this, info)\n}\n\n/**\n * Make a string safe for embedding in markdown constructs.\n *\n * In markdown, almost all punctuation characters can, in certain cases,\n * result in something.\n * Whether they do is highly subjective to where they happen and in what\n * they happen.\n *\n * To solve this, `mdast-util-to-markdown` tracks:\n *\n * * Characters before and after something;\n * * What “constructs” we are in.\n *\n * This information is then used by this function to escape or encode\n * special characters.\n *\n * @this {State}\n *   Info passed around about the current state.\n * @param {string | null | undefined} value\n *   Raw value to make safe.\n * @param {SafeConfig} config\n *   Configuration.\n * @returns {string}\n *   Serialized markdown safe for embedding.\n */\nfunction safeBound(value, config) {\n  return safe(this, value, config)\n}\n","import remarkStringify from './lib/index.js'\n\nexport default remarkStringify\n","/**\n * @typedef {import('mdast').Root|import('mdast').Content} Node\n * @typedef {import('mdast-util-to-markdown').Options} ToMarkdownOptions\n * @typedef {Omit<ToMarkdownOptions, 'extensions'>} Options\n */\n\nimport {toMarkdown} from 'mdast-util-to-markdown'\n\n/** @type {import('unified').Plugin<[Options]|void[], Node, string>} */\nexport default function remarkStringify(options) {\n  /** @type {import('unified').CompilerFunction<Node, string>} */\n  const compiler = (tree) => {\n    // Assume options.\n    const settings = /** @type {Options} */ (this.data('settings'))\n\n    return toMarkdown(\n      tree,\n      Object.assign({}, settings, options, {\n        // Note: this option is not in the readme.\n        // The goal is for it to be set by plugins on `data` instead of being\n        // passed by users.\n        extensions:\n          /** @type {ToMarkdownOptions['extensions']} */ (\n            this.data('toMarkdownExtensions')\n          ) || []\n      })\n    )\n  }\n\n  Object.assign(this, {Compiler: compiler})\n}\n","import {unified} from 'unified'\nimport remarkParse from 'remark-parse'\nimport remarkStringify from 'remark-stringify'\n\nexport const remark = unified().use(remarkParse).use(remarkStringify).freeze()\n"],"names":["CodeMirror","noOptions","nonWS","Pos","cmp","cmpPos","firstNonWS","str","found","search","probablyInsideString","cm","pos","line","test","getTokenTypeAt","getMode","mode","useInnerComments","innerMode","getModeAt","commands","toggleComment","defineExtension","options","this","minLine","Infinity","ranges","listSelections","i","length","from","to","uncomment","lineComment","self","firstLine","getLine","commentString","end","Math","min","ch","lastLine","pad","padding","blankLines","commentBlankLines","operation","indent","baseString","whitespace","slice","cut","replaceRange","blockCommentStart","fullLines","blockComment","startString","endString","blockCommentEnd","lastLineHasText","lead","blockCommentLead","atCursor","getCursor","empty","somethingSelected","setSelection","didSomething","start","lineString","lines","indexOf","push","endPos","startLine","open","endLine","close","insideStart","insideEnd","getRange","lastStart","lastIndexOf","firstEnd","almostLastStart","openEnd","foundEnd","mod","require","ie_lt8","navigator","userAgent","document","documentMode","matching","bracketRegex","config","findMatchingBracket","where","getLineHandle","afterCursor","getWrapperElement","className","re","match","text","charAt","dir","strict","style","scanForBracket","forward","maxScanLen","maxScanLineLength","maxScanLines","stack","lineEnd","max","lineNo","undefined","pop","matchBrackets","autoclear","maxHighlightLen","state","maxHighlightLineLength","highlightNonMatching","marks","head","markText","focused","focus","clear","setTimeout","doMatchBrackets","currentlyHighlighted","clearHighlighted","defineOption","val","old","Init","off","on","oldConfig","doFold","force","call","finder","getOption","minSize","allowFolded","range","findMarksAt","__isFold","cleared","myWidget","makeWidget","e","myRange","e_preventDefault","replacedWith","clearOnEnter","signal","widget","createTextNode","createElement","appendChild","cloneNode","newFoldFunction","rangeFinder","toggleFold","foldCode","fold","unfold","scanUp","foldAll","unfoldAll","registerHelper","funcs","Array","prototype","arguments","helpers","getHelpers","cur","defaultOptions","auto","minFoldSize","name","editorOptions","foldOptions","clearGutter","foldGutter","gutter","onGutterClick","onChange","onViewportChange","onFold","State","parseOptions","updateInViewport","opts","indicatorOpen","indicatorFolded","isFolded","findMarks","fromPos","find","marker","spec","elt","updateFoldInfo","foldOption","func","clsFolded","classTest","clsOpen","eachLine","mark","gutterMarkers","setGutterMarker","cls","RegExp","vp","getViewport","folded","clearTimeout","changeUpdate","foldOnChangeTimeSpan","updateViewportTimeSpan","lineIndent","spaceTo","countColumn","myIndent","lastLineInFold","dialog","shortText","deflt","f","openDialog","value","selectValueOnOpen","bottom","prompt","getJumpDialog","phrase","interpretLine","string","num","Number","jumpToLine","posStr","exec","setCursor","round","lineCount","keyMap","cmds","findPosSubword","doc","clipPos","type","startPos","next","cat","isWordChar","toUpperCase","moveSubword","extendSelectionsBy","display","shift","extend","insertLine","above","isReadOnly","Pass","len","newSelection","last","at","indentLine","anchor","setSelections","execCommand","wordAt","word","addCursorToSelection","newRanges","newAnchor","findPosV","goalColumn","newHead","cursorCoords","left","newRange","isSelectedRange","goSubwordLeft","goSubwordRight","scrollLineUp","info","getScrollInfo","visibleBottomLine","lineAtHeight","top","clientHeight","scrollTo","defaultTextHeight","scrollLineDown","visibleTopLine","splitSelectionByLine","lineRanges","singleSelectionTop","scroll","selectLine","extended","insertLineAfter","insertLineBefore","selectNextOccurrence","fullWord","sublimeFindFullWord","sel","query","getSearchCursor","findNext","addSelection","skipAndSelectNextOccurrence","prevAnchor","prevHead","filter","addCursorToPrevLine","addCursorToNextLine","mirror","selectBetweenBrackets","opening","closing","puncType","sortLines","caseSensitive","direction","selected","toSort","sort","a","b","au","bu","modifyWordOrSelection","indices","replacements","replaceSelections","getTarget","findAndGoTo","target","findPrevious","selectScope","goToBracket","prev","swapLineUp","linesToMove","newSels","scrollIntoView","swapLineDown","toggleCommentIndented","joinLines","joined","offset","obj","actual","duplicateLine","rangeCount","reverseSortLines","sortLinesInsensitive","reverseSortLinesInsensitive","nextBookmark","sublimeBookmarks","current","prevBookmark","unshift","toggleBookmark","j","sublimeBookmark","k","splice","clearWhenEmpty","clearBookmarks","selectBookmarks","smartBackspace","cursors","indentUnit","cursor","toStartOfLine","column","deletePos","findPosH","prevIndent","findColumn","delLineRight","upcaseAtCursor","downcaseAtCursor","toLowerCase","setSublimeMark","sublimeMark","setBookmark","selectToSublimeMark","deleteToSublimeMark","tmp","sublimeKilled","swapWithSublimeMark","sublimeYank","replaceSelection","showInCenter","findUnder","findUnderPrevious","findAllUnder","matches","primaryIndex","macSublime","normalizeKeyMap","pcSublime","mac","default","macDefault","sublime","SetCache","arrayIncludes","arrayIncludesWith","arrayMap","baseUnary","cacheHas","module","exports","array","values","iteratee","comparator","index","includes","isCommon","result","valuesLength","outer","computed","valuesIndex","baseFlatten","map","collection","baseAssignValue","keyBy","createAggregator","key","predicate","TypeError","args","apply","baseIteratee","basePickBy","getAllKeysIn","object","props","prop","path","arrayFilter","baseFilter","isArray","negate","baseUniq","baseDifference","baseRest","isArrayLikeObject","without","tree","file","visit","node","children","convert","Boolean","typeFactory","ok","anyFactory","matchesFactory","Error","tests","checks","results","convertAll","visitParents","SKIP","EXIT","visitor","reverse","is","one","parents","subresult","toResult","step","all","concat","CONTINUE","parent","own","hasOwnProperty","zwitch","settings","fn","invalid","handlers","id","String","unknown","parameters","configure","base","extension","extensions","Object","assign","_","blank","hardBreak","_1","unsafe","character","patternInScope","before","formatCodeAsIndented","fences","lang","checkQuote","quote","emphasis","checkEmphasis","exit","enter","tracker","createTracker","move","containerPhrasing","after","peek","formatHeadingAsSetext","literalWithBreak","depth","toString","setext","html","image","suffix","subexit","safe","alt","url","title","imageReference","referenceType","reference","associationId","formatLinkAsAutolink","raw","resourceLink","link","linkReference","checkBulletOrdered","bulletOrdered","checkRule","rule","phrasing","strong","checkStrong","handle","blockquote","indentLines","containerFlow","break","code","fence","checkFence","sequence","repeat","substring","source","expected","count","longestStreak","encode","meta","definition","heading","rank","charCodeAt","closeAtx","inlineCode","list","bulletCurrent","bullet","ordered","checkBullet","bulletOther","bulletOrderedOther","checkBulletOrderedOther","checkBulletOther","bulletLastUsed","useDifferentMarker","firstListItem","indexStack","item","listItem","paragraph","root","some","d","thematicBreak","ruleSpaces","repetition","ruleRepetition","checkRuleRepetition","join","right","spread","fullPhrasingSpans","inConstruct","notInConstruct","atBreak","joinDefinition","containerPhrasingBound","containerFlowBound","safeBound","Compiler","data","association","track","tightDefinitions","now","lineShift","toMarkdown","remark","unified","use","remarkParse","remarkStringify","freeze"],"sourceRoot":""}