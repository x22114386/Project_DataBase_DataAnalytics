"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[610],{87535:function(n,e,t){t.d(e,{CY:function(){return y},N9:function(){return E}});var r,o=t(99500),i=t(19065),s=t(73701),a=t(3159),l=t(325),p=t(27601),d=t(79082),u=t(78093),h=t(35473),c=t(77171),x=t(82348),f=t(4735),m=t(50741),v=t(76336),g=t(27218),S=t(2112),j=t(57872),I=t(96294),P=t(32289),y=function(){(0,u.Px)();var n=(0,p.UO)(),e=(0,I.p3)(n[0]),t=e.pipelineName,r=e.snapshotId,o=(0,p.k6)();return(0,x.j)("Snapshot: ".concat(t).concat(r?"@".concat(r.slice(0,8)):"")),(0,P.jsx)(E,{explorerPath:e,onChangeExplorerPath:function(n,e){o[e]("/snapshots/".concat((0,I.gY)(n)))},onNavigateToSourceAssetNode:function(n){var e=n.assetKey;o.push((0,c.p)(e))}})},E=function(n){var e,t=n.explorerPath,r=n.repoAddress,o=n.onChangeExplorerPath,a=n.onNavigateToSourceAssetNode,p=n.isGraph,d=void 0!==p&&p,u=l.useState({explodeComposites:null!==(e=t.explodeComposites)&&void 0!==e&&e,preferAssetRendering:!0}),c=(0,i.Z)(u,2),x=c[0],f=c[1],I=t.opNames.slice(0,t.opNames.length-1),y=(0,v._T)(r||null,t.pipelineName),E=(0,s.a)(R,{variables:{snapshotPipelineSelector:t.snapshotId?void 0:y,snapshotId:t.snapshotId?t.snapshotId:void 0,rootHandleID:I.join("."),requestScopeHandleID:x.explodeComposites?void 0:I.join(".")}});return(0,P.jsx)(m.g,{queryResult:E,children:function(n){var e=n.pipelineSnapshotOrError;if("PipelineSnapshot"!==e.__typename)return(0,P.jsx)(j.Q,{isGraph:d,result:e,repoAddress:r});var i=e.solidHandle,s=x.explodeComposites?(0,g.i)(e.solidHandles):e.solidHandles,l=e.solidHandles.some((function(n){return n.solid.definition.assetNodes.length>0}));return x.preferAssetRendering&&l?(0,P.jsx)(h.OK,{options:x,setOptions:f,fetchOptions:{pipelineSelector:y},explorerPath:t,onChangeExplorerPath:o,onNavigateToSourceAssetNode:a}):(0,P.jsx)(S.m0,{options:x,setOptions:f,explorerPath:t,onChangeExplorerPath:o,container:e,repoAddress:r,handles:s,parentHandle:i||void 0,isGraph:d,getInvocations:function(n){return s.filter((function(e){return e.solid.definition.name===n})).map((function(n){return{handleID:n.handleID}}))}})}})},R=(0,a.Ps)(r||(r=(0,o.Z)(["\n  query PipelineExplorerRootQuery(\n    $snapshotPipelineSelector: PipelineSelector\n    $snapshotId: String\n    $rootHandleID: String!\n    $requestScopeHandleID: String\n  ) {\n    pipelineSnapshotOrError(\n      snapshotId: $snapshotId\n      activePipelineSelector: $snapshotPipelineSelector\n    ) {\n      ... on PipelineSnapshot {\n        id\n        name\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n        solidHandle(handleID: $rootHandleID) {\n          ...GraphExplorerSolidHandleFragment\n        }\n        solidHandles(parentHandleID: $requestScopeHandleID) {\n          handleID\n          solid {\n            name\n            definition {\n              assetNodes {\n                id\n                ...GraphExplorerAssetNodeFragment\n              }\n            }\n          }\n          ...GraphExplorerSolidHandleFragment\n        }\n        ...GraphExplorerFragment\n      }\n      ... on PipelineNotFoundError {\n        message\n      }\n      ... on PipelineSnapshotNotFoundError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),f.it,S.Sm,S.Q,S.bg,d.B)},33247:function(n,e,t){t.d(e,{G:function(){return k}});var r,o=t(99500),i=t(95764),s=t(59019),a=t(19065),l=t(3159),p=t(57615),d=t(30804),u=t(32030),h=t(89646),c=t(54268),x=t(47387),f=t(325),m=t(27601),v=t(79082),g=t(47678),S=t(78093),j=t(22797),I=t(28064),P=t(55752),y=t(45302),E=t(77892),R=t(50741),b=t(62278),C=t(76336),N=t(33902),H=t(96294),_=t(23196),O=t(32289),$=["status","tag"],k=function(n){(0,S.Px)();var e=(0,m.UO)().pipelinePath,t=n.repoAddress,r=void 0===t?null:t,o=(0,H.p3)(e),l=o.pipelineName,v=o.snapshotId,k=(0,C.Ux)(r),A=(0,C.E8)(k,l);(0,_.b)(o,A);var D=(0,y.oD)($),Z=(0,a.Z)(D,2),T=Z[0],w=Z[1],q=f.useMemo((function(){return[A?{token:"job",value:l}:{token:"pipeline",value:l},v?{token:"snapshotId",value:v}:null].filter(Boolean)}),[A,l,v]),G=[].concat((0,s.Z)(T),(0,s.Z)(q));if(r){var Y={token:"tag",value:"".concat(I.H.RepositoryLabelTag,"=").concat((0,N.Wg)(r))};G.push(Y)}var Q=(0,E.l)({query:F,pageSize:25,variables:{filter:(0,i.Z)((0,i.Z)({},(0,y.VH)(G)),{},{pipelineName:l,snapshotId:v})},nextCursorForResult:function(n){var e;if("Runs"===n.pipelineRunsOrError.__typename)return null===(e=n.pipelineRunsOrError.results[24])||void 0===e?void 0:e.runId},getResultArray:function(n){return n&&"Runs"===n.pipelineRunsOrError.__typename?n.pipelineRunsOrError.results:[]}}),V=Q.queryResult,U=Q.paginationProps,W=f.useCallback((function(n){var e=(0,p.HY)(n);T.some((function(n){return(0,p.HY)(n)===e}))||w([].concat((0,s.Z)(T),[n]))}),[T,w]),z=(0,g.C4)(V,g.dT);return(0,O.jsx)(P.Lw.Provider,{value:{refetch:V.refetch},children:(0,O.jsx)(d.T,{children:(0,O.jsx)(R.g,{queryResult:V,allowStaleData:!0,children:function(n){var e=n.pipelineRunsOrError;if("Runs"!==e.__typename)return(0,O.jsx)(u.x,{padding:{vertical:64},children:(0,O.jsx)(h.t,{icon:"error",title:"Query Error",description:e.message})});var t=e.results.slice(0,25),r=U.hasNextCursor,o=U.hasPrevCursor;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(u.x,{flex:{alignItems:"flex-start",justifyContent:"space-between"},padding:{top:8,horizontal:24},children:[(0,O.jsx)(u.x,{flex:{direction:"row",gap:8},children:q.map((function(n){var e=n.token,t=n.value;return(0,O.jsx)(c.V,{children:"".concat(e,":").concat(t)},e)}))}),(0,O.jsx)(g.xi,{refreshState:z})]}),(0,O.jsx)(b.Y,{$top:0,children:(0,O.jsx)(j.A,{runs:t,onAddTag:W,actionBarComponents:(0,O.jsx)(y.nr,{enabledFilters:$,tokens:T,onChange:w,loading:V.loading})})}),r||o?(0,O.jsx)("div",{style:{marginTop:"20px"},children:(0,O.jsx)(x.pI,(0,i.Z)({},U))}):null]})}})})})},F=(0,l.Ps)(r||(r=(0,o.Z)(["\n  query PipelineRunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"])),j.Z,v.B)},66833:function(n,e,t){t.r(e),t.d(e,{SnapshotRoot:function(){return E},default:function(){return R}});t(325);var r,o=t(27601),i=t(87535),s=t(96294),a=t(33247),l=t(95764),p=t(99500),d=t(3159),u=t(73701),h=t(54268),c=t(31112),x=t(12745),f=t(8546),m=t(31269),v=t(74549),g=t(37286),S=t(76336),j=t(25582),I=t(32289),P=(0,d.Ps)(r||(r=(0,p.Z)(["\n  query SnapshotQuery($snapshotId: String!) {\n    pipelineSnapshotOrError(snapshotId: $snapshotId) {\n      ... on PipelineSnapshot {\n        id\n        parentSnapshotId\n      }\n    }\n  }\n"]))),y=function(n){var e,t=n.activeTab,r=void 0===t?"":t,o=n.explorerPath,i=o.pipelineName,a=o.snapshotId,p=void 0===a?"":a,d=(0,s.gY)((0,l.Z)((0,l.Z)({},o),{},{opNames:[]})),y=(0,S.Nc)(i),E=!(null===y||void 0===y||!y.isJob),R=null===y||void 0===y?void 0:y.pipelineSnapshotId,b=(0,u.a)(P,{variables:{snapshotId:p}}),C=b.data,N=b.loading,H=[{text:"Definition",pathComponent:"",href:"/snapshots/".concat(d)},{text:"Runs",pathComponent:"runs",href:"/snapshots/".concat(d,"runs")}];return(0,I.jsx)(c.m,{title:(0,I.jsx)(x.X6,{style:{fontFamily:f.b.monospace,fontSize:"20px"},children:null===(e=o.snapshotId)||void 0===e?void 0:e.slice(0,8)}),tags:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(h.V,{icon:"schema",children:["Snapshot of"," ",(0,I.jsx)(v.rU,{to:(0,j.r4)(o.pipelineName,E),children:o.pipelineName})]}),function(){var n;return N?(0,I.jsx)(h.V,{intent:"none",minimal:!0,children:"..."}):!R||R!==p&&"PipelineSnapshot"===(null===C||void 0===C?void 0:C.pipelineSnapshotOrError.__typename)&&(null===C||void 0===C||null===(n=C.pipelineSnapshotOrError)||void 0===n?void 0:n.parentSnapshotId)!==R?(0,I.jsx)(h.V,{intent:"warning",minimal:!0,children:"Snapshot"}):(0,I.jsx)(h.V,{intent:"success",minimal:!0,children:"Current"})}()]}),tabs:(0,I.jsx)(m.mQ,{selectedTabId:r,children:H.map((function(n){var e=n.href,t=n.text,r=n.pathComponent;return(0,I.jsx)(g.f,{id:r,title:t,to:e},t)}))})})},E=function(){var n=(0,o.UO)(),e=n.pipelinePath,t=n.tab,r=(0,s.p3)(e);return(0,I.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:0,width:"100%",height:"100%"},children:[(0,I.jsx)(y,{activeTab:t,explorerPath:r}),(0,I.jsxs)(o.rs,{children:[(0,I.jsx)(o.AW,{path:"/snapshots/:pipelinePath/runs",children:(0,I.jsx)(a.G,{})}),(0,I.jsx)(o.AW,{path:"/snapshots/(/?.*)",children:(0,I.jsx)(i.CY,{})})]})]})},R=E},62278:function(n,e,t){t.d(e,{Y:function(){return i}});var r=t(922),o=t(7838),i=r.ZP.div.withConfig({displayName:"StickyTableContainer",componentId:"n96aw9-0"})(["thead tr{position:sticky;top:","px;background-color:",";z-index:1;}thead tr th{position:relative;}thead tr th::after{content:'';display:block;height:1px;background-color:",";position:absolute;bottom:-1px;left:0;right:0;}"],(function(n){return n.$top}),o.w.White,o.w.KeylineGray)}}]);
//# sourceMappingURL=610.26fb63a0.chunk.js.map