"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[580],{9429:function(e,n,t){t.d(n,{m:function(){return r}});var i=t(325),r=function(){var e=navigator.clipboard,n=i.useRef(null);return i.useEffect((function(){return e||(n.current=document.createElement("input"),n.current.style.position="fixed",n.current.style.top="-10000px",document.body.appendChild(n.current)),function(){n.current&&document.body.removeChild(n.current)}}),[e]),i.useCallback((function(t){e?e.writeText(t):n.current&&(n.current.value=t,n.current.select(),document.execCommand("copy"))}),[e])}},86655:function(e,n,t){t.d(n,{R:function(){return u}});var i=t(59019),r=t(32030),s=t(75497),a=t(7838),o=t(61653),l=(t(325),t(74549)),d=t(77171),c=t(32289),u=function(e){var n=e.path,t=e.icon,u=e.url,p=e.isGroup,x=e.textStyle,m=void 0===x?"break-word":x,h=u||(0,d.p)({path:n}),f=n.reduce((function(e,n,t){return[].concat((0,i.Z)(e),[t>0?" / ":"",n])}),[]).join("")+(p?"/":"");return(0,c.jsxs)(r.x,{flex:{direction:"row",alignItems:"flex-start",display:"inline-flex"},style:{maxWidth:"100%"},children:[t?(0,c.jsx)(r.x,{margin:{right:8,top:2},children:(0,c.jsx)(s.JO,{name:t,color:a.w.Gray400})}):null,(0,c.jsx)(l.rU,{to:h,style:{overflow:"hidden"},children:"break-word"===m?(0,c.jsx)("span",{style:{wordBreak:"break-word"},children:f}):(0,c.jsx)(o.g,{text:f})})]})}},38505:function(e,n,t){t.r(n),t.d(n,{AssetsCatalogRoot:function(){return it},default:function(){return rt}});var i,r=t(99500),s=t(73701),a=t(3159),o=t(30804),l=t(32030),d=t(34595),c=t(7838),u=t(325),p=t(27601),x=t(78093),m=t(39061),h=t(82348),f=t(78072),g=t(1223),j=t(95764),y=t(19065),v=t(31269),w=t(32028),b=t(89646),N=t(60736),I=t(60652),K=t(54268),C=t(74549),k=t(47678),_=t(55419),S=t(18819),z=t(64424),A=t(74948),O=t(72572),Z=t(44198),D=t(30057),E=t(37099),G=t(25582),P=t(12745),L=t(87011),M=t(75497),R=t(6466),F=t(62e3),T=t(59549),U=t(55752),J=t(76336),H=t(922),W=t(13008),$=t.n(W),B=t(54972),V=t.n(B),q=t(4735),Q=t(32289),Y=function(e){var n=e.event,t=e.observations;if(!n||!n.metadataEntries.length&&(null===t||void 0===t||!t.length))return(0,Q.jsx)(P.YS,{color:c.w.Gray500,children:"No metadata entries"});var i=n.metadataEntries,r=n.timestamp,s=V()((t||[]).flatMap((function(e){return e.metadataEntries.map((function(n){return{timestamp:e.timestamp,runId:e.runId,entry:n}}))})),(function(e){return e.entry.label}));return(0,Q.jsx)(X,{children:(0,Q.jsx)(ee,{children:(0,Q.jsxs)("tbody",{children:[i.map((function(e){return(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{children:(0,Q.jsx)(P.fv,{children:e.label})}),(0,Q.jsx)("td",{children:(0,Q.jsx)(P.fv,{children:(0,Q.jsx)(q.BL,{entry:e,expandSmallValues:!0})})}),(0,Q.jsx)("td",{style:{opacity:.7},children:e.description})]},"metadata-".concat(e.label))})),s.map((function(e){return(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{children:(0,Q.jsx)(P.fv,{children:e.entry.label})}),(0,Q.jsx)("td",{children:(0,Q.jsx)(P.fv,{children:(0,Q.jsx)(q.BL,{entry:e.entry,expandSmallValues:!0})})}),(0,Q.jsxs)("td",{style:{opacity:.7},children:[(0,Q.jsxs)(l.x,{children:["Observed in run ",(0,Q.jsx)(C.rU,{to:"/runs/".concat(e.runId,"?timestamp=").concat(r),children:(0,Q.jsx)(P.fv,{children:(0,U.EI)({runId:e.runId})})})]}),(0,Q.jsx)(P.YS,{children:"(".concat($()(Number(e.timestamp)).from(Number(r),!0)," later)")}),e.entry.description]})]},"metadata-".concat(e.timestamp,"-").concat(e.entry.label))}))]})})})},X=H.ZP.div.withConfig({displayName:"AssetEventMetadataEntriesTable__AssetEventMetadataScrollContainer",componentId:"cvsmtb-0"})(["width:100%;overflow-x:auto;"]),ee=H.ZP.table.withConfig({displayName:"AssetEventMetadataEntriesTable__AssetEventMetadataTable",componentId:"cvsmtb-1"})(["width:100%;border-spacing:0;border-collapse:collapse;tr td:first-child{max-width:300px;word-wrap:break-word;width:25%;}tr td{border:1px solid ",";padding:8px 12px;font-size:14px;vertical-align:top;}"],c.w.KeylineGray),ne=t(91847),te=t(52598),ie=t(59019),re=t(61653),se=t(93975),ae=t.n(se),oe=t(77171);$().extend(ae());var le,de,ce,ue=function(e){var n,t=e.assetKey,i=e.timestamp,r=(0,s.a)(pe,{skip:!i,variables:{assetKey:t,timestamp:i||""}}),a=(0,m.ll)(t),o="AssetNode"===(null===(n=r.data)||void 0===n?void 0:n.assetNodeOrError.__typename)?r.data.assetNodeOrError.assetMaterializationUsedData:[],d=function e(n,t,r){var s=(0,m.ll)(n.assetKey),a=(0,oe.p)(n.assetKey,{view:"events",time:n.timestamp});return[(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{children:(0,Q.jsxs)(l.x,{flex:{gap:4},style:{paddingLeft:20*Math.max(0,t)},children:[r&&(0,Q.jsx)(M.JO,{name:"arrow_indent",style:{marginLeft:-20}}),(0,Q.jsx)(C.rU,{to:a,children:(0,Q.jsxs)(l.x,{flex:{gap:4},children:[(0,Q.jsx)(M.JO,{name:"asset"}),(0,Q.jsx)(re.g,{text:s})]})})]})}),(0,Q.jsx)("td",{children:(0,Q.jsxs)(l.x,{flex:{gap:8},style:{whiteSpace:"nowrap"},children:[(0,Q.jsx)(C.rU,{to:a,children:(0,Q.jsx)(_.E,{timestamp:{ms:Number(n.timestamp)},timeFormat:{showSeconds:!0,showTimezone:!1}})}),(0,Q.jsxs)("span",{style:{opacity:.7},children:["(",$()(Number(n.timestamp)).from(Number(i),!0)," earlier)"]})]})})]},s)].concat((0,ie.Z)(o.filter((function(e){return(0,m.ll)(e.downstreamAssetKey)===s})).map((function(n,i){return e(n,t+1,0===i)}))))};return r.loading?(0,Q.jsx)(xe,{children:(0,Q.jsx)("tbody",{children:(0,Q.jsx)("tr",{children:(0,Q.jsx)("td",{children:"Loading\u2026"})})})}):o.length?(0,Q.jsx)(xe,{children:(0,Q.jsx)("tbody",{children:o.filter((function(e){return(0,m.ll)(e.downstreamAssetKey)===a})).map((function(e){return d(e,0,!1)}))})}):(0,Q.jsx)(xe,{children:(0,Q.jsx)("tbody",{children:(0,Q.jsx)("tr",{children:(0,Q.jsx)("td",{children:"No upstream materializations to display."})})})})},pe=(0,a.Ps)(i||(i=(0,r.Z)(["\n  query AssetMaterializationUpstreamQuery($assetKey: AssetKeyInput!, $timestamp: String!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      __typename\n      ... on AssetNode {\n        id\n        assetMaterializationUsedData(timestampMillis: $timestamp) {\n          ...MaterializationUpstreamDataVersionFragment\n        }\n      }\n    }\n  }\n\n  fragment MaterializationUpstreamDataVersionFragment on MaterializationUpstreamDataVersion {\n    __typename\n    timestamp\n    assetKey {\n      path\n    }\n    downstreamAssetKey {\n      path\n    }\n  }\n"]))),xe=H.ZP.table.withConfig({displayName:"AssetMaterializationUpstreamData__AssetUpstreamDataTable",componentId:"s4nk8c-0"})(["width:100%;border-spacing:0;border-collapse:collapse;tr td{border:1px solid ",";padding:8px 12px;font-size:14px;vertical-align:top;}"],c.w.KeylineGray),me=function(e){var n,t=e.event,i=e.assetKey,r="Run"===(null===(n=t.runOrError)||void 0===n?void 0:n.__typename)?t.runOrError:null,s=null===r||void 0===r?void 0:r.repositoryOrigin,a=s?(0,E.kQ)(s.repositoryName,s.repositoryLocationName):null,o=(0,J.Ux)(a),d="MaterializationEvent"===t.__typename?t.assetLineage:[];return(0,Q.jsxs)(l.x,{padding:{horizontal:24,bottom:24},style:{flex:1},children:[(0,Q.jsx)(l.x,{padding:{vertical:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{alignItems:"center",justifyContent:"space-between"},children:(0,Q.jsx)(P.X6,{children:(0,Q.jsx)(_.E,{timestamp:{ms:Number(t.timestamp)}})})}),(0,Q.jsxs)(l.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16},children:[(0,Q.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Q.jsx)(P.pm,{children:"Event"}),"MaterializationEvent"===t.__typename?(0,Q.jsxs)(l.x,{flex:{gap:4},children:[(0,Q.jsx)(M.JO,{name:"materialization"}),"Materialization"]}):(0,Q.jsxs)(l.x,{flex:{gap:4},children:[(0,Q.jsx)(M.JO,{name:"observation"}),"Observation"]})]}),t.partition&&(0,Q.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Q.jsx)(P.pm,{children:"Partition"}),(0,Q.jsx)(l.x,{flex:{gap:4},children:t.partition})]}),(0,Q.jsxs)(l.x,{flex:{gap:4,direction:"column"},style:{minHeight:64},children:[(0,Q.jsx)(P.pm,{children:"Run"}),r?(0,Q.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,Q.jsx)(T.hk,{runId:r.runId,status:r.status}),(0,Q.jsx)(C.rU,{to:(0,U.tA)(r,t),children:(0,Q.jsx)(P.fv,{children:(0,U.EI)(r)})})]}):"\u2014"]}),(0,Q.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Q.jsx)(P.pm,{children:"Job"}),r&&!(0,m.pv)(r.pipelineName)?(0,Q.jsxs)(l.x,{children:[(0,Q.jsx)(l.x,{children:(0,Q.jsx)(F.h,{showIcon:!0,pipelineName:r.pipelineName,pipelineHrefContext:a||"repo-unknown",snapshotId:r.pipelineSnapshotId,isJob:(0,J.E8)(o,r.pipelineName)})}),(0,Q.jsxs)(R.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,Q.jsx)(M.JO,{name:"linear_scale",color:c.w.Gray400}),(0,Q.jsx)(C.rU,{to:(0,U.tA)(r,t),children:t.stepKey})]})]}):"\u2014"]})]}),t.description&&(0,Q.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Q.jsx)(P.pm,{children:"Description"}),t.description]}),(0,Q.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Q.jsx)(P.pm,{children:"Metadata"}),(0,Q.jsx)(Y,{event:t})]}),"MaterializationEvent"===t.__typename&&(0,Q.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Q.jsx)(P.pm,{children:"Source data"}),(0,Q.jsx)(ue,{timestamp:t.timestamp,assetKey:i})]}),(0,Q.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Q.jsx)(P.pm,{children:"System tags"}),(0,Q.jsx)(ne.M,{event:t,collapsible:!0})]}),d.length>0&&(0,Q.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Q.jsx)(P.pm,{children:"Parent materializations"}),(0,Q.jsx)(te.i,{elements:d,timestamp:t.timestamp})]})]})},he=function(){return(0,Q.jsxs)(l.x,{padding:{horizontal:24},style:{flex:1},children:[(0,Q.jsx)(l.x,{padding:{vertical:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{alignItems:"center",justifyContent:"space-between"},children:(0,Q.jsx)(P.X6,{color:c.w.Gray400,children:"No Event Selected"})}),(0,Q.jsxs)(l.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16},children:[(0,Q.jsx)(l.x,{flex:{gap:4,direction:"column"},children:(0,Q.jsx)(P.pm,{children:"Event"})}),(0,Q.jsxs)(l.x,{flex:{gap:4,direction:"column"},style:{minHeight:64},children:[(0,Q.jsx)(P.pm,{children:"Run"}),"\u2014"]}),(0,Q.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Q.jsx)(P.pm,{children:"Job"}),"\u2014"]})]}),(0,Q.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Q.jsx)(P.pm,{children:"Metadata"}),(0,Q.jsx)(Y,{event:null})]})]})},fe=t(6596),ge=t(69305),je=t(55113),ye=t(8358),ve=t(75453),we=function(e){var n=e.hasPartitions,t=e.hasLineage,i=e.groups,r=e.focused,s=e.setFocused;return(0,Q.jsxs)(je.i,{children:[(0,Q.jsx)("thead",{children:(0,Q.jsxs)("tr",{children:[n&&(0,Q.jsx)("th",{style:{minWidth:100},children:"Partition"}),(0,Q.jsx)("th",{style:{minWidth:150},children:"Timestamp"}),(0,Q.jsx)("th",{style:{minWidth:150},children:"Job"}),(0,Q.jsx)("th",{style:{width:100},children:"Run"})]})}),(0,Q.jsx)("tbody",{children:i.map((function(e){return(0,Q.jsxs)(u.Fragment,{children:[(0,Q.jsx)(Ke,{onClick:function(n){n.target instanceof HTMLElement&&n.target.closest("a")||null===s||void 0===s||s(r!==e?e:void 0)},children:(0,Q.jsx)(Ie,{group:e,hasPartitions:n,hasLineage:t,isFocused:r===e})}),r===e?(0,Q.jsx)(Ne,{hasLineage:t,group:e}):void 0]},e.timestamp||e.partition)}))})]})},be=function(){return(0,Q.jsx)("span",{style:{color:c.w.Gray400},children:"None"})},Ne=u.memo((function(e){var n=e.group,t=e.hasLineage,i=n.latest,r=n.timestamp;if(!i)return(0,Q.jsx)("tr",{});var s="MaterializationEvent"===i.__typename?i.assetLineage:[],a="MaterializationEvent"===i.__typename?n.all.filter((function(e){return"ObservationEvent"===e.__typename&&Number(e.timestamp)>Number(i.timestamp)})):[];return(0,Q.jsx)("tr",{style:{background:c.w.Gray50},children:(0,Q.jsxs)("td",{colSpan:6,style:{fontSize:14,padding:0},children:[i.description&&(0,Q.jsx)(l.x,{padding:{horizontal:24,vertical:12},children:i.description}),i.metadataEntries.length||t?(0,Q.jsx)(Ce,{children:(0,Q.jsxs)("tbody",{children:[i.metadataEntries.map((function(e){return(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{style:{maxWidth:300},children:e.label}),(0,Q.jsx)("td",{children:(0,Q.jsx)(q.BL,{entry:e,expandSmallValues:!0})}),(0,Q.jsx)("td",{style:{opacity:.7},children:e.description})]},"metadata-".concat(e.label))})),a.map((function(e){return(0,Q.jsx)(u.Fragment,{children:e.metadataEntries.map((function(n){return(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{children:n.label}),(0,Q.jsx)("td",{children:(0,Q.jsx)(q.BL,{entry:n,expandSmallValues:!0})}),(0,Q.jsxs)("td",{style:{opacity:.7},children:[(0,Q.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},children:[(0,Q.jsx)(M.JO,{name:"observation",size:16}),(0,Q.jsxs)("span",{children:["".concat(e.stepKey," in "),(0,Q.jsx)(C.rU,{to:"/runs/".concat(e.runId,"?timestamp=").concat(e.timestamp),children:(0,Q.jsx)(P.fv,{children:(0,U.EI)({runId:e.runId})})})," (".concat($()(Number(e.timestamp)).from(Number(r),!0)," later)")]})]}),n.description]})]},"metadata-".concat(e.timestamp,"-").concat(n.label))}))},e.timestamp)})),t&&(0,Q.jsxs)("tr",{children:[(0,Q.jsx)("td",{children:"Parent Materializations"}),(0,Q.jsx)("td",{children:(0,Q.jsx)(te.i,{elements:s,timestamp:r})})]})]})}):(0,Q.jsx)(l.x,{padding:{horizontal:24,vertical:12},children:"No materialization event metadata"})]})})})),Ie=u.memo((function(e){var n=e.group,t=e.hasPartitions,i=e.hasLineage,r=e.isFocused,s=n.latest,a=n.partition,o=n.timestamp,d=n.all,u=r?{paddingLeft:4,borderLeft:"4px solid ".concat(c.w.HighlightGreen)}:{paddingLeft:8},p="Run"===(null===s||void 0===s?void 0:s.runOrError.__typename)?s.runOrError:void 0,x=null===p||void 0===p?void 0:p.repositoryOrigin,h=x?(0,E.kQ)(x.repositoryName,x.repositoryLocationName):null,f=(0,J.Ux)(h);return s?p?(0,Q.jsxs)(Q.Fragment,{children:[t&&(0,Q.jsx)("td",{style:(0,j.Z)({whiteSpace:"nowrap"},u),children:(0,Q.jsxs)(R.Z,{direction:"row",spacing:2,children:[(0,Q.jsx)(_e,{open:r}),a||(0,Q.jsx)(be,{})]})}),(0,Q.jsx)("td",{style:t?{}:u,children:(0,Q.jsxs)(R.Z,{direction:"row",spacing:4,children:[!t&&(0,Q.jsx)(_e,{open:r}),(0,Q.jsxs)(R.Z,{direction:"column",spacing:4,children:[(0,Q.jsx)(_.E,{timestamp:{ms:Number(o)}}),(null===d||void 0===d?void 0:d.length)>1?(0,Q.jsx)(ke,{hasPartitions:t,hasLineage:i,events:d,children:"View ".concat(d.length," events")}):"MaterializationEvent"===s.__typename?(0,Q.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},style:{color:c.w.Gray600},children:[(0,Q.jsx)(M.JO,{name:"materialization",size:16,color:c.w.Gray600}),"Materialization"]}):(0,Q.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},style:{color:c.w.Gray600},children:[(0,Q.jsx)(M.JO,{name:"observation",size:16,color:c.w.Gray600})," Observation"]})]})]})}),(0,Q.jsx)("td",{children:!(0,m.pv)(p.pipelineName)&&(0,Q.jsxs)(l.x,{margin:{bottom:4},children:[(0,Q.jsx)(l.x,{padding:{left:8},children:(0,Q.jsx)(F.h,{showIcon:!0,pipelineName:p.pipelineName,pipelineHrefContext:h||"repo-unknown",snapshotId:p.pipelineSnapshotId,isJob:(0,J.E8)(f,p.pipelineName)})}),(0,Q.jsxs)(R.Z,{direction:"row",padding:{left:8},spacing:8,alignItems:"center",children:[(0,Q.jsx)(M.JO,{name:"linear_scale",color:c.w.Gray400}),(0,Q.jsx)(C.rU,{to:(0,U.tA)(p,s),children:s.stepKey})]})]})}),(0,Q.jsx)("td",{children:(0,Q.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,Q.jsx)(T.hk,{runId:p.runId,status:p.status}),(0,Q.jsx)(C.rU,{to:"/runs/".concat(p.runId,"?timestamp=").concat(o),children:(0,Q.jsx)(P.fv,{children:(0,U.EI)(p)})})]})})]}):(0,Q.jsx)("span",{}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)("td",{style:{whiteSpace:"nowrap",paddingLeft:24},children:a||(0,Q.jsx)(be,{})}),(0,Q.jsx)("td",{colSpan:3})]})})),Ke=H.ZP.tr.withConfig({displayName:"AllIndividualEventsLink__HoverableRow",componentId:"jy8lfp-0"})(["&:hover{background:",";}"],c.w.Gray10),Ce=H.ZP.table.withConfig({displayName:"AllIndividualEventsLink__DetailsTable",componentId:"jy8lfp-1"})(["width:100%;margin:-2px -2px -3px;tr td{font-size:14px;}"]),ke=function(e){var n=e.hasLineage,t=e.hasPartitions,i=e.events,r=e.children,s=u.useState(!1),a=(0,y.Z)(s,2),o=a[0],d=a[1],c=u.useState(),p=(0,y.Z)(c,2),x=p[0],m=p[1],h=u.useMemo((function(){return i.map((function(e){return{latest:e,partition:e.partition||void 0,timestamp:e.timestamp,all:[]}}))}),[i]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(I.Z,{onClick:function(){return d(!0)},children:r}),(0,Q.jsxs)(ye.Vq,{isOpen:o,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return d(!1)},style:{width:"80%",minWidth:"800px"},title:function(){if(t){var e=i[0].partition;if(e)return"Materialization and observation events for ".concat(e)}return"Materialization and observation events"}(),children:[o&&(0,Q.jsx)(l.x,{padding:{bottom:8},onClick:function(e){return e.stopPropagation()},children:(0,Q.jsx)(we,{hasLineage:n,hasPartitions:t,focused:x,setFocused:m,groups:h})}),(0,Q.jsx)(ye.cN,{children:(0,Q.jsx)(ve.zx,{intent:"primary",onClick:function(){return d(!1)},children:"OK"})})]})]})},_e=function(e){var n=e.open,t=e.onClick;return(0,Q.jsx)(Se,{onClick:t,$open:n,children:(0,Q.jsx)(M.JO,{name:"arrow_drop_down",size:24})})},Se=H.ZP.button.withConfig({displayName:"AllIndividualEventsLink__DisclosureTriangleButton",componentId:"jy8lfp-2"})(["padding:4px;margin:-4px;cursor:pointer;border:0;background:transparent;outline:none;","{margin:-2px -5px;transform:",";opacity:0.25;}:focus{outline:none;","{background:",";opacity:0.5;}}"],M.a1,(function(e){return e.$open?"rotate(0deg)":"rotate(-90deg)"}),M.a1,c.w.Dark),ze=t(25329),Ae=t(66855),Oe=function(e){var n,t=(0,s.a)(Ze,{variables:{assetKey:e.assetKey,partitionKey:e.partitionKey}}),i=u.useMemo((function(){var e,n;return"AssetNode"!==(null===(e=t.data)||void 0===e||null===(n=e.assetNodeOrError)||void 0===n?void 0:n.__typename)?{materializations:[],observations:[],hasLineage:!1,latestRunForPartition:null}:{latestRunForPartition:t.data.assetNodeOrError.latestRunForPartition,materializations:(0,ie.Z)(t.data.assetNodeOrError.assetMaterializations).sort((function(e,n){return Number(n.timestamp)-Number(e.timestamp)})),observations:(0,ie.Z)(t.data.assetNodeOrError.assetObservations).sort((function(e,n){return Number(n.timestamp)-Number(e.timestamp)})),hasLineage:t.data.assetNodeOrError.assetMaterializations.some((function(e){return e.assetLineage.length>0}))}}),[t.data]),r=i.materializations,a=i.observations,o=i.hasLineage,l=i.latestRunForPartition;return t.loading||!t.data?(0,Q.jsx)(Ee,{partitionKey:e.partitionKey}):(0,Q.jsx)(De,{assetKey:e.assetKey,latestRunForPartition:l,hasLineage:o,group:{latest:r[0],timestamp:null===(n=r[0])||void 0===n?void 0:n.timestamp,partition:e.partitionKey,all:[].concat((0,ie.Z)(r),(0,ie.Z)(a)).sort((function(e,n){return Number(n.timestamp)-Number(e.timestamp)}))}})},Ze=(0,a.Ps)(le||(le=(0,r.Z)(["\n  query AssetPartitionDetailQuery($assetKey: AssetKeyInput!, $partitionKey: String!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      __typename\n      ... on AssetNode {\n        id\n        latestRunForPartition(partition: $partitionKey) {\n          id\n          ...AssetPartitionLatestRunFragment\n        }\n        assetMaterializations(partitions: [$partitionKey]) {\n          ... on MaterializationEvent {\n            runId\n            ...AssetMaterializationFragment\n          }\n        }\n        assetObservations(partitions: [$partitionKey]) {\n          ... on ObservationEvent {\n            runId\n            ...AssetObservationFragment\n          }\n        }\n      }\n    }\n  }\n  fragment AssetPartitionLatestRunFragment on Run {\n    __typename\n    id\n    runId\n    status\n    endTime\n  }\n\n  ","\n  ","\n"])),Ae.ZC,Ae.T8),De=function(e){var n,t=e.assetKey,i=e.group,r=e.hasLineage,s=e.hasLoadingState,a=e.latestRunForPartition,o=i.latest,u=i.partition,p=i.all,x="Run"===(null===o||void 0===o||null===(n=o.runOrError)||void 0===n?void 0:n.__typename)?o.runOrError:null,h=(null===a||void 0===a?void 0:a.id)!==(null===x||void 0===x?void 0:x.id)?a:null,f=(null===h||void 0===h?void 0:h.status)===ge.VOA.STARTED?"has started and is refreshing this partition.":(null===h||void 0===h?void 0:h.status)===ge.VOA.STARTING?"is starting and will refresh this partition.":(null===h||void 0===h?void 0:h.status)===ge.VOA.QUEUED?"is queued and is refreshing this partition.":void 0,g=null===x||void 0===x?void 0:x.repositoryOrigin,j=g?(0,E.kQ)(g.repositoryName,g.repositoryLocationName):null,y=(0,J.Ux)(j),v="MaterializationEvent"===(null===o||void 0===o?void 0:o.__typename)?i.all.filter((function(e){return"ObservationEvent"===e.__typename&&Number(e.timestamp)>Number(o.timestamp)})):[],w=o?p.slice(p.indexOf(o)):p;return(0,Q.jsxs)(l.x,{padding:{horizontal:24,bottom:24},style:{flex:1},children:[(0,Q.jsxs)(l.x,{padding:{vertical:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{alignItems:"center"},children:[u?(0,Q.jsxs)(l.x,{flex:{gap:12,alignItems:"center"},children:[(0,Q.jsx)(P.X6,{children:u}),s?(0,Q.jsx)(d.$,{purpose:"body-text"}):o&&(0,Q.jsx)(K.V,{intent:"success",children:"Materialized"})]}):(0,Q.jsx)(P.X6,{color:c.w.Gray400,children:"No partition selected"}),(0,Q.jsx)("div",{style:{flex:1}})]}),(null===h||void 0===h?void 0:h.status)===ge.VOA.FAILURE&&(0,Q.jsx)(ze.Z,{run:h,padding:{horizontal:0,vertical:16},border:{side:"bottom",width:1,color:c.w.KeylineGray}}),h&&f&&(0,Q.jsx)(N.b,{intent:"info",icon:(0,Q.jsx)(d.$,{purpose:"body-text"}),title:(0,Q.jsxs)("div",{style:{fontWeight:400},children:["Run ",(0,Q.jsx)(C.rU,{to:"/runs/".concat(h.runId),children:(0,U.EI)(h)})," ",f]})}),(0,Q.jsxs)(l.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16,minHeight:76},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16},children:[o?(0,Q.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Q.jsx)(P.pm,{children:"MaterializationEvent"===o.__typename?"Latest materialization":"Latest observation"}),(0,Q.jsxs)(l.x,{flex:{gap:4},style:{whiteSpace:"nowrap"},children:["MaterializationEvent"===o.__typename?(0,Q.jsx)(M.JO,{name:"materialization"}):(0,Q.jsx)(M.JO,{name:"observation"}),(0,Q.jsx)(_.E,{timestamp:{ms:Number(o.timestamp)}}),w.length>0&&(0,Q.jsx)(ke,{hasPartitions:!0,hasLineage:r,events:p,children:"(".concat(w.length-1," prior ").concat(w.length-1===1?"event":"events",")")})]})]}):(0,Q.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Q.jsx)(P.pm,{children:"Latest materialization"}),(0,Q.jsxs)(l.x,{flex:{gap:4},children:[(0,Q.jsx)(M.JO,{name:"materialization"}),"None"]})]}),(0,Q.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Q.jsx)(P.pm,{children:"Run"}),x&&o?(0,Q.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,Q.jsx)(T.hk,{runId:x.runId,status:x.status}),(0,Q.jsx)(C.rU,{to:(0,U.tA)(x,o),children:(0,Q.jsx)(P.fv,{children:(0,U.EI)(x)})})]}):"None"]}),(0,Q.jsxs)(l.x,{flex:{gap:4,direction:"column"},children:[(0,Q.jsx)(P.pm,{children:"Job"}),o&&x&&!(0,m.pv)(x.pipelineName)?(0,Q.jsxs)(l.x,{children:[(0,Q.jsx)(l.x,{children:(0,Q.jsx)(F.h,{showIcon:!0,pipelineName:x.pipelineName,pipelineHrefContext:j||"repo-unknown",snapshotId:x.pipelineSnapshotId,isJob:(0,J.E8)(y,x.pipelineName)})}),(0,Q.jsxs)(R.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,Q.jsx)(M.JO,{name:"linear_scale",color:c.w.Gray400}),(0,Q.jsx)(C.rU,{to:(0,U.tA)(x,o),children:o.stepKey})]})]}):"None"]})]}),(0,Q.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Q.jsx)(P.pm,{children:"Metadata"}),(0,Q.jsx)(Y,{event:o,observations:v})]}),(0,Q.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Q.jsx)(P.pm,{children:"Source data"}),(0,Q.jsx)(ue,{timestamp:null===o||void 0===o?void 0:o.timestamp,assetKey:t})]}),(0,Q.jsxs)(l.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,Q.jsx)(P.pm,{children:"System tags"}),(0,Q.jsx)(ne.M,{event:o,collapsible:!0})]})]})},Ee=function(e){var n=e.partitionKey;return(0,Q.jsx)(De,{assetKey:{path:[""]},group:{all:[],latest:null,timestamp:"0",partition:n},latestRunForPartition:null,hasLineage:!1,hasLoadingState:!0})},Ge=t(73522),Pe=t(33682),Le=function(e){var n=e.assetKey,t=e.assetHasDefinedPartitions,i=e.params,r=e.setParams,s=e.liveData,a=e.dataRefreshHint,o=(0,Ae.fE)(n,i,{assetHasDefinedPartitions:!1}),p=o.xAxis,x=o.materializations,m=o.observations,h=o.loadedPartitionKeys,f=o.refetch,g=o.loading;u.useEffect((function(){i.asOf||f()}),[i.asOf,a,f]);var y=(0,Pe.L)(p,x,m,h),v=function(e){var n="time"===p?{time:(null===e||void 0===e?void 0:e.timestamp)!==i.time&&(null===e||void 0===e?void 0:e.timestamp)||""}:{partition:(null===e||void 0===e?void 0:e.partition)!==i.partition&&(null===e||void 0===e?void 0:e.partition)||""};r((0,j.Z)((0,j.Z)({},i),n))},b=y.find((function(e){return i.time?Number(e.timestamp)<=Number(i.time):!!i.partition&&e.partition===i.partition}))||y[0],N=!t&&y.some((function(e){return e.partition})),I=x.some((function(e){return e.assetLineage.length>0}));return(0,Q.jsxs)(Q.Fragment,{children:[N&&(0,Q.jsxs)(l.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{vertical:16,horizontal:24},style:{marginBottom:-1},children:[(0,Q.jsx)(P.pm,{children:"Asset Events"}),(0,Q.jsx)("div",{style:{margin:"-6px 0 "},children:(0,Q.jsx)(L.h,{activeItems:new Set([p]),buttons:[{id:"partition",label:"By partition"},{id:"time",label:"By timestamp"}],onClick:function(e){return r("time"===e?(0,j.Z)((0,j.Z)({},i),{},{partition:void 0,time:(null===b||void 0===b?void 0:b.timestamp)||""}):(0,j.Z)((0,j.Z)({},i),{},{partition:(null===b||void 0===b?void 0:b.partition)||"",time:void 0}))}})})]}),!t&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(ze.Z,{run:(null===s||void 0===s?void 0:s.runWhichFailedToMaterialize)||null,border:{side:"bottom",width:1,color:c.w.KeylineGray}}),(0,Q.jsx)(Ge.j,{liveData:s,border:{side:"bottom",width:1,color:c.w.KeylineGray}})]}),(0,Q.jsxs)(l.x,{style:{flex:1,minHeight:0,outline:"none"},flex:{direction:"row"},onKeyDown:function(e){var n={ArrowDown:1,ArrowUp:-1}[e.key];if(n&&b&&!e.isDefaultPrevented()){var t=y[y.indexOf(b)+n];t&&(e.preventDefault(),v(t))}},tabIndex:-1,children:[(0,Q.jsx)(l.x,{style:{display:"flex",flex:1,minWidth:200},flex:{direction:"column"},background:c.w.Gray50,children:g?(0,Q.jsx)(l.x,{flex:{alignItems:"center",justifyContent:"center"},style:{flex:1},children:(0,Q.jsx)(d.$,{purpose:"section"})}):(0,Q.jsx)(fe.cJ,{xAxis:p,groups:y,focused:b,setFocused:v})}),(0,Q.jsx)(l.x,{flex:{direction:"column"},style:{flex:3,minWidth:0,overflowY:"auto"},border:{side:"left",color:c.w.KeylineGray,width:1},children:(0,Q.jsx)(w.S,{region:"event",resetErrorOnChange:[b],children:"partition"===p?b?(0,Q.jsx)(De,{group:b,hasLineage:I,assetKey:n,latestRunForPartition:null}):(0,Q.jsx)(Ee,{}):null!==b&&void 0!==b&&b.latest?(0,Q.jsx)(me,{assetKey:n,event:b.latest}):(0,Q.jsx)(he,{})})})]})]})},Me=t(71725),Re=t(11540),Fe=t(33208),Te=t(10922),Ue=t(36758),Je=t(14848),He=t(34449),We=t(61460),$e=t(7713),Be=function(e){var n=e.items,t=e.liveDataByNode,i=(0,p.k6)();return null===n?(0,Q.jsx)(Ve,{flex:{alignItems:"center",justifyContent:"center"},children:(0,Q.jsx)(d.$,{purpose:"section"})}):(0,Q.jsx)(Ve,{flex:{gap:4},padding:{horizontal:12},children:n.map((function(e){return(0,Q.jsx)(qe,{onClick:function(n){n.stopPropagation(),i.push((0,oe.p)(e.assetKey,{view:"definition"}))},children:(0,Q.jsx)(Re.p4,{definition:e,selected:!1,liveData:t[(0,m.Wu)(e.assetKey)]})},e.id)}))})},Ve=(0,H.ZP)(l.x).withConfig({displayName:"AssetNodeList__Container",componentId:"sc-1ee72i3-0"})(["height:154px;overflow-x:auto;width:100%;white-space:nowrap;"]),qe=H.ZP.div.withConfig({displayName:"AssetNodeList__AssetNodeWrapper",componentId:"sc-1ee72i3-1"})(["cursor:pointer;width:260px;flex-shrink:0;"]),Qe=t(79986),Ye=t(11936),Xe=t(49720),en=function(e){var n,t=e.assetNode,i=e.upstream,r=e.downstream,s=e.liveDataByNode,a=e.dependsOnSelf,o=(0,$e.U6)(t),d=o.assetMetadata,u=o.assetType,p=s[(0,m.Wu)(t.assetKey)],x=null===(n=t.configField)||void 0===n?void 0:n.configType,h=(0,E.kQ)(t.repository.name,t.repository.location.name);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(We.N,{assetKey:t.assetKey,loadedFromRepo:h,padded:!0}),(0,Q.jsxs)(l.x,{flex:{direction:"row"},style:{flex:1},children:[(0,Q.jsxs)(l.x,{style:{flex:1,minWidth:0},flex:{direction:"column"},border:{side:"right",width:1,color:c.w.KeylineGray},children:[(0,Q.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:[(0,Q.jsx)(P.pm,{children:"Description"}),(0,Q.jsx)(nn,{assetNode:t,repoAddress:h})]}),(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},style:{flex:1,flexBasis:"content",flexGrow:0,minHeight:120},children:(0,Q.jsx)(Te.d,{description:t.description||"No description provided.",maxHeight:260})}),t.opVersion&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},children:(0,Q.jsx)(P.pm,{children:"Code version"})}),(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},flex:{gap:12,alignItems:"center"},children:(0,Q.jsx)(Je.G,{children:t.opVersion})})]}),(null===p||void 0===p?void 0:p.freshnessPolicy)&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},children:(0,Q.jsx)(P.pm,{children:"Freshness Policy"})}),(0,Q.jsxs)(l.x,{padding:{vertical:16,horizontal:24},flex:{gap:12,alignItems:"center"},children:[(0,Q.jsx)(Qe.vy,{liveData:p}),(0,Q.jsx)(P.uT,{children:(0,Qe.jY)(p.freshnessPolicy)})]})]}),(0,Q.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:[(0,Q.jsxs)(P.pm,{children:["Upstream Assets",null!==i&&void 0!==i&&i.length?" (".concat(i.length,")"):""]}),(0,Q.jsx)(C.rU,{to:"?view=lineage&lineageScope=upstream",children:(0,Q.jsxs)(l.x,{flex:{gap:4,alignItems:"center"},children:["View upstream graph",(0,Q.jsx)(M.JO,{name:"open_in_new",color:c.w.Link})]})})]}),a&&(0,Q.jsx)(Ye.x,{}),(0,Q.jsx)(Be,{items:i,liveDataByNode:s}),(0,Q.jsxs)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:[(0,Q.jsxs)(P.pm,{children:["Downstream Assets",null!==r&&void 0!==r&&r.length?" (".concat(r.length,")"):""]}),(0,Q.jsx)(C.rU,{to:"?view=lineage&lineageScope=downstream",children:(0,Q.jsxs)(l.x,{flex:{gap:4,alignItems:"center"},children:["View downstream graph",(0,Q.jsx)(M.JO,{name:"open_in_new",color:c.w.Link})]})})]}),(0,Q.jsx)(Be,{items:r,liveDataByNode:s}),(0,Q.jsx)("div",{style:{flex:1}})]}),x||t.requiredResources.length>0?(0,Q.jsxs)(l.x,{border:{side:"vertical",width:1,color:c.w.KeylineGray},style:{flex:.5,minWidth:0},flex:{direction:"column"},children:[t.requiredResources.length>0&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Q.jsx)(P.pm,{children:"Required Resources"})}),(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:t.requiredResources.map((function(e){return(0,Q.jsxs)(Ue.b1,{children:[(0,Q.jsx)(M.JO,{name:"resource",color:c.w.Gray700}),h?(0,Q.jsx)(C.rU,{to:(0,G.$U)(h,"/resources/".concat(e.resourceKey)),children:(0,Q.jsx)(Ue.bZ,{children:e.resourceKey})}):(0,Q.jsx)(Ue.bZ,{children:e.resourceKey})]},e.resourceKey)}))})]}),x&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Q.jsx)(P.pm,{children:"Config"})}),(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},children:(0,Q.jsx)(Me.L,{type:x,typesInScope:x.recursiveConfigTypes})})]})]}):null,(0,Q.jsxs)(l.x,{style:{flex:.5,minWidth:0},flex:{direction:"column"},children:[(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Q.jsx)(P.pm,{children:"Type"})}),u?(0,Q.jsx)(Fe.Ot,{type:u}):(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},children:(0,Q.jsx)(Te.d,{description:"No type data provided."})}),d.length>0&&(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"horizontal",width:1,color:c.w.KeylineGray},flex:{justifyContent:"space-between",gap:8},children:(0,Q.jsx)(P.pm,{children:"Metadata"})}),(0,Q.jsx)(l.x,{style:{flex:1},children:(0,Q.jsx)($e.mQ,{assetMetadata:d,repoLocation:null===h||void 0===h?void 0:h.location})})]})]})]})]})},nn=function(e){var n=e.assetNode,t=e.repoAddress;return(0,Q.jsxs)(l.x,{flex:{alignItems:"baseline",gap:16,wrap:"wrap"},style:{lineHeight:0},children:[n.jobNames.filter((function(e){return!(0,m.pv)(e)})).map((function(e){return(0,Q.jsx)(P.fv,{children:(0,Q.jsx)(F.h,{isJob:!0,showIcon:!0,pipelineName:e,pipelineHrefContext:t})},e)})),(0,Q.jsx)(Xe.d,{assetNode:n,repoAddress:t}),n.isSource&&(0,Q.jsx)(P.YS,{style:{lineHeight:"16px",marginTop:2},children:"Source Asset"})]})},tn=(0,a.Ps)(de||(de=(0,r.Z)(["\n  fragment AssetNodeDefinitionFragment on AssetNode {\n    id\n    description\n    graphName\n    opNames\n    opVersion\n    jobNames\n    partitionDefinition {\n      description\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    requiredResources {\n      resourceKey\n    }\n\n    ...AssetNodeConfigFragment\n    ...AssetNodeFragment\n    ...AssetNodeOpMetadataFragment\n  }\n\n  ","\n  ","\n  ","\n"])),He.r,Re.zU,$e.Ws),rn=t(62816),sn=t.n(rn),an=t(86476),on=t(9315),ln=t(86875),dn=function(e){var n=e.assetNode,t=e.repoAddress,i=sn()(n.jobs,(function(e){return e.schedules})),r=sn()(n.jobs,(function(e){return e.sensors}));return(0,Q.jsx)(an.I,{repoAddress:t,schedules:i,sensors:r,showSwitch:!1})},cn=(0,a.Ps)(ce||(ce=(0,r.Z)(["\n  fragment AssetNodeInstigatorsFragment on AssetNode {\n    id\n    jobs {\n      id\n      name\n      schedules {\n        id\n        __typename\n        ...ScheduleSwitchFragment\n      }\n      sensors {\n        id\n        __typename\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"])),on.J,ln.U),un=t(88863),pn=t(96391),xn=t(35473),mn=t(9),hn=t(38376),fn=t(85532),gn=t(76867),jn=t(76314),yn="lineageGraphZoomLevel",vn=function(e){var n=e.assetKey,t=e.assetGraphData,i=e.liveDataByNode,r=e.params,s=(0,m.Wu)(n),a=u.useState(null),o=(0,y.Z)(a,2),c=o[0],x=o[1],h=(0,gn.oJ)(t),f=h.layout,g=h.loading,v=u.useRef(),w=(0,p.k6)();return u.useEffect((function(){if(v.current&&f){var e=Number((0,jn.n)(yn));v.current.autocenter(!1,e),v.current.focus()}}),[v,f,s]),!f||g?(0,Q.jsx)(l.x,{style:{flex:1},flex:{alignItems:"center",justifyContent:"center"},children:(0,Q.jsx)(d.$,{purpose:"page"})}):(0,Q.jsx)(fn.l,{ref:function(e){return v.current=e||void 0},interactor:fn.l.Interactors.PanAndZoom,graphWidth:f.width,graphHeight:f.height,onDoubleClick:function(e){var n;null===(n=v.current)||void 0===n||n.autocenter(!0),e.stopPropagation()},maxZoom:1.2,maxAutocenterZoom:1.2,children:function(e){var n=e.scale;return(0,Q.jsxs)(bn,{width:f.width,height:f.height,children:[v.current&&(0,Q.jsx)(wn,{scale:n}),(0,Q.jsx)(pn.i,{highlighted:c,edges:f.edges}),Object.values(f.groups).sort((function(e,n){return e.id.length-n.id.length})).map((function(e){return(0,u.createElement)("foreignObject",(0,j.Z)((0,j.Z)({},e.bounds),{},{key:e.id}),(0,Q.jsx)(mn.l,{group:e,scale:n}))})),Object.values(f.nodes).map((function(e){var a=e.id,o=e.bounds,l=t.nodes[a],d=JSON.parse(a);return(0,u.createElement)("foreignObject",(0,j.Z)((0,j.Z)({},o),{},{key:a,style:{overflow:"visible"},onMouseEnter:function(){return x(a)},onMouseLeave:function(){return x(null)},onClick:function(){return e={path:d},void w.push((0,oe.p)(e,(0,j.Z)((0,j.Z)({},r),{},{lineageScope:"neighbors"})));var e},onDoubleClick:function(e){var n;null===(n=v.current)||void 0===n||n.zoomToSVGBox(o,!0,1.2),e.stopPropagation()}}),l?n<xn.CZ?(0,Q.jsx)(Re.t$,{definition:l.definition,liveData:i[l.id],selected:l.id===s}):(0,Q.jsx)(Re.p4,{definition:l.definition,liveData:i[l.id],selected:l.id===s}):(0,Q.jsx)(hn.w,{assetKey:{path:d}}))}))]})}})},wn=function(e){var n=e.scale;return u.useEffect((function(){try{window.localStorage.setItem(yn,JSON.stringify(n))}catch(e){}}),[n]),(0,Q.jsx)(Q.Fragment,{})},bn=H.ZP.svg.withConfig({displayName:"AssetNodeLineageGraph__SVGContainer",componentId:"q47dxd-0"})(["overflow:visible;border-radius:0;"]),Nn=t(52165),In=function(e){var n=e.params,t=e.setParams,i=e.assetKey,r=e.liveDataByNode,s=e.assetGraphData,a=e.graphQueryItems,o=e.requestedDepth,d=u.useMemo((function(){return(0,S.BK)(a,i)}),[a,i]),p="upstream"===n.lineageScope?d.upstream:"downstream"===n.lineageScope?d.downstream:Math.max(d.upstream,d.downstream),x=Math.max(1,Math.min(p,o));return(0,Q.jsxs)(l.x,{style:{width:"100%",flex:1,minHeight:0,position:"relative"},flex:{direction:"column"},children:[(0,Q.jsxs)(l.x,{flex:{justifyContent:"space-between",alignItems:"center",gap:12},padding:{left:24,right:12,vertical:12},border:{side:"bottom",color:c.w.KeylineGray,width:1},children:[(0,Q.jsx)(L.h,{activeItems:new Set([n.lineageScope||"neighbors"]),buttons:[{id:"neighbors",label:"Nearest Neighbors",icon:"graph_neighbors"},{id:"upstream",label:"Upstream",icon:"graph_upstream"},{id:"downstream",label:"Downstream",icon:"graph_downstream"}],onClick:function(e){return t((0,j.Z)((0,j.Z)({},n),{},{lineageScope:e,lineageDepth:void 0}))}}),(0,Q.jsx)(Cn,{value:x,onChange:function(e){return t((0,j.Z)((0,j.Z)({},n),{},{lineageDepth:e}))},max:p}),(0,Q.jsx)("div",{style:{flex:1}}),Object.values(s.nodes).length>1?(0,Q.jsx)(Nn.XE,{intent:"none",liveDataForStale:r,scope:{all:Object.values(s.nodes).map((function(e){return e.definition}))}}):(0,Q.jsx)(ve.zx,{icon:(0,Q.jsx)(M.JO,{name:"materialization"}),disabled:!0,children:"Materialize all"})]}),x<p&&(0,Q.jsx)(Kn,{children:"Not all upstream/downstream assets shown. Increase the depth to show more."}),(0,Q.jsx)(vn,{assetKey:i,liveDataByNode:r,assetGraphData:s,params:n})]})},Kn=H.ZP.div.withConfig({displayName:"AssetNodeLineage__DepthHidesAssetsNotice",componentId:"sc-1kyddw2-0"})(["background:",";border-radius:8px;color:",";align-items:center;display:flex;padding:4px 8px;gap:4px;position:absolute;right:12px;top:70px;z-index:2;"],c.w.Gray100,c.w.Gray500),Cn=function(e){var n=e.value,t=e.max,i=e.onChange,r=u.useState("".concat(n)),s=(0,y.Z)(r,2),a=s[0],o=s[1];u.useEffect((function(){o("".concat(n))}),[n]);var d=function(){var e=Number(a)?Math.min(t,Number(a)):n;i(e)};return(0,Q.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},children:["Graph depth",(0,Q.jsxs)(ve.zH,{children:[(0,Q.jsx)(ve.zx,{disabled:n<=1,onClick:function(){return i(n-1)},icon:(0,Q.jsx)(M.JO,{name:"subtract"})}),(0,Q.jsx)(un.oi,{min:1,max:t,disabled:t<=1,inputMode:"numeric",style:{width:40,marginLeft:-1,textAlign:"center",height:32,padding:6,borderRadius:0,boxShadow:"none",border:"1px solid ".concat(c.w.Gray300)},value:a,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){return"Enter"===e.key||"Return"===e.key?d():void 0},onBlur:function(){return d()}},n),(0,Q.jsx)(ve.zx,{disabled:n>=t,onClick:function(){return i(n+1)},icon:(0,Q.jsx)(M.JO,{name:"add"})}),(0,Q.jsx)(ve.zx,{disabled:n>=t,onClick:function(){return i(t)},children:"All"})]})]})},kn=t(90428),_n=t.n(kn),Sn=t(58891),zn=t.n(Sn),An=t(89493),On=t(29399),Zn=t(1520),Dn=t(6291),En=t(23300),Gn=t(50346),Pn=function(e){var n=e.counts,t=e.value,i=e.onChange,r=e.allowed,s=e.disabled;return(0,Q.jsx)(l.x,{flex:{direction:"row",alignItems:"center",gap:12},style:{overflow:"hidden"},children:r.map((function(e){return(0,Q.jsx)(Gn.X,{"data-testid":(0,Zn.N)("partition-status-".concat(e,"-checkbox")),disabled:s,style:{marginBottom:0,marginLeft:10,minWidth:200},checked:t.includes(e)&&!s,label:"".concat((0,En.be)(e)," (").concat(n[e],")"),onChange:function(){return i(t.includes(e)?t.filter((function(n){return n!==e})):[].concat((0,ie.Z)(t),[e]))}},e)}))})},Ln=t(36613),Mn=t(30885),Rn=t(47619);var Fn=[En.yo.MISSING,En.yo.MATERIALIZING,En.yo.MATERIALIZED,En.yo.FAILED].sort(),Tn=function(e){var n=e.assetKey,t=e.assetPartitionDimensions,i=e.params,r=e.setParams,s=e.dataRefreshHint,a=(0,Rn.mR)([n],s),o=(0,y.Z)(a,1)[0],p=(0,Mn.q)({knownDimensionNames:t,modifyQueryString:!0,assetHealth:o,shouldReadPartitionQueryStringParam:!1}),x=(0,y.Z)(p,2),m=x[0],h=x[1],f=u.useState([]),g=(0,y.Z)(f,2),v=g[0],w=g[1],b=(0,Z.q)({defaults:{status:(0,ie.Z)(Fn).sort().join(",")},encode:function(e){return{status:(0,ie.Z)(e).sort().join(",")}},decode:function(e){return(e.status||"").split(",").filter((function(e){return Fn.includes(e)}))}}),N=(0,y.Z)(b,2),I=N[0],K=N[1],C=m.findIndex((function(e){return(0,Ln.nv)(e.dimension)})),k=function(e){var n=e.params,t=e.setParams,i=e.dimensionCount,r=e.defaultKeyInDimension,s=u.useMemo((function(){return n.partition?i>1?n.partition.split("|").filter(Boolean):[n.partition]:[]}),[i,n.partition]);return[s,function(e,i){for(var a=[],o=0;o<e;o++)a.push(s[o]||r(o));i&&a.push(i),t((0,j.Z)((0,j.Z)({},n),{},{partition:a.join("|")}))}]}({params:i,setParams:r,dimensionCount:m.length,defaultKeyInDimension:function(e){return O(e)[0]}}),_=(0,y.Z)(k,2),S=_[0],z=_[1],A=u.useMemo((function(){return o?m.map((function(e,n){return o.rangesForSingleDimension(n,1===n&&S[0]?[(0,Rn.mC)(S[0],m[0].dimension)]:-1!==C&&n!==C?m[C].selectedRanges:void 0)})):m.map((function(){return[]}))}),[o,m,C,S]),O=function(e){if(!m[e])return[];if(-1!==C&&0===m[C].selectedRanges.length)return[];var n=m[e],t=n.dimension,i=n.selectedRanges,r=t.partitionKeys,s=v[e]||Un(m[e].dimension.type),a=function(){return zn()(i.flatMap((function(e){var n=e.start,t=e.end;return r.slice(n.idx,t.idx+1)})))};if(_n()(Fn,I)){var o=a();return 1===s?o:o.reverse()}var l,d,c=(0,Rn.tP)(A[e],i),u=zn()((l=I.filter((function(e){return e!==En.yo.MISSING})),c.flatMap((function(e){return l.some((function(n){return e.value.includes(n)}))?r.slice(e.start.idx,e.end.idx+1):[]}))));if(I.includes(En.yo.MISSING)){var p=a();d=r.filter((function(e,n){return p.includes(e)&&(u.includes(e)||function(e){return!c.some((function(n){return n.start.idx<=e&&n.end.idx>=e&&!n.value.includes(En.yo.MISSING)}))}(n))}))}else d=u;return 1===s?d:d.reverse()},D=(0,Rn.CA)(o,m),E=I.reduce((function(e,n){return e+D[n]}),0);return(0,Q.jsxs)(Q.Fragment,{children:[-1!==C&&(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Q.jsx)(On.x,{partitionKeys:m[C].dimension.partitionKeys,health:{ranges:A[C]},selected:m[C].selectedKeys,setSelected:function(e){return h(m.map((function(n,t){return t===C?(0,j.Z)((0,j.Z)({},n),{},{selectedKeys:e}):n})))},dimensionType:m[C].dimension.type})}),(0,Q.jsxs)(l.x,{padding:{vertical:16,horizontal:24},flex:{direction:"row",justifyContent:"space-between"},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:[(0,Q.jsxs)("div",{"data-testid":(0,Zn.N)("partitions-selected"),children:[E.toLocaleString()," Partitions Selected"]}),(0,Q.jsx)(Pn,{counts:D,allowed:Fn,value:I,onChange:K})]}),(0,Q.jsxs)(l.x,{style:{flex:1,minHeight:0,outline:"none"},flex:{direction:"row"},tabIndex:-1,children:[m.map((function(e,n){return(0,Q.jsxs)(l.x,{style:{display:"flex",flex:1,paddingRight:1,minWidth:200},flex:{direction:"column"},border:{side:"right",color:c.w.KeylineGray,width:1},background:c.w.Gray50,"data-testid":(0,Zn.N)("partitions-".concat(e.dimension.name)),children:[(0,Q.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},background:c.w.White,border:{side:"bottom",width:1,color:c.w.KeylineGray},padding:{horizontal:24,vertical:8},children:[(0,Q.jsx)("div",{children:"default"!==e.dimension.name&&(0,Q.jsxs)(l.x,{flex:{gap:8,alignItems:"center"},children:[(0,Q.jsx)(M.JO,{name:"partition"}),(0,Q.jsx)(P.pm,{children:e.dimension.name})]})}),(0,Q.jsx)(An.Kz,{style:{marginRight:"-16px"},"data-testid":"sort-".concat(n),onClick:function(){w((function(e){var t=(0,ie.Z)(e);return t[n]?t[n]=-1===t[n]?1:-1:t[n]=-1*Un(m[n].dimension.type),t}))},children:(0,Q.jsx)(M.JO,{name:"sort_by_alpha",color:c.w.Gray400})})]}),o?(0,Q.jsx)(Dn.k,{partitions:O(n),statusForPartition:function(t){if(1===n&&S[0])return[o.stateForKey([S[0],t])];var i=e.dimension.partitionKeys.indexOf(t);return(0,Rn.h1)(A[n],i).filter((function(e){return I.includes(e)}))},focusedDimensionKey:S[n],setFocusedDimensionKey:function(e){z(n,e)}}):(0,Q.jsx)(l.x,{flex:{alignItems:"center",justifyContent:"center"},style:{flex:1},children:(0,Q.jsx)(d.$,{purpose:"section"})})]},e.dimension.name)})),(0,Q.jsx)(l.x,{style:{flex:3,minWidth:0,overflowY:"auto"},flex:{direction:"column"},children:i.partition&&S.length===m.length?(0,Q.jsx)(Oe,{assetKey:n,partitionKey:i.partition}):(0,Q.jsx)(Ee,{})})]})]})};function Un(e){return e===ge.iVC.TIME_WINDOW?-1:1}var Jn,Hn=t(4041),Wn=function(e){var n=e.assetKey,t=e.assetHasDefinedPartitions,i=e.params,r=e.setParams,s=(0,Ae.fE)(n,i,{assetHasDefinedPartitions:t}),a=s.materializations,o=s.observations,p=s.loadedPartitionKeys,x=s.loading,m=s.xAxis,h=(0,Pe.L)(m,a,o,p),f=u.useMemo((function(){return new Set([m])}),[m]);return x?(0,Q.jsxs)(l.x,{children:[(0,Q.jsx)(l.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:{side:"bottom",color:c.w.KeylineGray,width:1},padding:{vertical:16,left:24,right:12},style:{marginBottom:-1},children:(0,Q.jsx)(P.pm,{children:"Asset Plots"})}),(0,Q.jsx)(l.x,{padding:{vertical:48},children:(0,Q.jsx)(d.$,{purpose:"page"})})]}):(0,Q.jsxs)(l.x,{children:[(0,Q.jsxs)(l.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:{side:"bottom",color:c.w.KeylineGray,width:1},padding:{vertical:16,left:24,right:12},style:{marginBottom:-1},children:[(0,Q.jsx)(P.pm,{children:"Asset Plots"}),t?(0,Q.jsx)("div",{style:{margin:"-6px 0 "},children:(0,Q.jsx)(L.h,{activeItems:f,buttons:[{id:"partition",label:"Partitions",icon:"partition"},{id:"time",label:"Events",icon:"materialization"}],onClick:function(e){return r("time"===e?(0,j.Z)((0,j.Z)({},i),{},{partition:void 0,time:""}):(0,j.Z)((0,j.Z)({},i),{},{partition:"",time:void 0}))}})}):null]}),(0,Q.jsx)(Hn.l,{xAxis:m,groups:h})]})},$n=t(52063),Bn=function(e){var n,t,i=e.assetKey,r=(0,Z.q)({}),s=(0,y.Z)(r,2),a=s[0],o=s[1],c=Yn(i),p=c.definition,x=c.definitionQueryResult,h=c.lastMaterialization,f=null!==p&&void 0!==p&&p.partitionDefinition?"partitions":"events",b=a.view||f,N=function(e,n){var t=(0,m.Je)(e);if("definition"===n.view)return{query:'+"'.concat(t,'"+'),requestedDepth:1};if("lineage"===n.view){var i="neighbors"===n.lineageScope?2:5,r=Number(n.lineageDepth)||i,s="+".repeat(r);return{query:"lineage"===n.view&&"upstream"===n.lineageScope?"".concat(s,'"').concat(t,'"'):"lineage"===n.view&&"downstream"===n.lineageScope?'"'.concat(t,'"').concat(s):"".concat(s,'"').concat(t,'"').concat(s),requestedDepth:r}}return{query:'"'.concat(t,'"'),requestedDepth:0}}(i,a),I=(0,S.uc)(N.query,{hideEdgesToNodesOutsideQuery:!0}),K=function(e,n){var t=(0,m.Wu)(n);return u.useMemo((function(){return e?{upstream:Object.values(e.nodes).filter((function(n){var i;return null===(i=e.upstream[t])||void 0===i?void 0:i[(0,m.Wu)(n.assetKey)]})).map((function(e){return e.definition})),downstream:Object.values(e.nodes).filter((function(n){var i;return null===(i=e.downstream[t])||void 0===i?void 0:i[(0,m.Wu)(n.assetKey)]})).map((function(e){return e.definition}))}:{upstream:null,downstream:null}}),[e,t])}(I.assetGraphData,i),C=K.upstream,_=K.downstream,A=null===(n=I.assetGraphData)||void 0===n?void 0:n.nodes[(0,m.Wu)(i)],O=(0,z.l)(I.graphAssetKeys),D=O.liveDataRefreshState,E=O.liveDataByNode,G=O.runWatchers,P=E[(0,m.Wu)(i)],L=null===(t=(null===P||void 0===P?void 0:P.lastMaterialization)||h)||void 0===t?void 0:t.timestamp,M=!a.asOf||Number(L)<=Number(a.asOf),R=P?(0,Rn.em)(P):null===h||void 0===h?void 0:h.timestamp,F=(0,k.V5)((0,k.C4)(x,k.dT),D);return(0,Q.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",width:"100%",overflowY:"auto"},children:[G,(0,Q.jsx)(g.K,{assetKey:i,tags:(0,Q.jsx)(nt,{definition:p,liveData:P,onShowUpstream:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"lineage",lineageScope:"upstream"}))}}),tabs:(0,Q.jsxs)(l.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,Q.jsxs)(v.mQ,{size:"large",selectedTabId:b,children:[(null===p||void 0===p?void 0:p.partitionDefinition)&&(0,Q.jsx)(v.OK,{id:"partitions",title:"Partitions",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"partitions"}))}}),(0,Q.jsx)(v.OK,{id:"events",title:"Events",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"events",partition:void 0}))}}),(0,Q.jsx)(v.OK,{id:"plots",title:"Plots",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"plots"}))}}),(0,Q.jsx)(v.OK,{id:"definition",title:"Definition",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"definition"}))},disabled:!p}),(0,Q.jsx)(v.OK,{id:"lineage",title:"Lineage",onClick:function(){return o((0,j.Z)((0,j.Z)({},a),{},{view:"lineage"}))},disabled:!p})]}),F&&(0,Q.jsx)(l.x,{padding:{bottom:8},children:(0,Q.jsx)(k.xi,{refreshState:F})})]}),right:(0,Q.jsx)(l.x,{style:{margin:"-4px 0"},children:p&&p.isObservable?(0,Q.jsx)($n.y,{intent:"primary",scope:{all:[p],skipAllTerm:!0}}):p&&p.jobNames.length>0&&C?(0,Q.jsx)(Nn.XE,{scope:{all:[p]}}):void 0})}),!M&&(0,Q.jsx)(et,{asOf:a.asOf,onClick:function(){return o({asOf:void 0,time:a.asOf})},hasDefinition:!!p}),(0,Q.jsx)(w.S,{region:"page",resetErrorOnChange:[i,a],children:"definition"===b?x.loading&&!x.previousData?(0,Q.jsx)(Vn,{}):p?(0,Q.jsx)(en,{assetNode:p,upstream:C,downstream:_,dependsOnSelf:!!A&&(0,m.Pz)(A),liveDataByNode:E}):(0,Q.jsx)(qn,{}):"lineage"===b?I.assetGraphData?(0,Q.jsx)(In,{params:a,setParams:o,assetKey:i,liveDataByNode:E,requestedDepth:N.requestedDepth,assetGraphData:I.assetGraphData,graphQueryItems:I.graphQueryItems}):(0,Q.jsx)(l.x,{style:{flex:1},flex:{alignItems:"center",justifyContent:"center"},children:(0,Q.jsx)(d.$,{purpose:"page"})}):"partitions"===b?x.loading&&!x.previousData?(0,Q.jsx)(Vn,{}):(0,Q.jsx)(Tn,{assetKey:i,assetPartitionDimensions:null===p||void 0===p?void 0:p.partitionKeysByDimension.map((function(e){return e.name})),dataRefreshHint:R,params:a,paramsTimeWindowOnly:!!a.asOf,setParams:o}):"events"===b?x.loading&&!x.previousData?(0,Q.jsx)(Vn,{}):(0,Q.jsx)(Le,{assetKey:i,assetHasDefinedPartitions:!(null===p||void 0===p||!p.partitionDefinition),dataRefreshHint:R,params:a,paramsTimeWindowOnly:!!a.asOf,setParams:o,liveData:p?E[(0,m.Wu)(p.assetKey)]:void 0}):"plots"===b?x.loading&&!x.previousData?(0,Q.jsx)(Vn,{}):(0,Q.jsx)(Wn,{assetKey:i,assetHasDefinedPartitions:!(null===p||void 0===p||!p.partitionDefinition),params:a,setParams:o}):(0,Q.jsx)("span",{})})]})},Vn=function(){return(0,Q.jsx)(l.x,{style:{height:390},flex:{direction:"row",justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(d.$,{purpose:"page"})})},qn=function(){return(0,Q.jsx)(l.x,{padding:{vertical:32},children:(0,Q.jsx)(b.t,{title:"No definition",description:"This asset doesn't have a software definition in any of your code locations.",icon:"materialization"})})};var Qn,Yn=function(e){var n=(0,s.a)(Xn,{variables:{assetKey:{path:e.path}},notifyOnNetworkStatusChange:!0}),t=(n.data||n.previousData||{}).assetOrError,i=t&&"Asset"===t.__typename?t:null;return{definitionQueryResult:n,definition:(null===i||void 0===i?void 0:i.definition)||null,lastMaterialization:null===i||void 0===i?void 0:i.assetMaterializations[0]}},Xn=(0,a.Ps)(Jn||(Jn=(0,r.Z)(["\n  query AssetViewDefinitionQuery($assetKey: AssetKeyInput!) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        key {\n          path\n        }\n        assetMaterializations(limit: 1) {\n          timestamp\n        }\n        definition {\n          id\n          ...AssetViewDefinitionNode\n        }\n      }\n    }\n  }\n\n  fragment AssetViewDefinitionNode on AssetNode {\n    id\n    groupName\n    partitionDefinition {\n      __typename\n      description\n    }\n    partitionKeysByDimension {\n      name\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n\n    ...AssetNodeInstigatorsFragment\n    ...AssetNodeDefinitionFragment\n    ...UnderlyingOpsAssetNodeFragment\n  }\n\n  ","\n  ","\n  ","\n"])),cn,tn,Xe.D),et=function(e){var n=e.asOf,t=e.onClick,i=e.hasDefinition;return(0,Q.jsx)(l.x,{padding:{vertical:16,horizontal:24},border:{side:"bottom",width:1,color:c.w.KeylineGray},children:(0,Q.jsx)(N.b,{intent:"info",title:(0,Q.jsxs)("span",{children:["This is a historical view of materializations as of"," ",(0,Q.jsx)("span",{style:{fontWeight:600},children:(0,Q.jsx)(_.E,{timestamp:{ms:Number(n)},timeFormat:{showSeconds:!0,showTimezone:!0}})}),"."]}),description:(0,Q.jsx)(I.Z,{onClick:t,underline:"always",children:i?"Show definition and latest materializations":"Show latest materializations"})})})},nt=function(e){var n=e.definition,t=e.liveData,i=e.onShowUpstream,r=n?(0,E.kQ)(n.repository.name,n.repository.location.name):null;return(0,Q.jsxs)(Q.Fragment,{children:[n&&r?(0,Q.jsxs)(K.V,{icon:"asset",children:["Asset in ",(0,Q.jsx)(D.b,{repoAddress:r})]}):(0,Q.jsx)(K.V,{icon:"asset_non_sda",children:"Asset"}),n&&r&&(0,Q.jsx)(dn,{assetNode:n,repoAddress:r}),n&&r&&n.groupName&&(0,Q.jsx)(K.V,{icon:"asset_group",children:(0,Q.jsx)(C.rU,{to:(0,G.$U)(r,"/asset-groups/".concat(n.groupName)),children:n.groupName})}),(null===t||void 0===t?void 0:t.freshnessPolicy)&&(0,Q.jsx)(Qe.vy,{liveData:t,policyOnHover:!0}),n&&(0,Q.jsx)(A.d9,{liveData:t,assetKey:n.assetKey,onClick:i,include:"all"}),n&&(0,Q.jsx)(O.hG,{style:{position:"relative"},definition:n,reduceColor:!0})]})},tt=t(24326),it=function(){var e;(0,x.Px)();var n=(0,p.UO)(),t=(0,p.k6)(),i=(n[0]||"").split("/").filter((function(e){return e})).map(decodeURIComponent),r=(0,s.a)(st,{skip:0===i.length,variables:{assetKey:{path:i}}});return(0,h.j)(i&&i.length?"Assets: ".concat((0,m.ll)({path:i})):"Assets"),r.loading?(0,Q.jsxs)(o.T,{children:[(0,Q.jsx)(g.K,{assetKey:{path:i}}),(0,Q.jsx)(l.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,Q.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,Q.jsx)(d.$,{purpose:"body-text"}),(0,Q.jsx)("div",{style:{color:c.w.Gray600},children:"Loading assets\u2026"})]})})]}):0===i.length||"AssetNotFoundError"===(null===(e=r.data)||void 0===e?void 0:e.assetOrError.__typename)?(0,Q.jsxs)(l.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,Q.jsx)(g.K,{assetKey:{path:i},right:(0,Q.jsxs)(l.x,{flex:{gap:12,alignItems:"center"},children:[(0,Q.jsx)(g.w,{}),(0,Q.jsx)(f.i,{label:"Reload definitions"})]})}),(0,Q.jsx)(tt.fv,{prefixPath:i,setPrefixPath:function(e){return t.push((0,oe.p)({path:e}))}})]}):(0,Q.jsx)(Bn,{assetKey:{path:i}})},rt=it,st=(0,a.Ps)(Qn||(Qn=(0,r.Z)(["\n  query AssetsCatalogRootQuery($assetKey: AssetKeyInput!) {\n    assetOrError(assetKey: $assetKey) {\n      __typename\n      ... on Asset {\n        id\n        key {\n          path\n        }\n      }\n    }\n  }\n"])))},82576:function(e,n,t){t.d(n,{a:function(){return o}});var i=t(19065),r=t(325),s=function(e,n){var t=new Set(Array.from(e.checkedIds));switch(n.type){case"toggle-one":var r=n.payload,s=r.checked,a=r.id;return s?t.add(a):t.delete(a),{lastCheckedId:a,checkedIds:t};case"toggle-slice":var o=n.payload,l=o.checked,d=o.id,c=o.allIds,u=e.lastCheckedId,p=u?c.indexOf(u):-1,x=c.indexOf(d);if(-1===p||-1===x)return e;for(var m=[p,x].sort(),h=(0,i.Z)(m,2),f=h[0],g=h[1],j=f;j<=g;j++)l?t.add(c[j]):t.delete(c[j]);return{lastCheckedId:d,checkedIds:t};case"toggle-all":var y=n.payload,v=y.checked,w=y.allIds;return{lastCheckedId:null,checkedIds:v?new Set(w):new Set}}},a={checkedIds:new Set,lastCheckedId:null};function o(e){var n=r.useReducer(s,a),t=(0,i.Z)(n,2),o=t[0],l=t[1];return[o,{onToggleFactory:function(n){return function(t){var i=t.checked;t.shiftKey&&o.lastCheckedId?l({type:"toggle-slice",payload:{checked:i,id:n,allIds:e}}):l({type:"toggle-one",payload:{checked:i,id:n}})}},onToggleAll:function(n){l({type:"toggle-all",payload:{checked:n,allIds:e}})}}]}},30057:function(e,n,t){t.d(n,{b:function(){return h}});var i=t(922),r=t(32030),s=t(75497),a=t(7838),o=t(61653),l=t(34595),d=t(11831),c=(t(325),t(74549)),u=t(33902),p=t(25582),x=t(86562),m=t(32289),h=function(e){var n=e.repoAddress,t=e.showIcon,i=void 0!==t&&t,d=e.showRefresh,c=void 0===d||d,h=n.location,y=(0,u.Uz)(n);return(0,m.jsxs)(r.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center"},title:y,children:[i&&(0,m.jsx)(s.JO,{name:"folder",style:{marginRight:8},color:a.w.Gray400}),(0,m.jsx)(f,{to:(0,p.$U)(n),style:{flex:1},children:(0,m.jsx)(o.g,{text:y})}),c?(0,m.jsx)(x.s,{location:h,ChildComponent:function(e){var n=e.codeLocation,t=e.tryReload,i=e.reloading,r=e.hasReloadPermission;return(0,m.jsx)(g,{content:r?i?"Reloading\u2026":(0,m.jsxs)(m.Fragment,{children:["Reload location ",(0,m.jsx)("strong",{children:n})]}):x.H,children:i?(0,m.jsx)(l.$,{purpose:"body-text"}):(0,m.jsx)(j,{disabled:!r,onClick:t,children:(0,m.jsx)(s.JO,{name:"refresh",color:r?a.w.Gray400:a.w.Gray300})})})}}):null]})},f=(0,i.ZP)(c.rU).withConfig({displayName:"RepositoryLink__RepositoryName",componentId:"sc-1ocg9ga-0"})(["max-width:280px;"]),g=(0,i.ZP)(d.u).withConfig({displayName:"RepositoryLink__ReloadTooltip",componentId:"sc-1ocg9ga-1"})(["margin-left:4px;&&{display:block;}"]),j=i.ZP.button.withConfig({displayName:"RepositoryLink__StyledButton",componentId:"sc-1ocg9ga-2"})(["background-color:transparent;border:0;cursor:pointer;display:block;padding:0;margin:0;:disabled{cursor:default;}:focus:not(:focus-visible){outline:none;}& ","{display:block;transition:color 100ms linear;}:hover ","{color:",";}"],s.a1,s.a1,a.w.Blue500)},86476:function(e,n,t){t.d(n,{I:function(){return y}});var i=t(19065),r=t(54268),s=t(60652),a=t(7838),o=t(32030),l=t(11831),d=t(8546),c=t(61653),u=t(325),p=t(74549),x=t(9315),m=t(36243),h=t(86875),f=t(25582),g=t(72444),j=t(32289),y=function(e){var n=e.schedules,t=e.sensors,o=e.repoAddress,l=e.showSwitch,d=void 0===l||l,c=u.useState(!1),p=(0,i.Z)(c,2),x=p[0],m=p[1],h=n.length,f=t.length;if(h>1||f>1||h&&f){var y=h&&f?"".concat(h+f," schedules/sensors"):h?"".concat(h," schedules"):"".concat(f," sensors"),b=h>1?"schedule":"sensors";return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.V,{icon:b,children:(0,j.jsx)(s.Z,{onClick:function(){return m(!0)},color:a.w.Link,children:y})}),(0,j.jsx)(g.f,{isOpen:x,onClose:function(){return m(!1)},repoAddress:o,schedules:n,sensors:t,showSwitch:d})]})}return h?(0,j.jsx)(v,{schedule:n[0],repoAddress:o,showSwitch:d}):f?(0,j.jsx)(w,{sensor:t[0],repoAddress:o,showSwitch:d}):null},v=function(e){var n=e.schedule,t=e.repoAddress,i=e.showSwitch,s=n.cronSchedule,a=n.executionTimezone,c="RUNNING"===n.scheduleState.status,u=(0,j.jsx)(r.V,{intent:c?"primary":"none",icon:"schedule",children:(0,j.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,j.jsx)(p.rU,{to:(0,f.$U)(t,"/schedules/".concat(n.name)),style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,m.A)(s,a||"UTC")}),i?(0,j.jsx)(x.M,{size:"small",repoAddress:t,schedule:n}):null]})});return n.cronSchedule?(0,j.jsx)(l.u,{placement:"top-start",content:(0,j.jsxs)(o.x,{flex:{direction:"column",gap:4},children:[(0,j.jsxs)("div",{children:["Name: ",(0,j.jsx)("strong",{children:n.name})]}),(0,j.jsxs)("div",{children:["Cron:"," ",(0,j.jsxs)("span",{style:{fontFamily:d.b.monospace,marginLeft:"4px"},children:["(",n.cronSchedule,")"]})]}),(0,j.jsxs)("div",{children:["Timezone: ",(0,j.jsx)("strong",{children:n.executionTimezone||"UTC"})]})]}),children:u}):u},w=function(e){var n=e.sensor,t=e.repoAddress,i=e.showSwitch,s="RUNNING"===n.sensorState.status;return(0,j.jsx)(r.V,{intent:s?"primary":"none",icon:"sensors",children:(0,j.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,j.jsx)(p.rU,{to:(0,f.$U)(t,"/sensors/".concat(n.name)),style:{maxWidth:200,overflow:"hidden"},children:(0,j.jsx)(c.g,{text:n.name})}),i?(0,j.jsx)(h.c,{size:"small",repoAddress:t,sensor:n}):null]})})}},35815:function(e,n,t){t.d(n,{l:function(){return d},L:function(){return c}});var i=t(922),r=t(32030),s=t(75497),a=t(7838),o=(t(325),t(37099)),l=t(32289),d=32,c=function(e){var n=e.expanded,t=e.onClick,i=e.repoName,d=e.repoLocation,c=e.showLocation,m=e.rightElement,h=i===o.Js;return(0,l.jsx)(u,{$open:n,onClick:t,children:(0,l.jsxs)(r.x,{flex:{alignItems:"center",justifyContent:"space-between"},padding:{horizontal:24},children:[(0,l.jsxs)(r.x,{flex:{alignItems:"center",gap:8},children:[(0,l.jsx)(s.JO,{name:"folder",color:a.w.Dark}),(0,l.jsxs)("div",{children:[(0,l.jsx)(p,{children:h?d:i}),c&&!h?(0,l.jsx)(x,{children:"@".concat(d)}):null]})]}),(0,l.jsxs)(r.x,{flex:{alignItems:"center",gap:8},children:[m,(0,l.jsx)(r.x,{margin:{top:2},children:(0,l.jsx)(s.JO,{name:"arrow_drop_down"})})]})]})})},u=i.ZP.button.withConfig({displayName:"RepoSectionHeader__SectionHeaderButton",componentId:"sc-1b0a72j-0"})(["background-color:",";border:0;box-shadow:inset 0px -1px 0 ",",inset 0px 1px 0 ",";cursor:pointer;display:block;padding:0;width:100%;margin:0;height:","px;text-align:left;:focus,:active{outline:none;}:hover{background-color:",";}",'[aria-label="arrow_drop_down"]{transition:transform 100ms linear;',"}"],a.w.Gray50,a.w.KeylineGray,a.w.KeylineGray,d,a.w.Gray100,s.a1,(function(e){return e.$open?null:"transform: rotate(-90deg);"})),p=i.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoName",componentId:"sc-1b0a72j-1"})(["font-weight:600;"]),x=i.ZP.span.withConfig({displayName:"RepoSectionHeader__RepoLocation",componentId:"sc-1b0a72j-2"})(["font-weight:400;color:",";"],a.w.Gray700)},90933:function(e,n,t){t.d(n,{U:function(){return x}});var i=t(95764),r=t(81034),s=t(922),a=t(8412),o=t(32030),l=t(75497),d=t(7838),c=(t(325),t(74549)),u=t(32289),p=["icon","intent","text","disabled"],x=function(e){var n=e.icon,t=e.intent,s=e.text,l=e.disabled,d=(0,r.Z)(e,p);return l?(0,u.jsx)(a.sN,{disabled:!0,icon:n,intent:t,text:s}):(0,u.jsx)(m,(0,i.Z)((0,i.Z)({},d),{},{children:(0,u.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,a.cR)(n,t),(0,u.jsx)("div",{children:s})]})}))},m=(0,s.ZP)(c.rU).withConfig({displayName:"MenuLink__StyledMenuLink",componentId:"sc-1162pbu-0"})(["text-decoration:none;border-radius:4px;display:block;line-height:20px;padding:6px 8px 6px 12px;transition:background-color 50ms,box-shadow 150ms;align-items:flex-start;user-select:none;","{margin-top:2px;}",":first-child{margin-left:-4px;}&&&:link,&&&:visited,&&&:hover,&&&:active{color:",";text-decoration:none;}&&&:hover{background:",";}"],l.a1,l.a1,d.w.Gray900,d.w.Gray100)},16279:function(e,n,t){t.d(n,{vG:function(){return c},mq:function(){return u},HB:function(){return p},v5:function(){return m}});var i=t(922),r=t(7838),s=t(12745),a=t(325),o=t(35815),l=t(3580),d=t(32289),c=function(e){var n=e.repoAddress,t=e.height,i=e.start,r=e.expanded,s=e.onToggle,a=e.onToggleAll,c=e.showLocation,u=e.rightElement;return(0,d.jsx)(l.X2,{$height:t,$start:i,children:(0,d.jsx)(o.L,{repoName:n.name,repoLocation:n.location,expanded:r,onClick:function(e){return e.getModifierState("Shift")?a(!r):s(n)},showLocation:c,rightElement:u})})},u=function(e){var n=e.queryResult,t=e.noneString,i=void 0===t?"None":t,s=n.called,a=n.loading,o=n.data;return(0,d.jsx)("div",{style:{color:r.w.Gray500},children:!s||a&&!o?"Loading":i})},p=function(e){var n=e.children;return(0,d.jsx)(x,{children:(0,d.jsx)(s.YS,{children:n})})},x=i.ZP.div.withConfig({displayName:"VirtualizedWorkspaceTable__CaptionTextContainer",componentId:"k24uol-0"})(["max-width:100%;overflow:hidden;text-overflow:ellipsis;","{color:",";white-space:nowrap;}"],s.YS,r.w.Gray500),m=function(e){a.useEffect((function(){var n=setTimeout((function(){e()}),100);return function(){return clearTimeout(n)}}),[e])}}}]);
//# sourceMappingURL=580.c872438d.chunk.js.map