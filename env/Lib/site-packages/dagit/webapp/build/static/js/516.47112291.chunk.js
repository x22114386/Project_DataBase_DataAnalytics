"use strict";(self.webpackChunk_dagster_io_dagit_app=self.webpackChunk_dagster_io_dagit_app||[]).push([[516],{25496:function(e,n,t){t.d(n,{V:function(){return l}});var r=t(19065),i=t(47427),o=t(57994),a=t(98907),s=t(92334),u=function(){function e(n){var t=this;(0,o.Z)(this,e),this.itemNameMap={},n.forEach((function(e){return t.itemNameMap[e.name]=e}))}return(0,a.Z)(e,[{key:"itemNamed",value:function(e){return this.itemNameMap[e]}},{key:"traverse",value:function(e,n,t){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return i[e.name]=e,t>0&&n(e,(function(e){e.name in i||r.traverse(e,n,t-1,i)})),Object.values(i)}},{key:"fetchUpstream",value:function(e,n){var t=this;return this.traverse(e,(function(e,n){return e.inputs.forEach((function(e){return e.dependsOn.forEach((function(e){var r=t.itemNamed(e.solid.name);r&&n(r)}))}))}),n)}},{key:"fetchDownstream",value:function(e,n){var t=this;return this.traverse(e,(function(e,n){return e.outputs.forEach((function(e){return e.dependedBy.forEach((function(e){var r=t.itemNamed(e.solid.name);r&&n(r)}))}))}),n)}}]),e}();function c(e){return e.includes("*")?Number.MAX_SAFE_INTEGER:e.length}function l(e,n){if("*"===n)return{all:e,applyingEmptyDefault:!1,focus:[]};if(""===n)return{all:e.length>=100?[]:e,applyingEmptyDefault:e.length>=100,focus:[]};var t,o=new u(e),a=new Set,l=n.split(/(,| AND | and | )/g),d=new Set,p=(0,i.Z)(l);try{var f=function(){var n=t.value,u=/(\*?\+*)([.\w\d>\[\?\]\"_\/-]+)(\+*\*?)/.exec(n.trim());if(!u)return"continue";var l,p=(0,r.Z)(u,4),f=p[1],h=p[2],m=p[3],v=e.filter((function(e){return(0,s.Gm)(h.replace(/\"/g,""))?e.name.startsWith((0,s.pr)(h.replace(/\"/g,""))):/\".*\"/.test(h)?e.name===h.replace(/\"/g,""):e.name.includes(h)})),g=(0,i.Z)(v);try{for(g.s();!(l=g.n()).done;){var x=l.value,w=c(f),y=c(m);d.add(x),a.add(x),o.fetchUpstream(x,w).forEach((function(e){return a.add(e)})),o.fetchDownstream(x,y).forEach((function(e){return a.add(e)}))}}catch(E){g.e(E)}finally{g.f()}};for(p.s();!(t=p.n()).done;)f()}catch(h){p.e(h)}finally{p.f()}return{all:Array.from(a),focus:Array.from(d),applyingEmptyDefault:!1}}},57676:function(e,n,t){var r;t.d(n,{hS:function(){return r},vL:function(){return i},Fv:function(){return o},Nw:function(){return a},$T:function(){return s},j:function(){return u},aO:function(){return c},e:function(){return l},XL:function(){return d},gJ:function(){return p},nY:function(){return f},jZ:function(){return h},Bw:function(){return m},D6:function(){return v},t3:function(){return g},v2:function(){return x},V8:function(){return w},WN:function(){return y}}),function(e){e.FLAT="flat",e.WATERFALL="waterfall",e.WATERFALL_TIMED="waterfall-timed"}(r||(r={}));var i=2e-4,o=.5,a=16,s=16,u=16,c=16,l=34,d=5,p=20,f=100,h=8,m=30,v=6,g=(l-v)/2,x=2,w=100,y={mode:r.WATERFALL,hideWaiting:!1,hideTimedMode:!1,zoom:1,hideUnselectedSteps:!1}},92334:function(e,n,t){function r(e){return e.endsWith("]")}function i(e){return e.endsWith("[?]")}function o(e,n){return n.filter((function(n){return n.startsWith(e.replace("?]",""))}))}function a(e){return e.split("[")[0]}function s(e,n){return e.replace("[?]",n.match(/(\[.*\])/)[1])}t.d(n,{IL:function(){return r},Gm:function(){return i},mO:function(){return o},pr:function(){return a},os:function(){return s}})},39151:function(e,n,t){t.d(n,{tc:function(){return h},HB:function(){return w},zI:function(){return E},un:function(){return b}});var r,i,o=t(19065),a=t(95764),s=t(16798),u=t(47427),c=t(59019),l=t(7838),d=t(40355),p=t(57676),f=t(92334),h=function(e){var n=e.nodes,t=e.mode,r=n.filter((function(e){return!e.inputs.some((function(e){return e.dependsOn.some((function(e){return n.find((function(n){return n.name===e.solid.name}))}))}))})).map((function(e){return{node:e,key:e.name,state:void 0,children:[],x:-1,y:-1,root:!0,width:p.nY}})),i=(0,c.Z)(r);i.forEach((function(n){return v(r,n,e)}));var o=function e(n,t){n.x>=t||(n.x=t,n.children.forEach((function(t){return e(t,n.x+n.width+p.gJ)})))};i.forEach((function(e){return o(e,p.Nw)}));var a={},s={};r.forEach((function(e,n){e.y=n,e.children.forEach((function(n){a[n.node.name]=a[n.node.name]||[],a[n.node.name].push(e)}))})),r.forEach((function(e){s["".concat(e.y)]=s["".concat(e.y)]||[],s["".concat(e.y)].push(e)}));for(var l=!0;l;){l=!1;for(var d=function(e){var n=r[e],t=(a[n.node.name]||[]).sort((function(e,n){return n.y-e.y}))[0];if(!t)return"continue";if((0,f.IL)(n.node.name)&&!(0,f.IL)(t.node.name))return"continue";var i=s["".concat(t.y)];if(i.find((function(e){return e.x===n.x})))return"continue";var o=t.x,u=i.some((function(e){return e.x>o&&e.x<n.x})),c=i.some((function(e){return e.x<n.x&&e.children.some((function(e){return e.y>=t.y&&e.x>n.x}))}));return u||c?"continue":(s["".concat(n.y)]=s["".concat(n.y)].filter((function(e){return e!==n})),n.y=t.y,s["".concat(n.y)].push(n),l=!0,"break")},h=r.length-1;h>0;h--){var m=d(h);if("continue"!==m&&"break"===m)break}}if(t===p.hS.FLAT){for(var g=0,x=0,w=Object.keys(s);x<w.length;x++){var y=w[x],E=s[y];if(E.length){var b,C=E[0].root?p.Nw:a[E[0].node.name][0].x+p.aO,S=(0,u.Z)(E);try{for(S.s();!(b=S.n()).done;){var N=b.value;N.x=C,N.y=g,g+=1,C+=p.aO}}catch(I){S.e(I)}finally{S.f()}}}r.sort((function(e,n){return e.y-n.y||e.x-n.x}))}else for(l=!0;l;){l=!1;for(var _=r.reduce((function(e,n){return Math.max(e,n.y)}),0),R=function(e){if(!r.some((function(n){return n.y===e})))return r.filter((function(n){return n.y>e})).forEach((function(e){return e.y-=1})),l=!0,"break"},T=0;T<_;T++){if("break"===R(T))break}}return{boxes:r,markers:[]}},m=function e(n,t,r){var i=n.indexOf(t),o=n.indexOf(r);if(!(i<=o)){n.splice(o,1),n.splice(i,0,r);var a,s=(0,u.Z)(r.children);try{for(s.s();!(a=s.n()).done;){e(n,r,a.value)}}catch(c){s.e(c)}finally{s.f()}}},v=function e(n,t,r){var i,o=[],a=[],s=(0,u.Z)(t.node.outputs);try{for(s.s();!(i=s.n()).done;){var c,l=i.value,d=(0,u.Z)(l.dependedBy);try{var h=function(){var e=c.value,i=r.nodes.find((function(n){return e.solid.name===n.name}));if(!i)return"continue";if(o.includes(i.name))return"continue";if((0,f.Gm)(i.name)&&o.filter((function(e){return(0,f.IL)(e)})).some((function(e){return(0,f.pr)(e)===(0,f.pr)(i.name)})))return"continue";o.push(i.name);var s=n.findIndex((function(e){return e.node===i})),u=void 0;-1===s?(u={children:[],key:i.name,node:i,state:void 0,width:p.nY,root:!1,x:0,y:-1},n.push(u),a.push(u)):(u=n[s],m(n,t,u)),t.children.push(u)};for(d.s();!(c=d.n()).done;)h()}catch(w){d.e(w)}finally{d.f()}}}catch(w){s.e(w)}finally{s.f()}for(var v=0,g=a;v<g.length;v++){var x=g[v];e(n,x,r)}},g=(r={},(0,s.Z)(r,d.TN.RUNNING,l.w.Blue700),(0,s.Z)(r,d.TN.RETRY_REQUESTED,l.w.White),(0,s.Z)(r,d.TN.SUCCEEDED,l.w.White),(0,s.Z)(r,d.TN.FAILED,l.w.White),(0,s.Z)(r,d.TN.SKIPPED,l.w.White),(0,s.Z)(r,d.TN.UNKNOWN,l.w.White),r),x=(i={},(0,s.Z)(i,d.TN.RUNNING,l.w.Blue100),(0,s.Z)(i,d.TN.RETRY_REQUESTED,l.w.Yellow500),(0,s.Z)(i,d.TN.SUCCEEDED,l.w.Green500),(0,s.Z)(i,d.TN.FAILED,l.w.Red500),(0,s.Z)(i,d.TN.SKIPPED,l.w.Gray500),(0,s.Z)(i,d.TN.UNKNOWN,l.w.Gray400),i),w=function(e,n){return n.metadata.startedPipelineAt||n.options.mode===p.hS.WATERFALL_TIMED?e&&e!==d.TN.PREPARING?{color:g[e]||l.w.White,background:x[e]||l.w.Gray400}:{color:l.w.Gray600,background:l.w.White,border:"1.5px dotted ".concat(l.w.Gray500)}:{background:"#2491eb"}},y=function(e,n,t){for(var r=function(r){var i=e[r],o=n.steps[i.node.name];if(!o)return Object.assign(i,t(i)),"continue";if(0===o.attempts.length)return Object.assign(i,t(i)),i.state=o.state,"continue";var s=[];o.attempts.forEach((function(e,n){s.push((0,a.Z)((0,a.Z)((0,a.Z)({},i),t(i,e,n)),{},{key:"".concat(i.key,"-").concat(s.length),state:e.exitState||d.TN.RUNNING}))}));for(var u=0;u<s.length-1;u++)s[u].children=[s[u+1]];s[s.length-1].children=i.children,Object.assign(i,s[0]),s.length>1&&e.splice.apply(e,[r,0].concat((0,c.Z)(s.slice(1))))},i=e.length-1;i>=0;i--)r(i)},E=function(e,n,t,r,i){var s=function(e){var n,t=e.boxes,r=e.markers,i=new WeakMap,o=r.map((function(e){return(0,a.Z)({},e)})),s=[],c=(0,u.Z)(t);try{for(c.s();!(n=c.n()).done;){var l=n.value,d=(0,a.Z)({},l);s.push(d),i.set(l,d)}}catch(f){c.e(f)}finally{c.f()}for(var p=0;p<t.length;p++)s[p].children=t[p].children.map((function(e){return i.get(e)}));return{boxes:s,markers:o}}(e),c=s.boxes,l=[];if(n.mode===p.hS.WATERFALL_TIMED){var d=t.startedPipelineAt||i,f=function(e){return p.Nw+(e-d)*r},h=function(e){var n=e.start,t=e.end;return Math.max(p.jZ,((t||i)-n)*r)};y(c,t,(function(e,n){return{x:n?f(n.start):0,width:n?h(n):p.nY}})),function(e,n){for(var t,r=e.filter((function(e){return 0===e.x})),i=function e(t,i){if(0===t.x){var o=r.indexOf(t);-1!==o&&r.splice(o,1)}t.x=Math.max(t.x,n,i);var a,s=t.x+t.width+p.gJ,c=(0,u.Z)(t.children);try{for(c.s();!(a=c.n()).done;){var l=a.value;l.x<s&&e(l,s)}}catch(d){c.e(d)}finally{c.f()}};t=r.shift();)i(t,n)}(c,f(i)+p.gJ),t.globalMarkers.forEach((function(e){void 0!==e.start&&l.push({key:"global:".concat(e.key),y:0,x:f(e.start),width:h({start:e.start,end:e.end})})})),Object.entries(t.steps).forEach((function(n){var t,r=(0,o.Z)(n,2),i=r[0],a=r[1],s=(0,u.Z)(a.markers);try{for(s.s();!(t=s.n()).done;){var c=t.value;if(void 0!==c.start){var d=e.boxes.find((function(e){return e.node.name===i}));d&&l.push({key:"".concat(i,":").concat(c.key),y:d.y,x:f(c.start),width:h({start:c.start,end:c.end})})}}}catch(p){s.e(p)}finally{s.f()}})),n.hideWaiting&&(c=c.filter((function(e){var n;return!(null===(n=t.steps[e.node.name])||void 0===n||!n.state)})))}else if(n.mode===p.hS.WATERFALL)y(c,t,(function(e,n,t){return{x:e.x+(t?(p.gJ+p.nY)*t:0),width:p.nY}}));else{if(n.mode!==p.hS.FLAT)throw new Error("Invalid mdoe ");y(c,t,(function(e,n,t){return{x:e.x+(t?(2+p.nY)*t:0),width:p.nY}}))}return{boxes:c,markers:l}},b=function(e,n){if(0!==n.boxes.length){var t=[],r=Object.keys(e.steps).filter((function(n){return e.steps[n].state===d.TN.FAILED})).map((function(e){return"+".concat(e)})).join(", ");r&&t.push({name:"Errors",value:r});var i=Object.keys(e.steps).filter((function(n){var t,r;return(null===(t=e.steps[n])||void 0===t?void 0:t.end)&&(null===(r=e.steps[n])||void 0===r?void 0:r.start)})).sort((function(n,t){return e.steps[t].end-e.steps[t].start-(e.steps[n].end-e.steps[n].start)})).slice(0,5).map((function(e){return'"'.concat(e,'"')})).join(", ");i&&t.push({name:"Slowest Individual Steps",value:i});var o=(0,c.Z)(n.boxes).filter((function(n){var t;return null===(t=e.steps[n.node.name])||void 0===t?void 0:t.end})).sort((function(e,n){return n.x+n.width-(e.x+e.width)}))[0];return o&&t.push({name:"Slowest Path",value:"*".concat(o.node.name)}),t}}},41080:function(e,n,t){t.d(n,{V:function(){return L},o:function(){return F}});var r,i=t(95764),o=t(922),a=t(34595),s=t(11831),u=t(7838),c=t(325),l=t(76341),d=t(53857),p=t(40355),f=t(57676),h=t(39151),m=t(99500),v=t(73701),g=t(3159),x=t(6466),w=t(75497),y=t(60652),E=t(32030),b=t(8546),C=t(74549),S=t(14156),N=t(79082),_=t(47678),R=t(59549),T=t(28064),I=t(55752),j=t(32289);function k(e){var n=e.tags.find((function(e){return e.key===T.H.StepSelection}));return n?n.value:"*"}var Z=function(e){var n,t=e.runId,r=e.runStatusLastChangedAt,i=(0,v.a)(A,{variables:{runId:t},notifyOnNetworkStatusChange:!0}),o=i.data,a=i.refetch;(0,_.C4)(i,_.dT),c.useEffect((function(){r&&a()}),[a,r]);var s=null===o||void 0===o?void 0:o.runGroupOrError;if(!s||"RunGroupNotFoundError"===s.__typename)return null;if("PythonError"===s.__typename)return(0,j.jsxs)(x.Z,{direction:"row",spacing:8,padding:8,children:[(0,j.jsx)(w.JO,{name:"warning",color:u.w.Yellow500}),(0,j.jsxs)("div",{style:{fontSize:"13px"},children:["The run group for this run could not be loaded."," ",(0,j.jsx)(y.Z,{color:u.w.Blue500,underline:"always",onClick:function(){(0,S._)({title:"Python error",body:s.message})},children:"View error"})]})]});if(1===(null===(n=s.runs)||void 0===n?void 0:n.length))return null;var l=[];(s.runs||[]).forEach((function(e){e&&"number"===typeof e.startTime&&l.push(e)}));var p=l.sort((function(e,n){return(e.startTime||0)-(n.startTime||0)}));return(0,j.jsx)(d.pC,{title:p[0]?"".concat(p[0].pipelineName," (").concat(p.length,")"):"",children:(0,j.jsx)(j.Fragment,{children:p.map((function(e,n){return e?(0,j.jsxs)(G,{to:"/runs/".concat(e.runId),selected:e.runId===t,children:[n<p.length-1&&(0,j.jsx)(D,{style:{height:36}}),(0,j.jsx)(E.x,{padding:{top:4},children:(0,j.jsx)(R.K9,{status:e.status})}),(0,j.jsxs)("div",{style:{flex:1,marginLeft:5,minWidth:0,color:u.w.Gray700},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,j.jsxs)(P,{children:[e.runId.split("-")[0],0===n&&O]}),(0,j.jsx)(I.Zr,{run:e})]}),(0,j.jsxs)("div",{style:{display:"flex",color:u.w.Gray700,justifyContent:"space-between"},children:[k(e),(0,j.jsx)(I.Tw,{run:e})]})]})]},e.runId):null}))})})},A=(0,g.Ps)(r||(r=(0,m.Z)(["\n  query RunGroupPanelQuery($runId: ID!) {\n    runGroupOrError(runId: $runId) {\n      __typename\n      ... on RunGroup {\n        rootRunId\n        runs {\n          id\n          ...RunGroupPanelRun\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment RunGroupPanelRun on Run {\n    id\n    runId\n    parentRunId\n    status\n    stepKeysToExecute\n    pipelineName\n    tags {\n      key\n      value\n    }\n    ...RunTimeFragment\n  }\n\n  ","\n  ","\n"])),N.B,I.$X),G=(0,o.ZP)(C.rU).withConfig({displayName:"RunGroupPanel__RunGroupRun",componentId:"tb4j34-0"})(["align-items:flex-start;background:",";padding:4px 6px 4px 24px;font-family:",";font-size:14px;line-height:20px;display:flex;position:relative;&:hover{text-decoration:none;background:",";}"],(function(e){return e.selected?u.w.Gray100:u.w.White}),b.b.monospace,(function(e){return e.selected?u.w.Gray100:u.w.Gray50})),D=o.ZP.div.withConfig({displayName:"RunGroupPanel__ThinLine",componentId:"tb4j34-1"})(["position:absolute;top:20px;width:1px;background:",";left:29px;z-index:2;"],u.w.Gray200),P=o.ZP.span.withConfig({displayName:"RunGroupPanel__RunTitle",componentId:"tb4j34-2"})(["color:",";font-weight:500;overflow:hidden;text-overflow:ellipsis;user-select:text;flex:1;"],u.w.Dark),O=(0,j.jsx)("span",{style:{borderRadius:2,fontSize:12,lineHeight:"14px",background:u.w.Gray300,color:u.w.White,padding:"0 4px",fontWeight:400,userSelect:"none",marginLeft:12},children:"ROOT"}),L=function(e){var n=e.runId,t=e.nowMs,r=e.metadata,i=e.selection,o=e.onClickStep,a=e.onDoubleClickStep,s=e.onHighlightStep,u=c.useMemo((function(){for(var e=[],n=[],t=[],i=[],o=0,a=Object.keys(r.steps);o<a.length;o++){var s=a[o];switch(r.steps[s].state){case p.TN.PREPARING:e.push(s);break;case p.TN.RUNNING:case p.TN.UNKNOWN:n.push(s);break;case p.TN.FAILED:t.push(s);break;case p.TN.SUCCEEDED:i.push(s)}}return{preparing:e,executing:n,errored:t,succeeded:i}}),[r]),l=u.preparing,f=u.executing,h=u.errored,m=u.succeeded,v=function(e){return(0,j.jsx)(z,{nowMs:t,name:e,metadata:r,selected:i.keys.includes(e),onClick:o,onDoubleClick:a,onHover:s},e)},g=(null===r||void 0===r?void 0:r.exitedAt)&&r.exitedAt>0;return(0,j.jsxs)("div",{style:{overflowY:"auto"},children:[(0,j.jsx)(Z,{runId:n,runStatusLastChangedAt:r.exitedAt||r.startedProcessAt||r.startedPipelineAt||0}),(0,j.jsx)(d.pC,{title:"".concat(g?"Not executed":"Preparing"," (").concat(l.length,")"),children:(0,j.jsx)("div",{children:0===l.length?(0,j.jsx)(K,{children:"No steps are waiting to execute"}):l.map(v)})}),(0,j.jsx)(d.pC,{title:"Executing (".concat(f.length,")"),children:(0,j.jsx)("div",{children:0===f.length?(0,j.jsx)(K,{children:"No steps are executing"}):f.map(v)})}),(0,j.jsx)(d.pC,{title:"Errored (".concat(h.length,")"),children:(0,j.jsx)("div",{children:0===h.length?(0,j.jsx)(K,{children:"No steps have errored"}):h.map(v)})}),(0,j.jsx)(d.pC,{collapsedByDefault:!0,title:"Succeeded (".concat(m.length,")"),children:(0,j.jsx)("div",{children:0===m.length?(0,j.jsx)(K,{children:"No steps have succeeded"}):m.map(v)})})]})},z=function(e){var n,t,r=e.nowMs,o=e.name,u=e.selected,c=e.metadata,d=e.onClick,m=e.onHover,v=e.onDoubleClick,g=c.steps[o],x=null!==(n=g.end)&&void 0!==n?n:r;return(0,j.jsxs)(U,{selected:u,onClick:function(e){return null===d||void 0===d?void 0:d(o,e)},onDoubleClick:function(){return null===v||void 0===v?void 0:v(o)},onMouseEnter:function(){return null===m||void 0===m?void 0:m(o)},onMouseLeave:function(){return null===m||void 0===m?void 0:m(null)},children:[g.state===p.TN.RUNNING?(0,j.jsx)(a.$,{purpose:"body-text"}):g.state===p.TN.UNKNOWN?(0,j.jsx)(s.u,{modifiers:{preventOverflow:{enabled:!1},flip:{enabled:!1}},position:"bottom",content:"Unknown step state. Run completed without step execution completion.",children:(0,j.jsx)(F,{children:"?"})}):(0,j.jsx)(F,{style:(0,i.Z)({},(0,h.HB)(null===(t=c.steps[o])||void 0===t?void 0:t.state,{metadata:c,options:{mode:f.hS.WATERFALL_TIMED}}))}),(0,j.jsx)(M,{children:o}),g.start&&(0,j.jsx)(W,{children:(0,l.fv)(x-g.start)})]},o)},M=o.ZP.div.withConfig({displayName:"GanttStatusPanel__StepLabel",componentId:"rrdi31-0"})(["overflow:hidden;text-overflow:ellipsis;flex:1;"]),U=o.ZP.div.withConfig({displayName:"GanttStatusPanel__StepItemContainer",componentId:"rrdi31-1"})(["display:flex;line-height:32px;height:32px;padding:0 14px 0 6px;gap:6px;align-items:center;border-bottom:1px solid ",";font-size:12px;"," &:hover{background:",";}"],u.w.KeylineGray,(function(e){return e.selected&&"background: ".concat(u.w.Gray100,";")}),u.w.Gray100),F=o.ZP.div.withConfig({displayName:"GanttStatusPanel__StepStatusDot",componentId:"rrdi31-2"})(["width:12px;height:12px;flex-shrink:0;border-radius:50%;text-align:center;line-height:12px;"]),W=o.ZP.div.withConfig({displayName:"GanttStatusPanel__Elapsed",componentId:"rrdi31-3"})(["color:",";font-variant-numeric:tabular-nums;"],u.w.Gray400),K=o.ZP.div.withConfig({displayName:"GanttStatusPanel__EmptyNotice",componentId:"rrdi31-4"})(["min-height:32px;font-size:12px;padding:8px 24px;color:",";"],u.w.Gray400)},53857:function(e,n,t){t.d(n,{pC:function(){return p},R8:function(){return h},M$:function(){return m},Pb:function(){return v},P3:function(){return g},JB:function(){return x}});var r=t(19065),i=t(922),o=t(77843),a=t(75497),s=t(8546),u=t(7838),c=t(325),l=t(76314),d=t(32289),p=function(e){var n=e.title,t=e.collapsedByDefault,i=e.children,s=(0,l.U)("sidebar-".concat(n),(function(e){return!0===e||!1===e?e:!t})),u=(0,r.Z)(s,2),p=u[0],h=u[1],m=c.useCallback((function(){h((function(e){return!e}))}),[h]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(w,{onClick:m,children:[(0,d.jsx)(f,{children:n}),(0,d.jsx)(a.JO,{size:24,name:"arrow_drop_down",style:{transform:p?"rotate(0)":"rotate(-90deg)"}})]}),(0,d.jsx)(o.UO,{isOpen:p,children:(0,d.jsx)("div",{children:i})})]})},f=i.ZP.div.withConfig({displayName:"SidebarComponents__SidebarTitleTextWrap",componentId:"rejkvt-0"})(["overflow:hidden;min-width:0;text-overflow:ellipsis;white-space:nowrap;"]),h=i.ZP.h3.withConfig({displayName:"SidebarComponents__SidebarTitle",componentId:"rejkvt-1"})(["font-family:",";font-size:16px;margin:0 0 12px;overflow:hidden;text-overflow:ellipsis;:first-child:last-child{margin-bottom:0;}"],s.b.monospace),m=i.ZP.h4.withConfig({displayName:"SidebarComponents__SectionHeader",componentId:"rejkvt-2"})(["font-family:",";font-size:16px;margin:2px 0 0 0;"],s.b.monospace),v=i.ZP.h4.withConfig({displayName:"SidebarComponents__SectionSmallHeader",componentId:"rejkvt-3"})(["font-family:",";font-size:14px;font-weight:500;margin:2px 0;"],s.b.monospace),g=i.ZP.div.withConfig({displayName:"SidebarComponents__SidebarSubhead",componentId:"rejkvt-4"})(["color:",";font-size:0.7rem;"],u.w.Gray400),x=i.ZP.div.withConfig({displayName:"SidebarComponents__SectionItemContainer",componentId:"rejkvt-5"})(["border-bottom:1px solid ",";margin-bottom:12px;padding-bottom:12px;font-size:0.8rem;&:last-child{border-bottom:none;margin-bottom:0;padding-bottom:0;}"],u.w.KeylineGray),w=i.ZP.div.withConfig({displayName:"SidebarComponents__CollapsingHeaderBar",componentId:"rejkvt-6"})(["height:32px;padding-left:24px;padding-right:8px;background:",";border-top:1px solid ",";border-bottom:1px solid ",";color:",";cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-size:12px;font-weight:700;user-select:none;"],u.w.White,u.w.KeylineGray,u.w.KeylineGray,u.w.Gray900)},6527:function(e,n,t){var r;t.d(n,{i:function(){return r},w:function(){return i}}),function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.CRITICAL="CRITICAL",e.EVENT="EVENT"}(r||(r={}));var i=["INFO","WARNING","ERROR","CRITICAL","EVENT"]},33650:function(e,n,t){t.d(n,{X2:function(){return C},Yw:function(){return S},E6:function(){return N},dE:function(){return _},pq:function(){return j},qH:function(){return Z}});var r=t(19065),i=t(16798),o=t(922),a=t(7838),s=t(8546),u=t(11831),c=t(57753),l=t(13816),d=t.n(l),p=t(41332),f=t.n(p),h=t(325),m=t(27601),v=t(74549),g=t(76341),x=t(76858),w=t(7489),y=t(6527),E=t(81912),b=t(32289),C=o.ZP.div.withConfig({displayName:"LogsRowComponents__Row",componentId:"sc-1hihxk4-0"})(["font-size:0.9em;width:100%;height:100%;max-height:17em;word-break:break-word;white-space:pre-wrap;font-family:",";display:flex;flex-direction:row;align-items:baseline;overflow:hidden;border-top:1px solid ",";background:",";&:hover{background:",";}color:",";"],s.b.monospace,a.w.KeylineGray,(function(e){var n=e.highlighted,t=e.level;return n?"#ffe39f":function(e){var n;return(n={},(0,i.Z)(n,y.i.DEBUG,a.w.White),(0,i.Z)(n,y.i.INFO,a.w.White),(0,i.Z)(n,y.i.EVENT,a.w.White),(0,i.Z)(n,y.i.WARNING,a.w.Yellow50),(0,i.Z)(n,y.i.ERROR,a.w.Red50),(0,i.Z)(n,y.i.CRITICAL,a.w.Red50),n)[e]}(t)}),(function(e){return e.highlighted?"#ffe39f":"white"}),(function(e){var n;return(n={},(0,i.Z)(n,y.i.DEBUG,a.w.Gray400),(0,i.Z)(n,y.i.INFO,a.w.Gray900),(0,i.Z)(n,y.i.EVENT,a.w.Gray900),(0,i.Z)(n,y.i.WARNING,a.w.Yellow700),(0,i.Z)(n,y.i.ERROR,a.w.Red500),(0,i.Z)(n,y.i.CRITICAL,a.w.Red500),n)[e.level]})),S=o.ZP.div.withConfig({displayName:"LogsRowComponents__StructuredContent",componentId:"sc-1hihxk4-1"})(["background:rgba(255,255,255,0.5);color:",";box-sizing:border-box;border-left:1px solid ",";word-break:break-word;white-space:pre-wrap;font-family:",";flex:1;align-self:stretch;display:flex;flex-direction:row;align-items:baseline;"],a.w.Gray900,a.w.KeylineGray,s.b.monospace),N=function(e){var n=h.useContext(E.D7),t=String(e.stepKey).split(".");return(0,b.jsx)(_,{style:{width:n.solid},children:e.stepKey?t.map((function(e,n){return(0,b.jsxs)("div",{"data-tooltip":e,"data-tooltip-style":R,style:{marginLeft:Math.max(0,15*n-9),fontWeight:n===t.length-1?600:300},children:[n>0?"\u21b3":"",e.length>30-2*n?"".concat(e.substr(0,16-2*n),"\u2026").concat(e.substr(e.length-14)):e]},n)})):"-"})},_=o.ZP.div.withConfig({displayName:"LogsRowComponents__OpColumnContainer",componentId:"sc-1hihxk4-2"})(["width:250px;flex-shrink:0;padding:4px 12px;"]),R=JSON.stringify({fontSize:"0.9em",fontFamily:s.b.monospace,color:a.w.Dark,background:a.w.White,border:"1px solid ".concat(a.w.Gray100),top:-8,left:1}),T=d()((function(e){return new Intl.DateTimeFormat(navigator.language,{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h23",timeZone:"Automatic"===e?(0,w.cw)():e})})),I=d()((function(e){return new Intl.NumberFormat(e,{minimumFractionDigits:3,maximumFractionDigits:3})})),j=h.memo((function(e){var n=e.time,t=e.runStartTime,i=e.stepStartTime,o=(0,m.TH)(),a=h.useContext(E.D7),l=h.useContext(x.JB),d=(0,r.Z)(l.timezone,1)[0],p="string"===typeof n&&"number"===typeof t,w="".concat(o.pathname,"?").concat(f().stringify({focusedTime:e.time})),y=(0,g.XA)(Number(n)-(t||0)),C=(0,g.XA)(Number(n)-(i||0));return(0,b.jsx)(k,{style:{width:a.timestamp},children:(0,b.jsx)(u.u,{canShow:p,content:(0,b.jsx)(c.nZ,{spacing:0,dark:!0,rows:[{key:"Since start of run",value:(0,b.jsx)("span",{style:{fontFamily:s.b.monospace,fontSize:"13px"},children:y})},i?{key:"Since start of step",value:(0,b.jsx)("span",{style:{fontFamily:s.b.monospace,fontSize:"13px"},children:C})}:null]}),placement:"left",children:(0,b.jsx)(v.rU,{to:w,children:function(){if(n){var e=Number(n),t=T(d).format(new Date(e)),r=e%1e3/1e3;return"".concat(t).concat(I(navigator.language).format(r).slice(1))}return""}()})})})})),k=o.ZP.div.withConfig({displayName:"LogsRowComponents__TimestampColumnContainer",componentId:"sc-1hihxk4-3"})(["flex-shrink:0;padding:4px 4px 4px 12px;a:link,a:visited,a:hover,a:active{color:",";}a:hover,a:active{text-decoration:underline;}"],a.w.Gray400),Z=function(e){var n=h.useContext(E.D7);return(0,b.jsx)(A,{style:{width:n.eventType},children:e.children})},A=o.ZP.div.withConfig({displayName:"LogsRowComponents__EventTypeColumnContainer",componentId:"sc-1hihxk4-4"})(["flex-shrink:0;color:",";padding:4px;"],a.w.Gray400)},81912:function(e,n,t){t.d(n,{D7:function(){return m},bu:function(){return v},h4:function(){return g},PM:function(){return x},Cr:function(){return w},gM:function(){return y}});var r=t(57994),i=t(98907),o=t(64428),a=t(28463),s=t(95764),u=t(922),c=t(7838),l=t(325),d=t(76314),p=t(32289),f="ColumnWidths",h=Object.assign({eventType:140,solid:150,timestamp:117},(0,d.n)(f)),m=l.createContext((0,s.Z)((0,s.Z)({},h),{},{onChange:function(e){}})),v=function(e){(0,o.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state=h,e.onWidthsChangedFromContext=function(n){window.localStorage.setItem(f,JSON.stringify(n)),e.props.onWidthsChanged(n),e.setState(n)},e}return(0,i.Z)(t,[{key:"render",value:function(){return(0,p.jsx)(m.Provider,{value:(0,s.Z)((0,s.Z)({},this.state),{},{onChange:this.onWidthsChangedFromContext}),children:this.props.children})}}]),t}(l.Component),g=function(e){(0,o.Z)(t,e);var n=(0,a.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).state={isDragging:!1,width:0,screenX:0},e.onMouseDown=function(n){var t=e.props.width;e.setState({isDragging:!0,screenX:n.screenX,width:t}),document.addEventListener("mousemove",e.onMouseMove),document.addEventListener("mouseup",e.onMouseUp)},e.onMouseMove=function(n){var t=e.props,r=t.onResize,i=t.handleSide,o=e.state,a=o.isDragging,s=o.width,u=o.screenX;if(n.screenX&&a&&r){var c="left"===i?-1:1;r(Math.max(40,s+(n.screenX-u)*c))}},e.onMouseUp=function(){e.state.isDragging&&e.setState({isDragging:!1}),document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp)},e}return(0,i.Z)(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function(){var e=!!this.props.onResize;return(0,p.jsxs)(y,{style:{width:this.props.width},children:[(0,p.jsx)(E,{onMouseDown:e?this.onMouseDown:void 0,isDraggable:e,isDragging:this.state.isDragging,side:this.props.handleSide||"right",children:(0,p.jsx)("div",{})}),(0,p.jsx)(b,{children:this.props.children})]})}}]),t}(l.Component),x=function(){var e=l.useContext(m);return(0,p.jsxs)(w,{children:[(0,p.jsx)(g,{width:e.timestamp,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{timestamp:n}))},children:"Timestamp"}),(0,p.jsx)(g,{width:e.solid,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{solid:n}))},children:"Op"}),(0,p.jsx)(g,{width:e.eventType,onResize:function(n){return e.onChange((0,s.Z)((0,s.Z)({},e),{},{eventType:n}))},children:"Event Type"}),(0,p.jsx)(y,{style:{flex:1},children:"Info"})]})},w=u.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeadersContainer",componentId:"sc-1br1l7w-0"})(["display:flex;color:",";text-transform:uppercase;font-size:12px;border-bottom:1px solid ",";z-index:2;"],c.w.Gray400,c.w.KeylineGray),y=u.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderContainer",componentId:"sc-1br1l7w-1"})(["flex-shrink:0;position:relative;user-select:none;display:inline-block;padding:0 12px;line-height:32px;"]),E=u.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderDragHandle",componentId:"sc-1br1l7w-2"})(["width:1px;height:20000px;position:absolute;cursor:",";z-index:2;"," padding:0 2px;& > div{width:1px;height:100%;background:",";}"],(function(e){return e.isDraggable?"ew-resize":"default"}),(function(e){return"right"===e.side?"right: -2px;":"left: -2px;"}),(function(e){return e.isDragging?c.w.Gray400:c.w.KeylineGray})),b=u.ZP.div.withConfig({displayName:"LogsScrollingTableHeader__HeaderLabel",componentId:"sc-1br1l7w-3"})(["overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"])},3660:function(e,n,t){t.d(n,{A:function(){return r}});var r=t(325).createContext(undefined)},40355:function(e,n,t){t.d(n,{TN:function(){return i},PG:function(){return h},co:function(){return m},jp:function(){return w},Nb:function(){return y}});var r,i,o=t(99500),a=t(47427),s=t(3159),u=t(325),c=t(69305),l=t(4735),d=t(3660),p=t(32289);!function(e){e.PREPARING="preparing",e.RETRY_REQUESTED="retry-requested",e.RUNNING="running",e.SUCCEEDED="succeeded",e.SKIPPED="skipped",e.FAILED="failed",e.UNKNOWN="unknown"}(i||(i={}));var f=[i.RETRY_REQUESTED,i.SUCCEEDED,i.FAILED,i.UNKNOWN],h={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}},m=function(e){var n={};return e.forEach((function(e){return n[e]={fileKey:e,stepKeys:[e]}})),n},v=function(e){return e?Math.floor(1e3*e):void 0};var g=function(e){switch(e){case c.SGm.SUCCESS:return i.SUCCEEDED;case c.SGm.FAILURE:return i.FAILED;case c.SGm.SKIPPED:return i.SKIPPED;default:return i.UNKNOWN}},x=function(e){return"EngineEvent"===e.__typename||"ResourceInitFailureEvent"===e.__typename||"ResourceInitStartedEvent"===e.__typename||"ResourceInitSuccessEvent"===e.__typename||"StepWorkerStartedEvent"===e.__typename||"StepWorkerStartingEvent"===e.__typename?e:null};var w=function(e){var n=e.logs,t=e.children,r=u.useContext(d.A),o=u.useMemo((function(){return function(e){var n={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}};return e?(e.startTime&&(n.startedPipelineAt=v(e.startTime)),e.endTime&&(n.exitedAt=v(e.endTime)),e.stepStats.forEach((function(e){n.steps[e.stepKey]={state:g(e.status),start:v(e.startTime),end:v(e.endTime),transitions:[],attempts:e.attempts.map((function(n,t){return{start:v(n.startTime),end:v(n.endTime),exitState:t===e.attempts.length-1?g(e.status):i.RETRY_REQUESTED}})),markers:e.markers.map((function(e,n){return{start:v(e.startTime),end:v(e.endTime),key:"marker_".concat(n)}}))}})),n):n}(r)}),[r]),s=u.useMemo((function(){return n.loading?o:function(e){var n={firstLogAt:0,mostRecentLogAt:0,globalMarkers:[],steps:{}},t=function(e,n){var t=e.find((function(e){return e.key===n&&!e.end}));return t||(t={key:n},e.unshift(t)),t},r=function(e,n,t){e.transitions.push({time:n,state:t}),e.state=t,e.attempts=[]};e.forEach((function(e){var o=Number.parseInt(e.timestamp,10);if(n.firstLogAt=n.firstLogAt?Math.min(n.firstLogAt,o):o,n.mostRecentLogAt=Math.max(n.mostRecentLogAt,o),"RunStartEvent"===e.__typename&&(n.startedPipelineAt=o),"RunFailureEvent"===e.__typename||"RunSuccessEvent"===e.__typename||"RunCanceledEvent"===e.__typename){n.exitedAt=o;for(var a=0,s=Object.values(n.steps);a<s.length;a++){var u=s[a];u.state===i.RUNNING&&r(u,o,i.UNKNOWN)}}if(!e.stepKey){var c=x(e);c&&(c.markerStart&&(t(n.globalMarkers,c.markerStart).start=o),c.markerEnd&&(t(n.globalMarkers,c.markerEnd).end=o))}if("LogsCapturedEvent"===e.__typename&&(n.logCaptureSteps||(n.logCaptureSteps={}),n.logCaptureSteps[e.fileKey]={fileKey:e.fileKey,stepKeys:e.stepKeys||[],pid:String(e.pid),externalUrl:e.externalUrl||void 0}),e.stepKey){var l=e.stepKey,d=n.steps[l]||{state:i.PREPARING,attempts:[],transitions:[{state:i.PREPARING,time:o}],start:void 0,end:void 0,markers:[]},p=x(e);if(p&&(p.markerStart&&(t(d.markers,p.markerStart).start=o),p.markerEnd&&(t(d.markers,p.markerEnd).end=o)),"ExecutionStepStartEvent"===e.__typename)r(d,o,i.RUNNING),d.start=o;else if("ExecutionStepSuccessEvent"===e.__typename)r(d,o,i.SUCCEEDED),d.end=Math.max(o,d.end||0);else if("ExecutionStepSkippedEvent"===e.__typename)r(d,o,i.SKIPPED);else if("ExecutionStepFailureEvent"===e.__typename)r(d,o,i.FAILED),d.end=Math.max(o,d.end||0);else if("ExecutionStepUpForRetryEvent"===e.__typename)r(d,o,i.RETRY_REQUESTED),r(d,o+1,i.PREPARING);else if("ExecutionStepRestartEvent"===e.__typename)r(d,o,i.RUNNING);else if("ObjectStoreOperationEvent"===e.__typename&&"CP_OBJECT"===e.operationResult.op)return;n.steps[l]=d}}));for(var o=0,s=Object.values(n.steps);o<s.length;o++){var u=s[o];u.transitions=u.transitions.sort((function(e,n){return e.time-n.time}));var c,l=null,d=(0,a.Z)(u.transitions);try{for(d.s();!(c=d.n()).done;){var p=c.value;l&&!l.end||p.state!==i.RUNNING||(l={start:p.time},u.attempts.push(l)),l&&f.includes(p.state)&&(l.end=p.time,l.exitState=p.state)}}catch(h){d.e(h)}finally{d.f()}}return n}(n.allNodes)}),[n,o]);return(0,p.jsx)(p.Fragment,{children:t(s)})},y=(0,s.Ps)(r||(r=(0,o.Z)(["\n  fragment RunMetadataProviderMessageFragment on DagsterRunEvent {\n    __typename\n    ... on MessageEvent {\n      message\n      timestamp\n      stepKey\n    }\n    ... on MarkerEvent {\n      markerStart\n      markerEnd\n    }\n    ... on ObjectStoreOperationEvent {\n      operationResult {\n        op\n        metadataEntries {\n          ...MetadataEntryFragment\n        }\n      }\n    }\n    ... on LogsCapturedEvent {\n      fileKey\n      stepKeys\n      pid\n      externalUrl\n    }\n  }\n\n  ","\n"])),l.it)},57094:function(e,n,t){t.d(n,{F:function(){return h}});var r,i=t(99500),o=t(922),a=t(73701),s=t(3159),u=t(32030),c=t(34595),l=(t(325),t(74549)),d=t(79082),p=t(12436),f=t(32289),h=function(e){var n=e.runId,t=(0,a.a)(m,{variables:{runId:n}});if(t.loading||!t.data)return(0,f.jsx)(v,{children:(0,f.jsx)(u.x,{padding:24,flex:{justifyContent:"center"},children:(0,f.jsx)(c.$,{purpose:"section"})})});var r=t.data.pipelineRunOrError;if("Run"!==r.__typename)return(0,f.jsx)(p.T,{error:r});if("RunStatsSnapshot"!==r.stats.__typename)return(0,f.jsx)(p.T,{error:r.stats});var i="/runs/".concat(n);return(0,f.jsxs)(v,{children:[(0,f.jsx)(l.rU,{to:"".concat(i,"?logs=type:STEP_SUCCESS"),children:"".concat(r.stats.stepsSucceeded," steps succeeded")}),(0,f.jsx)(l.rU,{to:"".concat(i,"?logs=type:STEP_FAILURE"),children:"".concat(r.stats.stepsFailed," steps failed")}),(0,f.jsx)(l.rU,{to:"".concat(i,"?logs=type:ASSET_MATERIALIZATION"),children:"".concat(r.stats.materializations," materializations")}),(0,f.jsx)(l.rU,{to:"".concat(i,"?logs=type:STEP_EXPECTATION_RESULT"),children:"".concat(r.stats.expectations," expectations passed")})]})},m=(0,s.Ps)(r||(r=(0,i.Z)(["\n  query RunStatsQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      __typename\n      ... on RunNotFoundError {\n        message\n      }\n      ... on Run {\n        id\n        runId\n        pipelineName\n        stats {\n          ... on RunStatsSnapshot {\n            id\n            stepsSucceeded\n            stepsFailed\n            expectations\n            materializations\n          }\n          ...PythonErrorFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"])),d.B),v=o.ZP.div.withConfig({displayName:"RunStats__RunStatsDetailsContainer",componentId:"sc-7pgndz-0"})(["min-width:200px;padding:12px;color:white;font-size:12px;& > a{display:block;}"])},59549:function(e,n,t){t.d(n,{hk:function(){return g},K9:function(){return x},O_:function(){return y}});var r,i,o=t(99500),a=t(95764),s=t(81034),u=t(922),c=t(762),l=t(34595),d=t(325),p=t(57094),f=t(37751),h=t(34653),m=t(32289),v=["runId"],g=d.memo((function(e){var n=e.runId,t=(0,s.Z)(e,v);return(0,m.jsx)(c.J,{position:"bottom",interactionKind:"hover",content:(0,m.jsx)(p.F,{runId:n}),hoverOpenDelay:100,children:(0,m.jsx)(x,(0,a.Z)({},t))})})),x=d.memo((function(e){var n=e.status,t=e.size;return"STARTED"===n?(0,m.jsx)(l.$,{purpose:"caption-text"}):"SCHEDULED"===n?(0,m.jsx)(y,{status:n,size:t||12}):(0,m.jsx)(y,{status:n,size:t||12,pulse:h.Ys.has(n)||h.sy.has(n)})})),w=(0,u.F4)(r||(r=(0,o.Z)(["\n  0% {\n    filter: brightness(1);\n  }\n\n  50% {\n    filter: brightness(0.7);\n  }\n\n  100% {\n    filter: brightness(1);\n  }\n"]))),y=u.ZP.div.withConfig({displayName:"RunStatusDots__RunStatusDot",componentId:"m2w7pp-0"})(["width:","px;height:","px;border-radius:","px;transition:filter 200ms linear;"," background:",";&:hover{animation:none;filter:brightness(0.7);}"],(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.size/2}),(function(e){return e.pulse?(0,u.iv)(i||(i=(0,o.Z)(["\n          animation: "," 2s infinite;\n        "])),w):null}),(function(e){var n=e.status;return f.YM[n]}))},37751:function(e,n,t){t.d(n,{fi:function(){return h},YM:function(){return m},KG:function(){return v},M9:function(){return g}});var r=t(7838),i=t(54268),o=t(32030),a=t(762),s=(t(325),t(76341)),u=t(69305),c=t(57094),l=t(59549),d=t(32289),p=function(e){switch(e){case u.VOA.QUEUED:case u.VOA.NOT_STARTED:case u.VOA.MANAGED:case u.VOA.CANCELING:return"none";case u.VOA.SUCCESS:return"success";case u.VOA.STARTING:return"none";case u.VOA.FAILURE:case u.VOA.CANCELED:return"danger";case u.VOA.STARTED:return"primary";default:return(0,s.UT)(e)}},f=function(e){switch(e){case u.VOA.QUEUED:return"Queued";case u.VOA.SUCCESS:return"Success";case u.VOA.STARTING:return"Starting";case u.VOA.NOT_STARTED:return"Not started";case u.VOA.FAILURE:return"Failure";case u.VOA.STARTED:return"Started";case u.VOA.MANAGED:return"Managed";case u.VOA.CANCELING:return"Canceling";case u.VOA.CANCELED:return"Canceled";default:return(0,s.UT)(e)}},h=function(e){switch(e){case u.VOA.CANCELED:case u.VOA.CANCELING:case u.VOA.FAILURE:return"Failed";case u.VOA.STARTING:case u.VOA.STARTED:return"In progress";case u.VOA.QUEUED:return"Queued";case u.VOA.SUCCESS:return"Completed";case u.VOA.MANAGED:case u.VOA.NOT_STARTED:return"Missing";default:return(0,s.UT)(e)}},m={QUEUED:r.w.Blue200,NOT_STARTED:r.w.Gray600,MANAGED:r.w.Gray400,STARTED:r.w.Blue500,STARTING:r.w.Blue500,SUCCESS:r.w.Green500,FAILURE:r.w.Red500,CANCELING:r.w.Red500,CANCELED:r.w.Red500,SCHEDULED:r.w.Blue200},v=function(e){var n=e.status;return(0,d.jsx)(i.V,{intent:p(n),children:(0,d.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,d.jsx)(l.K9,{status:n,size:10}),(0,d.jsx)("div",{children:f(n)})]})})},g=function(e){var n=e.runId,t=e.status;return(0,d.jsx)(a.J,{position:"bottom-left",interactionKind:"hover",content:(0,d.jsx)(c.F,{runId:n}),hoverOpenDelay:100,usePortal:!0,children:(0,d.jsx)(v,{status:t})})}},68156:function(e,n,t){t.d(n,{v:function(){return f}});var r=t(19065),i=t(922),o=t(75497),a=t(7838),s=t(11831),u=t(325),c=t(76858),l=t(70674),d=t(59180),p=t(32289),f=function(e){var n=e.timestamp,t=e.timezone,i=e.timeFormat,s=e.tooltipTimeFormat,l=u.useContext(c.JB),f=(0,r.Z)(l.timezone,1)[0],v=(0,r.Z)(l.hourCycle,1)[0],g=navigator.language,x=(0,d.j)({timestamp:{unix:n},locale:g,timezone:t||f,timeFormat:i,hourCycle:v});return(0,p.jsxs)("span",{children:[(0,p.jsx)(h,{style:{minWidth:0},title:x,children:x}),t&&t!==f?(0,p.jsx)(m,{placement:"top",content:(0,p.jsx)(h,{children:(0,d.j)({timestamp:{unix:n},locale:g,timezone:f,timeFormat:s})}),children:(0,p.jsx)(o.JO,{name:"schedule",color:a.w.Gray400,size:12})}):null]})};f.defaultProps={timeFormat:l._,tooltipTimeFormat:{showSeconds:!1,showTimezone:!0}};var h=i.ZP.span.withConfig({displayName:"TimestampDisplay__TabularNums",componentId:"sc-17rznt9-0"})(["font-variant-numeric:tabular-nums;"]),m=(0,i.ZP)(s.u).withConfig({displayName:"TimestampDisplay__TimestampTooltip",componentId:"sc-17rznt9-1"})(["cursor:pointer;position:relative;top:2px;margin-left:4px;"])},65164:function(e,n,t){t.d(n,{j:function(){return T}});var r=t(95764),i=t(19065),o=t(47427),a=t(922),s=t(7838),u=t(75497),c=t(32030),l=t(762),d=t(8412),p=t(88863),f=t(50346),h=t(11831),m=t(75453),v=t(90428),g=t.n(v),x=t(58891),w=t.n(x),y=t(325),E=t(74549),b=t(25496),C=t(92334),S=t(25582),N=t(32289),_=function(e,n){var t=n.length%3,r=e;if(0===n.length)return r;var i=n.map((function(e){return{incount:e.inputs.reduce((function(e,n){return e+n.dependsOn.length}),0),outcount:e.outputs.reduce((function(e,n){return e+n.dependedBy.length}),0),name:e.name}}));if(0===t){var o=i.sort((function(e,n){return n.outcount-e.outcount}))[0];r="".concat(r," (ex: ").concat(o.name,"+*)")}else if(1===t){var a=i.sort((function(e,n){return n.outcount-e.outcount}))[0];r="".concat(r," (ex: ").concat(a.name,"+)")}else if(2===t){var s=i.sort((function(e,n){return n.incount-e.incount}))[0];r="".concat(r," (ex: ++").concat(s.name,")")}return r},R=function(e){switch(e){case"danger":return s.w.Red500;case"success":return s.w.Green500;case"warning":return s.w.Yellow500;default:return s.w.Gray300}},T=y.memo(y.forwardRef((function(e,n){var t,a=y.useState(null),v=(0,i.Z)(a,2),g=v[0],x=v[1],T=y.useState(!1),Z=(0,i.Z)(T,2),A=Z[0],G=Z[1],D=y.useState(e.value),P=(0,i.Z)(D,2),O=P[0],L=P[1],z=y.useRef(null),M=e.flattenGraphsEnabled||!1;y.useEffect((function(){L(e.value)}),[e.value]);var U=/(\*?\+*)([\w\d\[\]>_\/-]+)(\+*\*?)$/.exec(O),F=U||[],W=(0,i.Z)(F,4),K=W[1],V=W[2],H=W[3],B=y.useMemo((function(){return function(e,n,t){var r,i=n.map((function(e){var n=e,t=n.definition&&"CompositeSolidDefinition"===n.definition.__typename;return{name:e.name,isGraph:t}})),a=(0,o.Z)(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;(0,C.IL)(s.name)&&i.push({name:(0,C.pr)(s.name),isGraph:s.isGraph})}}catch(l){a.e(l)}finally{a.f()}var u=null===e||void 0===e?void 0:e.toLowerCase(),c=u&&!t?w()(i).sort().filter((function(e){return e.name.toLowerCase().startsWith(u)})):[];return 1===c.length&&c[0].name.toLowerCase()===u?[]:c}(V,e.items,H)}),[V,e.items,H]),J=function(e){var n=U?O.substr(0,U.index):"";L(n+K+'"'.concat(e,'"')+H)};y.useEffect((function(){if(g){var e=B.map((function(e){return e.name})).findIndex((function(e){return e===g.text})),n=-1!==e?e:g.idx;if(n=Math.max(0,Math.min(B.length-1,n)),B[n]){var t=B[n].name;n===g.idx&&t===g.text||x({text:t,idx:n})}}}),[g,B]),y.useImperativeHandle(n,(function(){return{focus:function(){z.current&&z.current.focus()}}}));var Y=y.useRef(null);y.useEffect((function(){var e=function(e){var n=Y.current,t=z.current,r=e.target;if(M&&null!=n&&null!=t&&r instanceof Node){var i=n.contains(r);G(i),t.contains(r)&&t.focus()}};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[M]);var Q=(O||"*")!==(e.value||"*"),$=e.flattenGraphs?"!":"",X=e.linkToPreview&&(0,N.jsxs)(j,{$hasWrap:M,children:["".concat((0,b.V)(e.items,O).all.length," matching ops"),(0,N.jsxs)(E.rU,{target:"_blank",style:{display:"flex",alignItems:"center",gap:4},onMouseDown:function(e){return e.currentTarget.click()},to:(0,S.jT)((0,r.Z)((0,r.Z)({},e.linkToPreview),{},{pipelineName:"".concat(e.linkToPreview.pipelineName,"~").concat($).concat(O)})),children:["Graph Preview ",(0,N.jsx)(u.JO,{color:s.w.Link,name:"open_in_new"})]})]});return(0,N.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,N.jsx)(l.J,{enforceFocus:!M,isOpen:A,position:e.popoverPosition||"top-left",content:B.length?(0,N.jsx)(d.v2,{style:{width:e.width||"24vw"},children:B.slice(0,15).map((function(e){return(0,N.jsx)(d.sN,{icon:e.isGraph?"job":"op",text:e.name,active:!!g&&g.text===e.name,onMouseDown:function(n){n.preventDefault(),n.stopPropagation(),J(e.name)}},e.name)}))}):(0,N.jsx)("div",{}),children:(0,N.jsxs)("div",{style:{position:"relative"},ref:Y,children:[(0,N.jsx)(p.oi,{disabled:e.disabled,value:O,icon:"op_selector",strokeColor:R(e.intent),autoFocus:e.autoFocus,placeholder:_(e.placeholder,e.items),onChange:function(n){L(n.target.value),e.autoApplyChanges&&e.onChange(n.target.value)},onFocus:function(){var n;M||G(!0),null===(n=e.onFocus)||void 0===n||n.call(e)},onBlur:function(){var n;M||G(!1),e.onChange(O),null===(n=e.onBlur)||void 0===n||n.call(e,O)},onKeyDown:function(n){var t;"Enter"!==n.key&&"Return"!==n.key&&"Tab"!==n.key||(g&&g.text?(J(g.text),n.preventDefault(),n.stopPropagation()):n.currentTarget.blur(),x(null));var r={ArrowDown:1,ArrowUp:-1}[n.key];if(r&&B.length>0){n.preventDefault();var i=(g?g.idx:-1)+r;i=Math.max(0,Math.min(i,B.length-1)),x({text:B[i].name,idx:i})}null===(t=e.onKeyDown)||void 0===t||t.call(e,n)},style:{width:e.width||"24vw",paddingRight:A&&Q?55:""},className:e.className,ref:z}),A&&Q&&(0,N.jsx)(k,{children:"Enter"}),A&&e.linkToPreview&&(M?(0,N.jsxs)(I,{children:[(0,N.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,N.jsx)(f.X,{label:"Flatten subgraphs",checked:null!==(t=e.flattenGraphs)&&void 0!==t&&t,onChange:function(){var n;null===(n=e.setFlattenGraphs)||void 0===n||n.call(e)},format:"switch"}),(0,N.jsx)(h.u,{content:"Flatten subgraphs to select ops within nested graphs",placement:"right",children:(0,N.jsx)(u.JO,{name:"info",color:s.w.Gray500})})]}),X]}):X)]})}),e.presets&&(e.presets.find((function(e){return e.value===O}))?(0,N.jsx)(m.zx,{icon:(0,N.jsx)(u.JO,{name:"layers"}),rightIcon:(0,N.jsx)(u.JO,{name:"cancel"}),onClick:function(){return e.onChange("*")},intent:"none"}):(0,N.jsx)(l.J,{position:"top",content:(0,N.jsx)(d.v2,{children:e.presets.map((function(n){return(0,N.jsx)(d.sN,{text:n.name,onMouseDown:function(t){t.preventDefault(),t.stopPropagation(),e.onChange(n.value)}},n.name)}))}),children:(0,N.jsx)(m.zx,{icon:(0,N.jsx)(u.JO,{name:"layers"}),rightIcon:(0,N.jsx)(u.JO,{name:"expand_less"}),intent:"none"})}))]})})),(function(e,n){return e.items===n.items&&e.width===n.width&&e.value===n.value&&g()(e.presets,n.presets)})),I=a.ZP.div.withConfig({displayName:"GraphQueryInput__OpInfoWrap",componentId:"sc-103wxn4-0"})(["width:350px;padding:10px 16px 10px 16px;display:flex;align-items:baseline;justify-content:space-between;position:absolute;top:100%;margin-top:2px;font-size:0.85rem;background:",";color:",";box-shadow:1px 1px 3px rgba(0,0,0,0.2);z-index:2;left:0;"],s.w.White,s.w.Gray600),j=(0,a.ZP)(I).withConfig({displayName:"GraphQueryInput__OpCountWrap",componentId:"sc-103wxn4-1"})(["margin-top:","px;"],(function(e){return e.$hasWrap?0:2})),k=a.ZP.div.withConfig({displayName:"GraphQueryInput__EnterHint",componentId:"sc-103wxn4-2"})(["position:absolute;right:6px;top:5px;border-radius:5px;border:1px solid ",";background:",";font-weight:500;font-size:12px;color:",";padding:2px 6px;"],s.w.Gray500,s.w.White,s.w.Gray500)},87011:function(e,n,t){t.d(n,{h:function(){return c}});t(325);var r=t(67831),i=t(75453),o=t(7838),a=t(75497),s=t(11831),u=t(32289),c=function(e){var n=e.activeItems,t=e.buttons,c=e.onClick;return(0,u.jsx)(i.zH,{children:t.map((function(e){var t=e.id,i=e.icon,l=e.label,d=e.tooltip,p=null===n||void 0===n?void 0:n.has(t),f=(0,u.jsx)(r.Y,{fillColor:p?o.w.Gray200:o.w.White,textColor:p?o.w.Gray900:o.w.Gray700,icon:i?(0,u.jsx)(a.JO,{name:i,color:p?o.w.Gray900:o.w.Gray700}):null,label:l,onClick:function(e){return c(t,e)}},t);return d?(0,u.jsx)(s.u,{content:d,position:"top",children:f},t):f}))})}},42413:function(e,n,t){t.d(n,{iR:function(){return p},kp:function(){return f}});var r,i=t(99500),o=t(95764),a=t(81034),s=t(922),u=t(77843),c=(t(325),t(7838)),l=t(32289),d=["fillColor"],p=function(e){var n=e.fillColor,t=void 0===n?c.w.Gray600:n,r=(0,a.Z)(e,d);return(0,l.jsx)(h,(0,o.Z)((0,o.Z)({},r),{},{intent:"none",$fillColor:t}))};u.Zz.Handle;var f=(0,s.iv)(r||(r=(0,i.Z)(["\n  .bp4-slider-track {\n    height: 8px;\n    .bp4-slider-progress {\n      background-color: ",";\n      opacity: 0.2;\n      height: 8px;\n    }\n    .bp4-slider-progress.bp4-intent-primary {\n      background-color: ",";\n      opacity: 1;\n      height: 8px;\n    }\n  }\n  &.bp4-vertical .bp4-slider-track,\n  &.bp4-vertical .bp4-slider-track .bp4-slider-progress {\n    height: initial;\n    width: 8px;\n  }\n  .bp4-slider-handle {\n    width: 18px;\n    height: 18px;\n    border-radius: 50%;\n    border: 2px solid ",";\n    background: ",";\n    box-shadow: none;\n    &:hover {\n      border: 2px solid ",";\n      box-shadow: rgba(0, 0, 0, 0.12) 0px 2px 12px 0px;\n    }\n\n    .bp4-slider-label {\n      background: ",";\n      box-shadow: 0 1px 4px rgba(0,0,0,0.15)\n      padding: 4px 8px;\n    }\n  }\n"])),(function(e){return e.$fillColor}),(function(e){return e.$fillColor}),c.w.Gray300,c.w.White,c.w.Gray400,c.w.Gray900),h=((0,s.ZP)(u.Zz).withConfig({displayName:"Slider__StyledMultiSlider",componentId:"sc-1nudt3n-0"})(["",""],f),(0,s.ZP)(u.iR).withConfig({displayName:"Slider__StyledSlider",componentId:"sc-1nudt3n-1"})(["",""],f))},17912:function(e,n,t){t.d(n,{OS:function(){return m},jo:function(){return g},Uj:function(){return x}});var r=t(19065),i=t(57994),o=t(98907),a=t(64428),s=t(28463),u=t(922),c=t(325),l=t(75453),d=t(87011),p=t(7838),f=t(75497),h=t(32289),m=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(e){var r;(0,i.Z)(this,t),(r=n.call(this,e)).onChangeSize=function(e){r.setState({size:e}),window.localStorage.setItem(r.state.key,"".concat(e))};var o="dagit.panel-width.".concat(r.props.identifier),a=window.localStorage.getItem(o),s=Number(a);return(null===a||isNaN(s))&&(s=r.props.firstInitialPercent),r.state={size:s,key:o,resizing:!1},r}return(0,o.Z)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.firstMinSize,r=n.first,i=n.second,o=this.state,a=o.size,s=o.resizing,u=this.props.axis||"horizontal",c={flexShrink:0},l=i?a:100;return"horizontal"===u?(c.minWidth=t,c.width="calc(".concat(l,"% - ").concat(2,"px)")):(c.minHeight=t,c.height="calc(".concat(l,"% - ").concat(2,"px)")),(0,h.jsxs)(E,{axis:u,id:"split-panel-container",resizing:s,children:[(0,h.jsx)("div",{className:"split-panel",style:c,children:r}),(0,h.jsx)(v,{axis:u,resizing:s,onSetResizing:function(n){return e.setState({resizing:n})},onMove:this.onChangeSize}),(0,h.jsx)("div",{className:"split-panel",style:{flex:1},children:i})]})}}]),t}(c.Component),v=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).ref=c.createRef(),e.onMouseDown=function(n){n.preventDefault(),e.props.onSetResizing(!0);var t=function(n){var t,r=null===(t=e.ref.current)||void 0===t?void 0:t.closest("#split-panel-container");if(r){var i=r.getBoundingClientRect(),o="horizontal"===e.props.axis?100*(n.clientX-i.left)/i.width:100*(n.clientY-i.top)/i.height;e.props.onMove(Math.min(100,Math.max(0,o)))}};document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function n(){e.props.onSetResizing(!1),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}))},e}return(0,o.Z)(t,[{key:"render",value:function(){var e=w[this.props.axis],n=y[this.props.axis];return(0,h.jsx)(e,{resizing:this.props.resizing,ref:this.ref,children:(0,h.jsx)(n,{onMouseDown:this.onMouseDown})})}}]),t}(c.Component),g=function(e){var n=e.container,t=e.axis;return(0,h.jsx)(d.h,{buttons:[{id:"first-pane",icon:"vertical"===t?"panel_show_top":"panel_show_left",tooltip:"vertical"===t?"Show only top pane":"Show only left pane"},{id:"split",icon:"panel_show_both",tooltip:"Show both panes"},{id:"second-pane",icon:"vertical"===t?"panel_show_bottom":"panel_show_right",tooltip:"vertical"===t?"Show only bottom pane":"Show only right pane"}],onClick:function(e){var t,r=50;"first-pane"===e?r=100:"second-pane"===e&&(r=0),null===(t=n.current)||void 0===t||t.onChangeSize(r)}})},x=function(e){var n,t=e.container,i=e.axis,o=c.useState("unknown"),a=(0,r.Z)(o,2),s=a[0],u=a[1],d=((null===(n=t.current)||void 0===n?void 0:n.state.size)||0)<100,p=c.useState(d),m=(0,r.Z)(p,2),v=m[0],g=m[1];return c.useEffect((function(){return g(d)}),[d]),(0,h.jsx)(l.zx,{active:v,title:"Toggle second pane",icon:(0,h.jsx)(f.JO,{name:"horizontal"===i?v?"panel_hide_right":"panel_show_right":"panel_show_bottom"}),onClick:function(){if(t.current){var e=t.current.state.size;e<90?(u(e),g(!1),t.current.onChangeSize(100)):(g(!0),t.current.onChangeSize("unknown"===s?t.current.props.firstInitialPercent:s))}}})},w={horizontal:u.ZP.div.withConfig({displayName:"SplitPanelContainer__horizontal",componentId:"sc-1e9d8f9-0"})(["width:","px;z-index:1;background:",";margin-left:-1px;overflow:visible;position:relative;"],2,(function(e){return e.resizing?p.w.Gray400:p.w.KeylineGray})),vertical:u.ZP.div.withConfig({displayName:"SplitPanelContainer__vertical",componentId:"sc-1e9d8f9-1"})(["height:","px;z-index:1;background:",";margin-top:-1px;overflow:visible;position:relative;"],2,(function(e){return e.resizing?p.w.Gray400:p.w.KeylineGray}))},y={horizontal:u.ZP.div.withConfig({displayName:"SplitPanelContainer__horizontal",componentId:"sc-1e9d8f9-2"})(["width:17px;height:100%;z-index:1;cursor:ew-resize;position:relative;left:-8px;"]),vertical:u.ZP.div.withConfig({displayName:"SplitPanelContainer__vertical",componentId:"sc-1e9d8f9-3"})(["height:17px;width:100%;z-index:1;cursor:ns-resize;position:relative;top:-8px;"])},E=u.ZP.div.withConfig({displayName:"SplitPanelContainer__Container",componentId:"sc-1e9d8f9-4"})(["display:flex;overflow:hidden;flex-direction:",";flex:1 1;width:100%;min-width:0;min-height:0;.split-panel{position:relative;transition:"," 200ms ease-out;flex-direction:column;display:flex;min-",":0;z-index:0;}"],(function(e){return"vertical"===e.axis?"column":"row"}),(function(e){var n=e.axis;return e.resizing?"none":"horizontal"===n?"width":"height"}),(function(e){return"vertical"===e.axis?"height":"width"}))},8803:function(e,n,t){t.d(n,{S:function(){return u}});var r=t(95764),i=t(19065),o=t(81137),a=t.n(o),s=t(325),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=s.useRef(),t=s.useState({left:0,top:0}),o=(0,i.Z)(t,2),u=o[0],c=o[1],l=s.useState({width:0,height:0}),d=(0,i.Z)(l,2),p=d[0],f=d[1],h=e.initialOffset,m=s.useCallback((function(){if(n.current){var e,t=function(e){f({width:e.width,height:e.height});var t=n.current;if(t){var r=t.element;if(!t.__sized&&0!==e.width&&h){var i=h(r);r.scrollTop=i.top,r.scrollLeft=i.left,c(i),t.__sized=!0}}},r=n.current.element;return r instanceof HTMLElement&&("ResizeObserver"in window?(e=new window.ResizeObserver((function(e){e[0].target===r&&t({width:r.clientWidth,height:r.clientHeight})}))).observe(r):(console.warn("No ResizeObserver support, or useViewport is attached to a non-DOM node?"),t({width:r.clientWidth,height:r.clientHeight}))),function(){var n;null===(n=e)||void 0===n||n.disconnect()}}}),[h]);s.useEffect(m,[m]);var v=s.useRef(null),g=function(e){Math.floor(u.left)===e.currentTarget.scrollLeft&&Math.floor(u.top)===e.currentTarget.scrollTop||(v.current&&v.current.cancel(),c({left:e.currentTarget.scrollLeft,top:e.currentTarget.scrollTop}))},x=function(e,t){var r,i=null===(r=n.current)||void 0===r?void 0:r.element;if(i){var o=i.clientWidth,s=i.clientHeight;v.current&&(v.current.cancel(),v.current=null),e.left=Math.min(i.scrollWidth-o,Math.max(0,e.left)),e.top=Math.min(i.scrollHeight-s,Math.max(0,e.top));var l=function(){i.scrollTop=e.top,i.scrollLeft=e.left,c(e),v.current=null};t?v.current=a()(u,e,{step:function(e){i.scrollTop=e.top,i.scrollLeft=e.left,c({left:e.left,top:e.top})},done:l}):l()}},w=s.useCallback((function(e){var t;e!==(null===(t=n.current)||void 0===t?void 0:t.element)&&(n.current={element:e,__sized:!1},m())}),[m]);return{viewport:(0,r.Z)((0,r.Z)({},u),p),containerProps:{ref:w,onScroll:g},onMoveToViewport:x}}}}]);
//# sourceMappingURL=516.47112291.chunk.js.map